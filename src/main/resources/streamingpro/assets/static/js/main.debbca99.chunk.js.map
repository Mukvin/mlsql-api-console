{"version":3,"sources":["serviceWorker.js","v1/app_console/actions/SwitchAction.js","v1/UIMaker.js","v1/app_console/actions/CheckLoginedAction.js","v1/app_console/actions/AppConsoleReducer.js","v1/app_console/pages/ConsoleHeader.js","v1/app_setup/actions/app/RegisterAction.js","v1/app_console/login_register/actions/LoginAction.js","v1/app_console/login_register/actions/LoginRegisterReducer.js","v1/AlertBox.js","v1/app_console/login_register/Register.js","v1/app_console/login_register/Login.js","v1/service/CodeIntellegence.js","service/HTTPMethod.js","service/BackendConfig.js","user/MLSQLAuth.js","service/MLSQLAPI.js","common/tool.js","components/et/ButtonToCommand.js","v1/comp_op/EditorOp.js","v1/comp_op/ConsoleOp.js","v1/service/EngineService.js","v1/async_execute/AsyncExecuter.js","v1/async_execute/JobProgress.js","v1/async_execute/ResourceProgress.js","v1/app_console/pages/EngineSelectComp.js","components/MLSQLAceEditor.js","components/MLSQLQueryDisplay.js","components/upload/UploadDropZone.js","components/dash/MLSQLScatterChart.js","components/dash/MLSQLLineChart.js","components/dash/MLSQLStream.js","components/dash/MLSQLHTML.js","v1/async_execute/QueryHistory.js","components/query/MLSQLDash.js","components/notebook/CodeBlock.js","components/notebook/CommandGroup.js","components/notebook/service/Engine.js","components/notebook/DataTable.js","components/notebook/DisplayGroup.js","components/notebook/ExecuteUnit.js","components/notebook/NoteBook.js","common/LogMonitor.js","components/python/PythonACE.js","components/python/PythonEditor.js","components/editor/TabEditor.js","components/et/ETLoadParams.js","common/Tools.js","components/et/ETPopLoad.js","components/et/ETPopAlgorithm.js","components/et/ETPopSave.js","components/et/ETBaseTool.js","components/et/ETPopTool.js","components/et/ETPopDownload.js","components/et/ETPopScriptUDF.js","components/et/ETExample.js","components/et/ETRegister.js","components/et/ETStringIndex.js","components/et/ETDownloadFile.js","components/et/ETStreamProgress.js","components/et/ETPop.js","components/et/MLSQLETQuick.js","v1/detla_lake/DeltaLakeTree.js","v1/file_system/FileSystemTree.js","v1/analysis/common/CommonHandlers.js","v1/script_console/actions/OpenScriptFileAction.js","v1/script_console/actions/CreateFileAction.js","v1/script_console/actions/ExpandAction.js","v1/script_console/actions/DeleteFileAction.js","v1/script_console/actions/ScriptTreeReducer.js","service/MLSQLTreeBuilder.js","v1/SpinBox.js","v1/script_console/pages/ContextMenu.js","v1/script_console/ScriptTree.js","v1/async_execute/LeftTreePane.js","components/MLSQLQueryApp.js","common/mixin.js","v1/analysis/NewSessionOp.js","v1/analysis/AFileSystemTree.js","v1/analysis/ADeltaLakeTree.js","v1/analysis/WorkshopTableTree.js","v1/analysis/leftview.js","v1/analysis/WorkshopOp.js","v1/analysis/ApplyOrSave.js","v1/analysis/commonops/StationCommonOp.js","v1/analysis/join/SelectJoinField.js","v1/analysis/project/SelectFields.js","v1/analysis/join/SelectProjectFields.js","v1/analysis/join/SelectJoinTable.js","v1/analysis/join/JoinStation.js","v1/analysis/ColumnOperate.js","v1/analysis/FuncDesc.js","v1/analysis/ApplyFuncToField.js","v1/analysis/agg/AggStation.js","v1/analysis/agg/AggStationOp.js","v1/analysis/project/RenameFields.js","v1/analysis/project/FunctionField.js","v1/analysis/order/actions/RemoveFieldAction.js","v1/analysis/order/actions/AddFieldAction.js","v1/analysis/common/ApplyActionUtils.js","v1/analysis/project/actions/CastAction.js","v1/analysis/project/actions/CastFieldsReducer.js","v1/apply_save_rollback/actions/RollbackAction.js","v1/apply_save_rollback/actions/SaveAction.js","v1/apply_save_rollback/actions/ApplySaveRollbackReducer.js","v1/apply_save_rollback/ApplySaveRollback.js","v1/analysis/order/actions/OrderApplyAction.js","v1/analysis/order/actions/OrderStationReducer.js","v1/analysis/project/CastFields.js","v1/analysis/project/ProjectStation.js","v1/analysis/project/ProjectStationSQLOp.js","v1/analysis/filter/FilterCondition.js","v1/analysis/filter/Compare.js","v1/analysis/filter/GroupGroup.js","v1/analysis/filter/ApplyGroup.js","v1/analysis/filter/FilterStation.js","v1/analysis/order/OrderStation.js","v1/analysis/limit/actions/LimitApplyAction.js","v1/analysis/limit/actions/LimitStationReducer.js","v1/analysis/limit/LimitStation.js","v1/analysis/window/actions/BuildGroupAction.js","v1/analysis/window/actions/BuildOrderAction.js","v1/analysis/window/actions/BuildRowWindowsAction.js","v1/analysis/window/actions/WindowApplyAction.js","v1/analysis/window/actions/WindowStationReducer.js","v1/analysis/common/pages/SelectFieldsToOperate.js","v1/analysis/window/pages/BuildGroup.js","v1/analysis/window/pages/SetupGroupRowOrder.js","v1/analysis/window/pages/BuildWindowOnGroup.js","v1/analysis/common/pages/ApplyFunc.js","v1/analysis/window/pages/ApplyFunction.js","v1/analysis/window/WindowStation.js","v1/analysis/dash/actions/DashStationReducer.js","v1/analysis/dash/DashStation.js","v1/analysis/dash/pages/useDataConfig.js","v1/analysis/dash/pages/useDashConfig.js","v1/analysis/OperateStation.js","v1/analysis/RealTimeViewTable.js","v1/analysis/real_time_view_table/SearchOp.js","v1/analysis/real_time_view_table/DropdownMenuUI.js","v1/analysis/workshop.js","v1/analysis/WorkshopAutoSql.js","v1/analysis/WorkshopMessageOp.js","v1/analysis/WorkshopUIOp.js","v1/app_console/admin/actions/LRAction.js","v1/app_console/admin/actions/AdminSettingReducer.js","v1/app_console/admin/pages/LRSettings.js","v1/analysis/common/CrudTable.js","v1/app_console/admin/pages/Engines.js","v1/app_console/admin/AdminSetting.js","v1/analysis/common/pages/useUserConfig.js","v1/app_console/admin/pages/DefaultBackend.js","v1/app_console/admin/pages/ApplyTimeout.js","v1/analysis/common/pages/useIntegerStep.js","v1/app_console/admin/pages/Settings.js","v1/app_console/AppConsole.js","v1/app_setup/actions/app/AddEngineAction.js","v1/app_setup/actions/app/SkipAddEngineAction.js","v1/app_setup/actions/app/AppSetupReducer.js","v1/app_setup/pages/StepUserPassword.js","v1/app_setup/pages/AddEngines.js","v1/app/actions/go.js","v1/app/actions/AppReducer.js","v1/app_setup/pages/Done.js","v1/app_setup/app_setup.js","locale/zh_CN.js","App.js","index.js","v1/ActionMaker.js","backend_service/RemoteAction.js","backend_service/Dicts.js","backend_service/backend/Backend.js","backend_service/ActionProxy.js","v1/app_console/admin/actions/SetStateAction.js","backend_service/backend/RestConst.js"],"names":["Boolean","window","location","hostname","match","ActionMaker","buildHandler","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","action","client","wrap","_context","prev","next","data","currentPage","ActionProxy","post","RemoteAction","LOGOUT","sessionStorage","removeItem","AccessToken","name","abrupt","logined","stop","_x","apply","this","arguments","SwitchActionHandler","handler","SwitchAction","UIMaker","res","user","userName","content","role","extraOption","backendTags","token","resp","headers","get","setItem","JSON","stringify","Cookies","set","path","userStr","getItem","parse","e","formItemLayout","labelCol","xs","span","sm","wrapperCol","tailLayout","offset","__state","objectSpread","CheckLoginedActionHandler","CheckLoginedAction","AppConsoleActionNames","SWITCH","CHECK_LOGINED","AppConsoleHandlers","_AppConsoleHandlers","defineProperty","SetStateActionHandler","AppConsoleReducer","state","type","SetStateAction","SubMenu","Menu","ConsoleHeaderContext","React","createContext","ConsoleHeader","props","userLogined","isUserAdmin","dispacher","useContext","AppConsoleContext","_useState","useState","_useState2","slicedToArray","current","setCurrent","_useState3","_useState4","setLogined","_useState5","_useState6","isAdmin","setIsAdmin","_useState7","undefined","_useState8","leave","setLeave","tempCurrent","useRef","useEffect","react_default","createElement","Provider","Modal_default","title","visible","onCancel","onOk","buildEvent","cancelText","okText","es_alert","description","es_menu","onClick","key","selectedKeys","mode","Item","style","fontSize","divider","icon","LoginOutlined","message","id","SelectOutlined","HomeOutlined","AppstoreOutlined","SettingOutlined","MoreOutlined","LogoutOutlined","_action$data","password","password2","error","REGISTER","sent","status","msg","setupLogin","RegisterActionHandler","RegisterAction","LOGIN","LoginActionHandler","LoginAction","LoginRegisterActionNames","LoginRegisterHandlers","_LoginRegisterHandler","LoginRegisterReducer","AlertBoxW","styled","div","_templateObject","AlertBox","assign","closable","RegisterContext","initState","Register","appConsoleDispacher","_UIMaker$formLayout","formLayout1","_useReducerAsync","useReducerAsync","_useReducerAsync2","value","className","card","v1_AlertBox","es_form","onFinish","values","label","rules","required","input","Password","es_button","htmlType","LoginContext","Login","require","default","CodeIntellegence","sql","lineNum","columnNum","restClient","RUN","executeMode","isDebug","queryType","wordList","Method","GET","POST","PUT","Status","CREATE_SCRIPT_FILE","RUN_SCRIPT","FILE_UPLOAD","MLSQLAuth","classCallCheck","createClass","HTTP","callback","MLSQLAPI","request","apiResponse","then","s","catch","m","console","log","request2","json","str","_sCallBack","_errorCallBack","registerOrLogin","url","body","accessToken","serverError","uuidv4","ServerError","APIResponse","_this","process","jsonErr","jsonObj","params","successCallback","serverErrorCallback","ok","wow","fail","toString","auth","Auth","jobName","self","jsonRes","finalParams","owner","sessionPerUser","show_stack","skipAuth","tags","background","async","method","toUpperCase","formBody","property","encodedKey","encodeURIComponent","encodedValue","push","newurl","join","fetch","timeout","Content-Type","Accept","Access-Token","text","okFun","failFun","new_request","resStatus","extractMsg","err","assert","condition","Error","ButtonToCommand","makeSQL","EditorOp","comp","possibleConstructorReturn","getPrototypeOf","call","editor","getValue","selectionRange","getSelectionRange","session","getTextRange","ConsoleOp","consoleComp","inner","setValue","insert","row","getLength","column","p","getCursorPosition","focus","EngineService","runScript","concat","JOB_KILL","block","ANALYSIS_TABLES","tableName","ANALYSIS_TABLE_INFO","empty_res","currentJobIndex","totalJobs","progress","totalJob","res2","completedJobsNum","activeJobsNum","totalCores","activeTasks","AsyncExecuter","queryPanel","enterLoading","commandGroupRef","setState","loading","exitLoading","editorOp","getEditorOp","consoleOp","getConsoleOp","selectSQL","getSelection","getText","commandGroup","jobProgressRef","taskProgressRef","displayRef","queryApp","display","dashRef","dash","logInfo","closed","append","setText","update","startTime","Date","getTime","scriptId","SAVE_SCRIPT_FILE","prepare","engineName","measureTime","intervalTimer","setInterval","_callee2","_context2","_this2","monitorJob","monitorLog","queryHistory","reload","enter","clearInterval","exit","JOB_DETAIL","jobInfo","cancelMonitor","reason","response","setData","length","map","item","split","killJob","JobProgress","_ref2","executor","jobProgress","finalTime","timer","toFixed","parent","react","marginRight","build_default","ref","et","Minutes","formatValue","Seconds","percent","margin","ResourceProgress","resourceInfo","jobs","jobNum","filter","maxWidth","EngineSelectComp","setLoading","engine","setEngine","proxy","backend","ENGINE_LIST","useEngine","es_select","onChange","width","Option","Select","MLSQLAceEditor","aceEditorRef","executeSave","assertThisInitialized","saveFile","getAllText","getAceEditor","appendToEditor","insertAfterCursor","messageBox","getMessageBoxAceEditor","appendLog","getDashBoard","getDisplay","resourceProgressRef","etOver","evt","etRef","eventName","getData","popName","processType","pathAlias","tableHidden","pathHidden","outputTableHidden","outputTableAlias","tableAlias","etPop","language","cancelQuery","bind","executeQuery","parentCallback","staticWordCompleter","getCompletions","_getCompletions","pos","prefix","getSuggestList","word","desc","extra","caption","meta","_x2","_x3","_x4","_x5","completers","newValue","run","onDragOver","preventDefault","onDrop","re_resizable_lib","defaultSize","height","onResize","resize","lib_default","theme","showPrintMargin","showGutter","highlightActiveLine","editorProps","$blockScrolling","Infinity","setOptions","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets","showLineNumbers","tabSize","autoScrollEditorIntoView","MLSQLAceEditor_CommandGroup","JobProgress_JobProgress","MLSQLAceEditor_TaskProgress","CommandGroup","_this3","_this4","TaskProgress","_this5","setTimeout","taskCompute","api","BackendConfig","hasOwnProperty","jsonArray","_jsonObj","numTasks","numActiveTasks","numCompletedTasks","forEach","successPercent","resourceCompute","ReactMarkdown","MLSQLQueryDisplay","_React$Component","setRender","keyColumn","config","render","isPrototypeOf","substring","keys","basket","rows","dataIndex","index","new_item","columns","rowDoubleClick","event","view","enabled","disablePreview","tableStyle","inherits","es_table","onRow","onDoubleClick","dataSource","modal","OkText","source","baseStyle","borderWidth","borderColor","borderStyle","borderRadius","activeStyle","backgroundColor","rejectStyle","fileListStyle","UploadDropzone","files","req","file","attach","end","f","size","es","getDataTransferItems","fromEvent","getRootProps","getInputProps","isDragActive","isDragAccept","isDragReject","styles","acceptedFiles","rejectedFiles","Component","randomColor","generateColor","color","MLSQLThreeDimScatterChart","haveZ","dataTypeToItems","reduce","x","y","z","dataType","Map","_config","scatters","toConsumableArray","dataTypeConfig","fill","shape","recharts_es6","xConfig","dataKey","yConfig","zConfig","top","right","bottom","left","cursor","strokeDasharray","basicCheck","fun","isShouldRender","MLSQLLineChart","ys","stroke","MLSQLStream","renderStream","dataForRender","dataForRender2","jsonItem","moment","utc","timestamp","format","inputRowsPerSecond","processedRowsPerSecond","numInputRows","titleMap","isStream","renderRawData","MLSQLHTML","MLSQLHTML_MLSQLHTMLPanel","MLSQLHTMLPanel","refresh","sandbox","srcDoc","frameBorder","scrolling","ifr","QueryHistory","toggleDetail","showDetail","toggleResponse","showResponse","executeAgainStatus","defaultRender","record","currentTH","num","field","target","parentNode","cellIndex","t0","whiteSpace","wordWrap","renderConfig","_ref4","_callee4","_context4","t","cssStyle","__command__","runJob","_ref3","_callee3","_context3","JOB_LIST","processData","detailConsoleMessage","respDisplay","MLSQLQueryDisplay_MLSQLQueryDisplay","overflow","_display","marginBottom","Panel","Collapse","TabPane","Tabs","MLSQLDash","_PureComponent","isNormalXY","xYRender","renderDash","MLSQLStream_MLSQLStream","queryResData","collapse","header","tabs","defaultActiveKey","onTabClick","tab","ResourceProgress_ResourceProgress","UploadDropZone_UploadDropzone","QueryHistory_QueryHistory","PureComponent","CodeBlock","originalEditor","container","lineHeight","maxLines","initialCode","evtExecute","isExecute","executeUnit","execute","cancelExecute","spin","Engine","show_result","fail_result","newRunScript","code","DataTable","parseData","_this$parseData","_this$parseData2","_this$parseData3","_this$parseData4","DataTable_ReactMarkdown","DisplayGroup","displayData","errorMsg","displayTableRef","displayDashRef","displayDash","displayError","displayTable","DataTable_DataTable","ExecuteUnit","codeBlock","displayGroup","notebook","nextExecuteUnit","codeBlockIsEmpty","getCodeStr","CodeBlock_CodeBlock","CommandGroup_CommandGroup","DisplayGroup_DisplayGroup","CODE_SPLITTER","NodeBook","createNewExecuteUnit","ExecuteUnit_ExecuteUnit","addRef","instance","executeUnitRefs","slice","executeUnits","saveNoteBook","LogMonitor","_cancelQueryLog","_queryLog","cancelQueryLog","PythonACE","logMonitor","select","finalSQL","queryLog","runMode","ex","PythonACE_CommandGroup","PythonEditor","python_PythonACE","TabEditor","pushRef","myRefs","getCurrentEditor","activeKey","currentItem","panes","endsWith","displayEditor","onEdit","targetKey","addFull","tabName","newTabIndex","src_components_MLSQLAceEditor","NoteBook_NodeBook","PythonEditor_PythonEditor","add","getPaneIndexByActiveKey","lastIndex","pane","i","remove","editorRefList","closeEditor","TabEditor_TabPane","InputGroup","Input","Group","ETLoadParams","etPopLoad","compact","Tools","getTempTableName","replace","getJobName","escapeQuote","unQuote","startsWith","visitDown","tree","visit","children","visitUp","robotFetchParam","fetchType","includeSchema","robotFetchParamWithCollect","getField","v","distinct","arrays","tempF","fastCompareObject","deepCompareObject","arg1","arg2","leftChain","rightChain","compare2Objects","isNaN","RegExp","String","Number","constructor","prototype","indexOf","pop","ETPopLoad","componentDidMount","datasourcesRender","ETPopLoad_Option","getAttribute","sourceType","sourceTypeV","es_row","param","col","addonBefore","placeholder","loadParamsRef","pathV","tableNameV","makeMLSQL","paramsArray","k","rv","whereStr","etpop","ETPopLoad_InputGroup","showSearch","optionFilterProp","filterOption","option","toLowerCase","ignorePath","ignoreTableName","ETLoadParams_ETLoadParams","TextArea","ETPopAlgorithm","renderParam","temp","ETPopAlgorithm_InputGroup","ETPopSave","saveMode","saveModeV","partitionBy","partitionByV","fileNum","fileNumV","partitionByStr","fileNumStr","ETPopSave_Option","ETPopSave_InputGroup","ETBaseTool","ETBaseTool_TextArea","outputTableName","outputTableNameV","showTableName","ETBaseTool_InputGroup","showOutputTableName","pathNameForRender","showPathName","asStr","ETPopTool","_ETBaseTool","ETPopDownload","_ETPopTool","_getPrototypeOf2","_len","args","Array","_key","ETPopDownload_InputGroup","ETPopScriptUDF","udfName","udfNameV","dataTypeV","udfType","udfTypeV","codeV","langSelect","lang","codeCheckRef","checked","codeLang","setCodeExample","codeRef","codeExample","showDataType","ETPopScriptUDF_TextArea","showCode","switch_default","ETPopScriptUDF_Option","ETExample","etName","ETExample_Option","ETRegister","ETRegister_Option","ETStringIndex","sqlTrain","sqlBatchPredict","functionNameV","stripMargin","functionName","ETStringIndex_InputGroup","ETDownloadFile","link","document","href","appendChild","click","removeChild","ETStreamProgress","jobType","ETStreamProgress_Option","ETPop","disableEtModalVisible","etModalVisible","enableEtModalVisible","popChild","renderContent","ETPopLoad_ETPopLoad","ETPopSave_ETPopSave","ETPopDownload_ETPopDownload","ETStringIndex_ETStringIndex","ETDownloadFile_ETDownloadFile","ETExample_ETExample","ETStreamProgress_ETStreamProgress","ETPopScriptUDF_ETPopScriptUDF","ETRegister_ETRegister","ETPopTool_ETPopTool","ETPopAlgorithm_ETPopAlgorithm","MLSQLETQuick","itemData","onDragStart","renderPop","ETPop_ETPop","etDoubleClick","padding","MLSQLETQuick_Panel","gutter","tag_default","tyle","help","draggable","processtype","pathalias","tablehidden","pathhidden","outputtablehidden","outputtablealias","tablealias","TreeNode","Tree","DirectoryTree","DeltaLakeTree","dbs","tablesInDeltaLake","database","table","entries","TableOutlined","isLeaf","tip","spinning","show","FileSystemTree","getFileList","root","ls","_corrupt_record","isDir","is_dir","permission","onLoadData","treeNode","dataRef","renderTreeNodes","FileSystemTree_TreeNode","FileSystemTree_DirectoryTree","loadData","CommonHandlers","CommonActions","node","consoleApp","scriptFile","SCRIPT_FILE_GET","openExistsOrNewEditor","OpenScriptFileActionHandler","OpenScriptFileAction","createType","form","_action$data$scriptCo","scriptContent","_form$getFieldValue","fileName","saveParams","getFieldValue","createFileError","parentId","reloading","CreateFileActionHandler","CreateFileAction","expandedKeys","oldExpandedKeys","newExpanedKeys","newNoExpanedKeys","includes","element","isExpanded","ExpandActionHandler","ExpandAction","SCRIPT_FILE_REMOVE","DeleteFileActionHandler","DeleteFileAction","ScriptTreeActionNames","openScriptFile","createScriptFile","deleteScriptFile","expand","ScriptTreeHandlers","_objectSpread2","ScriptTreeActions","_objectSpread3","ScriptTreeReducer","MLSQLTreeNodeBuilder","build","list","tempMap","roots","childNodes","convert","cn","FolderOutlined","FileOutlined","SpinBoxW","SpinBox_templateObject","SpinBox","useContextMenu","contextMenuRef","onRender","rightClickNodeTreeItem","setRightClickNodeTreeItem","onRightClick","useCallback","clickX","clientX","clickY","clientY","contains","addEventListener","scroll","pageX","pageY","removeEventListener","ui","_rightClickNodeTreeIt","tmpStyle","zIndex","position","boxShadow","nodes","createTitle","operateModal","ScriptTreeContext","ScriptTree","_Form$useForm","Form","useForm","builder","treeRes","treeData","SCRIPT_FILE_LIST","sort","b","getList","_useContextMenu","FolderAddOutlined","FileAddOutlined","DeleteOutlined","popContextMenu","contextMenu","v1_SpinBox","ScriptTree_DirectoryTree","onExpand","autoExpandParent","expandAction","switcherIcon","DownOutlined","LeftTreePane","deltaLakeTreeRef","LeftTreePane_TabPane","DeltaLakeTree_DeltaLakeTree","FileSystemTree_FileSystemTree","fileSystemTreeRef","MLSQLQueryApp","script","fileToEditorMap","editorRef","editorGroup","tempFileToEditorMap","pre","tableAndDash","MLSQLDash_MLSQLDash","sqlContent","createRef","paddingRight","borderRight","LeftTreePane_LeftTreePane","leftTreePaneRef","MLSQLETQuick_MLSQLETQuick","TabEditor_TabEditor","MixinBuilder","superclass","mixins","c","mixin","mix","NewSessionOp","_superclass","_temp","toggleNewSession","showNewSession","currentTable","db","currentTableName","showTable","_this$state$currentTa","AnalysisWorkshop","workshop","newSession","AFileSystemTree","tp","options","loadPopRef","AFileSystemTree_DirectoryTree","with","ADeltaLakeTree","tableClick","ADeltaLakeTree_TreeNode","ADeltaLakeTree_DirectoryTree","WorkshopTableTree","tablesInWorkshop","sessionId","flatMap","WorkshopTableTree_TreeNode","WorkshopTableTree_DirectoryTree","LeftView","leftview_TabPane","WorkshopTableTree_WorkshopTableTree","workshopTableTreeRef","ADeltaLakeTree_ADeltaLakeTree","AFileSystemTree_AFileSystemTree","ApplyOrSave","applyLoading","tableLoading","showSaveDiagram","toggle","saveDiagram","handleTableInput","handlePersit","onSave","es_switch","onApply","disabled","onRollback","StationCommonOp","save","tableNameForSave","persistForSave","refreshOperateStation","refreshTableWorkshop","ApplyOrSaveRef","rollback","SelectJoinField","currentTableSchema","joinTable","joinStation","joinInfo","schema","tableInfo","currentTableFields","fields","joinTableFields","tableSchema","SelectJoinField_Option","SelectFields","inputValue","handleChange","targetKeys","getSelectFields","schemaFields","prevProps","transfer","SelectProjectFields","handleLeft","leftProjectFields","handleRight","rightProjectFields","reset","SelectFields_SelectFields","danger","SelectJoinTable","tables","SelectJoinTable_Option","Step","Steps","StepContent","JoinStation_templateObject","JoinStation","_this$joinInfo","joinType","leftField","rightField","tableRes","joinTableInfo","leftProjectFieldsStr","rightProjectFieldsStr","leftFieldStr","rightFieldStr","joinStr","projectStr","toggleMessage","currentStep","preview","steps","SelectJoinTable_SelectJoinTable","SelectJoinField_SelectJoinField","SelectProjectFields_SelectProjectFields","ApplyOrSave_ApplyOrSave","es_steps","ColumnOperate","ColumnOperate_ReactMarkdown","FuncDesc","func","funcValue","es_list","Meta","zhDoc","returnValue","parameters","footer","bordered","ApplyFuncToField","handleSearch","showFunctions","currentFunc","funcDescRef","handleOperateInput","manuallyTransform","isAggChecked","manuallyIsAgg","handleNewName","newFuncName","handleField","funcParams","showColumn","operateField","getTransform","isAgg","transformCode","columnName","agg","Math","random","funcPopUp","collect","d","ApplyFuncToField_Option","defaultActiveFirstOption","showArrow","onSearch","notFoundContent","FuncDesc_FuncDesc","defaultValue","AggStation","showAggFuncsAndApply","result","groupby","enableGroupByField","dataref","columnsRef","handleFunc","_this$applyFuncToFiel","applyFuncToFieldRef","generateProjectField","groupByFields","aggFields","ApplyFuncToField_ApplyFuncToField","ColumnOperate_ColumnOperate","fieldName","newName","newFields","getLastApplyTable","RenameFields","formRef","FunctionField","operateFileds","RemoveFieldActionHandler","RemoveFieldAction","AddFieldActionHandler","AddFieldAction","ApplyActionUtils","validateInput","genSQL","applySaveRollbackDispacher","newCastFields","oldFieldNames","selectStr","CastActionHandler","CastAction","CastFieldsActionNames","ADD_FIELD","REMOVE_FIELD","CastFieldsHandlers","CastFieldsReducer_objectSpread2","CastFieldsActions","CastFieldsReducer_objectSpread3","CastFieldsReducer","RollbackActionHandler","RollbackAction","_action$__state","saveTablePersisted","saveTableName","SaveActionHandler","SaveAction","ApplySaveRollbackHandlers","ApplySaveRollbackReducer","ApplySaveRollbackContext","ApplySaveRollback","parentDispacher","context","applyToken","orderStr","OrderApplyActionHandler","OrderApplyAction","OrderStationActionNames","OrderStationHandlers","_OrderStationHandlers","OrderStationActions","_OrderStationActions","OrderStationReducer","CastFieldsContext","CastFields","CastFields_Option","submit","marginTop","onDeselect","ProjectStation","ProjectStation_TabPane","onSelectApply","selectFieldsRef","onRenameApply","RenameFields_RenameFields","renameFieldsRef","onFuncApply","FunctionField_FunctionField","functionFieldRef","showInfo","isAggExists","currentFields","ExpressionConst","EQUAL","NON_EQUAL","IN","CONTAINS","STARTS_WITH","ENDS_WITH","LIKE","IS_NULL","IS_NOT_NULL","IS_EMPTY","IS_NOT_EMPTY","FilterCondition","compare","setCompare","inCandidate","setInCandidate","inCandidateLoading","setInCandidateLoading","forms","outputSize","layout","initialValue","Fragment","Compare","command","buildSelectedRows","fieldToDataType","_value$getFieldsValue","getFieldsValue","selectedRowKeys","addGroup","groupName","groupType","selectedRows","fitlerStation","conGroups","applyGroup","groupGroup","rowSelection","getCheckboxProps","onNonGroupFilterApply","GroupGroup","ApplyGroup","FilterStation","filterStr","buildCondition","onFilterApply","group","buildFilter","currentConditions","FilterStation_TabPane","Compare_Compare","ApplyGroup_ApplyGroup","GroupGroup_GroupGroup","items","conTemp","cond","con","IS_NOT_EMPT","buildExpression","OrderStationContext","OrderStation","OrderStation_Option","limitSize","limitStr","LimitApplyActionHandler","LimitApplyAction","LimitStationHandlers","LimitStationActions","LimitStationReducer","LimitStationContext","LimitStation","groupFields","BuildGroupActionHandler","BuildGroupAction","orderFields","BuildOrderActionHandler","BuildOrderAction","rowWindows","BuildRowWindowsActionHandler","BuildRowWindowsAction","_action$__state$resul","functions","orderBy","orderByStr","windowType","preceding","following","windowStr","precedingStr","followingStr","oldFields","WindowApplyActionHandler","WindowApplyAction","WindowStationActionNames","buildGroup","buildOrder","buildRowWindows","WindowStationHandlers","WindowStationReducer_objectSpread2","WindowStationActions","WindowStationReducer_objectSpread3","WindowStationReducer","useSelectFields","_props$enableApply","enableApply","fieldWrapper","selectFields","_props$selectFieldsLa","selectFieldsLabel","_props$selectFieldsMo","selectFieldsMode","operateFields","setOperateFields","setError","SelectFieldsToOperate_Option","commands","onClose","minWidth","BuildGroup","WindowStationContext","_useSelectFields","SetupGroupRowOrder","orderFieldsObj","BuildWindowOnGroup","selectFieldsName","ApplyFunction","_useFieldTransform","funcs","setFuncs","setCurrentFunc","fetchFuncs","ApplyFunc_Panel","mannualTransform","isMannualAgg","newFieldName","useFieldTransform","_getTransform","_getTransform2","resetFields","renderItem","typography","Text","WindowStation_templateObject","WindowStation","WindowStation_Step","WindowStation_StepContent","DashStationHandlers","DashStationActions","DashStationReducer","DashStationContext","DashStation","_useDataConfig","vType","setVtype","plugins","setPlugins","onFieldsChange","changeFields","useDataConfig","dataUi","dataForm","_useDashConfig","pluginConfigs","setPluginConfigs","imagePreview","setImagePreview","dist_default","src","useDashConfig","dashUi","dashForm","fetchDashPlugins","dashPlugins","PLUGIN_LIST","fetchPlugin","_scriptContent","analyzedScriptContent","PLUGIN_GET","pluginName","image","dataValues","dashValues","xColumn","yColumn","OperateStation","tabPosition","OperateStation_TabPane","ProjectStation_ProjectStation","FilterStation_FilterStation","analysis_join_JoinStation","AggStation_AggStation","DashStation_DashStation","RealTimeViewTable","getDefaultRender","getDefaultSearch","getColumnSearchProps","getDefaultTitleRender","dropdown","isDash","newColumns","searchText","searchedColumn","RealTimeViewTable_ReactMarkdown","filterDropdown","setSelectedKeys","confirm","clearFilters","searchInput","onPressEnter","space","SearchOutlined","handleReset","filterIcon","filtered","onFilter","onFilterDropdownVisibleChange","main_default","highlightStyle","searchWords","autoEscape","textToHighlight","dropdownStat","menu","BarChartOutlined","overlay","sqls","loadingTable","OperateStation_OperateStation","stationRef","es_result","subTitle","leftview_LeftView","showMessage","consoleMessage","showInfoMessage","infoMessage","operateStationView","RealTimeViewTable_RealTimeViewTable","dbPrefix","_res","whereBlock","_res$content","setCurrentTable","_x6","_x7","_x8","updateDisplay","_JSON$parse","APPLY_GET","_data","_schema","analysis_workshop_table_name","analysis_workshop_sql","persist","finalSql","persistJobName","extraParams","persistSQL","ANALYSIS_SAVE","_action$data$enableRe","enableRegister","_action$data$enableLo","enableLogin","APP_SAVE","login","register","applySuccess","LRActionHandler","LRAction","AdminSettingActionNames","LR_CONTROL","SET_STATE","AdminSettingHandlers","_AdminSettingHandlers","AdminSettingReducer","LRSettingsContext","LRSettings","_getAppInfo","appInfo","APP_INFO","getAppInfo","showIcon","defaultChecked","checkedChildren","unCheckedChildren","useCrudTable","createInitRow","externalSubmit","setSchema","setResult","_useState9","_useState10","editorMode","setEditorMode","_useState11","_useState12","_useDynamicList","useDynamicList","getKey","move","resetList","sortForm","submitNow","REG","fieldValue","matchFF","exec","pagination","react_drag_listview_es","onDragEnd","oldIndex","newIndex","handleSelector","rowKey","r","tempRow","createRow","debug","Engines","setReload","_useCrudTable","_submit","ENGINE_ADD","AdminSettingContext","AdminSetting","defaultSelectedKeys","defaultOpenKeys","AdminSetting_SubMenu","MailOutlined","useUserConfig","success","setSuccess","formItems","getParams","DefaultBackend","_useUserConfig","USER_EXTRA","updateUser","ApplyTimeout","_useIntegerStep","slider","min","max","input_number","useIntegerStep","timeoutUi","timoutValue","apply_timeout","Settings","setCurrentPage","Settings_SubMenu","AppConsole","Register_Register","src_components_MLSQLQueryApp","v1_analysis_workshop","AdminSetting_AdminSetting","textAlign","AddEngineActionHandler","AddEngineAction","SkipAddEngineActionHandler","SkipAddEngineAction","AppSetupActionNames","registerAdmin","addEngine","skipAddEngine","AppSetupReducerHandlers","_AppSetupReducerHandl","AppSetupReducer","StepUserPassword","AppSetupContext","AddEngines","requireField","AppConfiguredActionHandler","AppConfiguredAction","appConfigured","GoAdminActionHandler","GoAdminAction","GoConsoleActionHandler","GoConsoleAction","AppActionNames","GO_CONSOLE","GO_ADMIN","AppReducerHandlers","_AppReducerHandlers","AppReducer","Done","AppContext","AppSetupContainer","app_setup_templateObject","AppSetupHeader","_templateObject2","AppSetupBody","_templateObject3","AppSetup","page_header","app_setup_Step","pages_StepUserPassword","pages_AddEngines","pages_Done","zh_CN","analysis_workshop","settings","admin","more","set_default_backend","set_default_backend_error","set_engine","curent_value","choose","done","congratulation","set_timeout","set_apply_timeout","table_workshop","delta_lake","file_system","project","limit","order","select_columns","rename_columns","transform_columns","cast_columns_type","App","configured","provider","locale","messages","config_provider","AntZhCN","app_setup","AppConsole_AppConsole","ReactDOM","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister","eventCallBack","dispatch","getState","signal","_Volumes_Samsung_T5_projects_mlsql_web_console_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_Volumes_Samsung_T5_projects_mlsql_web_console_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","_Volumes_Samsung_T5_projects_mlsql_web_console_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","USER_NAME","GlobalParamNames","USER_ID","ADMIN_TOKEN","LOGIN_TOKEN","RestResponse","Backend","fetch_config","BACKEND_URL","_request","basic_config","final_config","_args","_userName","_runScript","_get","_post","_Volumes_Samsung_T5_projects_mlsql_web_console_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","DELETE"],"mappings":"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","file":"static/js/main.debbca99.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import ActionMaker from \"../../ActionMaker\"\nimport { ActionProxy } from \"../../../backend_service/ActionProxy\"\nimport RemoteAction from \"../../../backend_service/RemoteAction\"\nimport { AccessToken } from \"../../../backend_service/backend/RestConst\"\n\nexport const {handler:SwitchActionHandler,action:SwitchAction} = ActionMaker.buildHandler(async (action)=>{\n    if(action.data.currentPage === \"logout\"){\n        const client = new ActionProxy()\n        await client.post(RemoteAction.LOGOUT, {})        \n        sessionStorage.removeItem(AccessToken.name)\n        sessionStorage.removeItem(\"user\")\n        return {        \n            data: {\n                currentPage: \"admin\",\n                logined: false\n            }\n        }\n    }\n    return {        \n        data: {\n            currentPage: action.data.currentPage\n        }\n    }\n})","import * as React from 'react';\nimport Cookies from 'universal-cookie';\nimport { AccessToken } from '../backend_service/backend/RestConst';\nclass UIMaker {\n\n    static setupLogin(res) {  \n        const user = {userName:res.content.name, role:res.content.role,extraOption:res.content.backendTags}\n        const token = res.resp.headers.get(AccessToken.name)\n        sessionStorage.setItem(AccessToken.name, token)\n        sessionStorage.setItem(\"user\",JSON.stringify(user))\n        const cookies = new Cookies();\n        cookies.set(AccessToken.name, token, { path: '/' })\n    }\n    \n    static updateUser(res){\n        const user = {userName:res.content.name, role:res.content.role,extraOption:res.content.backendTags}\n        sessionStorage.setItem(\"user\",JSON.stringify(user)) \n    }\n\n    static extraOption(){\n        const userStr = sessionStorage.getItem(\"user\") \n        if(!userStr) return {}\n        try{\n            return JSON.parse(JSON.parse(userStr).extraOption)\n        }catch(e){\n            return {}\n        }\n        \n    }\n\n    static isAdmin(){\n        const userStr = sessionStorage.getItem(\"user\") \n        if(!userStr) return false\n        const user = JSON.parse(userStr)\n        if(user.role===\"admin\") return true\n        return false\n    }\n\n    static logined(){\n        if(sessionStorage.getItem(AccessToken.name)) {\n            return true\n        }\n        return false\n    }\n    static formLayout2() {\n        const formItemLayout = {\n            labelCol: {\n                xs: {\n                    span: 4,\n                },\n                sm: {\n                    span: 8,\n                },\n            },\n            wrapperCol: {\n                xs: {\n                    span: 4,\n                },\n                sm: {\n                    span: 8,\n                },\n            },\n        };\n        const tailLayout = {\n            wrapperCol: {\n                offset: 8,\n                span: 16,\n            },\n        };\n        return { formItemLayout, tailLayout } \n    }\n    static formLayout1() {\n        const formItemLayout = {\n            labelCol: {\n                xs: {\n                    span: 24,\n                },\n                sm: {\n                    span: 8,\n                },\n            },\n            wrapperCol: {\n                xs: {\n                    span: 24,\n                },\n                sm: {\n                    span: 16,\n                },\n            },\n        };\n        const tailLayout = {\n            wrapperCol: {\n                offset: 8,\n                span: 16,\n            },\n        };\n        return { formItemLayout, tailLayout }\n    }\n}\n\nexport default UIMaker","import UIMaker from \"../../UIMaker\"\nimport ActionMaker from \"../../ActionMaker\"\n\nexport const {handler:CheckLoginedActionHandler,action:CheckLoginedAction} = ActionMaker.buildHandler(async (action)=>{\n    let currentPage = \"workshop\"\n    if(action.__state.currentPage===\"register\" && !UIMaker.logined()){\n        currentPage = \"register\"\n    }\n    return {        \n        data: {\n            ...action.data,\n            logined: UIMaker.logined(),\n            currentPage\n        }\n    }\n})","import { SwitchAction, SwitchActionHandler } from \"./SwitchAction\";\nimport { CheckLoginedActionHandler, CheckLoginedAction } from \"./CheckLoginedAction\";\nimport { SetStateAction, SetStateActionHandler } from \"../admin/actions/SetStateAction\";\nclass AppConsoleActionNames {\n    static SWITCH = \"switch\"\n    static CHECK_LOGINED = \"checkLogined\"\n}\nconst AppConsoleHandlers = {\n    [AppConsoleActionNames.SWITCH]: SwitchActionHandler,\n    [AppConsoleActionNames.CHECK_LOGINED]: CheckLoginedActionHandler,\n    setState: SetStateActionHandler\n}\n\nfunction AppConsoleReducer(state, action) {\n    switch (action.type) {\n        case AppConsoleActionNames.SWITCH:\n            return SwitchAction(state, action.data)\n        case AppConsoleActionNames.CHECK_LOGINED:\n            return CheckLoginedAction(state, action.data)\n        case \"setState\":\n            return SetStateAction(state, action.data)\n        default:\n            return state;\n    }\n}\nexport { AppConsoleActionNames, AppConsoleReducer, AppConsoleHandlers }","import React, { useState, useCallback, useEffect, useContext, useRef } from 'react';\nimport { useReducerAsync } from 'use-reducer-async'\nimport { AppConsoleContext } from '../AppConsole';\nimport { Menu, Divider, Alert } from 'antd';\nimport { HomeOutlined, AppstoreOutlined, SettingOutlined, MoreOutlined, LogoutOutlined, SelectOutlined, LoginOutlined } from '@ant-design/icons';\nimport ActionMaker from '../../ActionMaker';\nimport { AppConsoleActionNames } from '../actions/AppConsoleReducer';\nimport UIMaker from '../../UIMaker';\nimport Modal from 'antd/lib/modal/Modal'\nimport { FormattedMessage  } from 'react-intl'; \nconst { SubMenu } = Menu;\n\nconst ConsoleHeaderContext = React.createContext()\n\nfunction ConsoleHeader(props) {\n    const { currentPage, userLogined, isUserAdmin } = props\n    const { dispacher } = useContext(AppConsoleContext)\n    const [current, setCurrent] = useState(currentPage)\n    const [logined, setLogined] = useState(userLogined)\n    const [isAdmin, setIsAdmin] = useState(isUserAdmin)\n    const [leave, setLeave] = useState(undefined)\n    const tempCurrent = useRef()\n\n    useEffect(() => {\n        const { currentPage, userLogined, isUserAdmin } = props\n        setCurrent(currentPage)\n        setLogined(userLogined)\n        setIsAdmin(isUserAdmin)\n    }, [props]);\n\n    return (\n        <ConsoleHeaderContext.Provider>\n            <Modal\n                title={\"Confirm\"}\n                visible={leave || false}\n                onCancel={() => { setLeave(undefined) }}\n                onOk={() => {\n                    setLeave(undefined)\n                    setCurrent(tempCurrent.current)\n                    dispacher(ActionMaker.buildEvent(\n                        AppConsoleActionNames.SWITCH, { currentPage: tempCurrent.current }\n                    ))\n                }}\n                cancelText=\"Cancel\"\n                okText=\"Leave\"\n            >\n                <Alert                    \n                    description={leave}\n                    type=\"info\"\n                />\n            </Modal>\n            <Menu onClick={(e) => {\n                if (logined && current === \"workshop\" && e.key !== \"workshop\") {\n                    tempCurrent.current = e.key\n                    setLeave(\"Do you wanna leave workshop? Please make sure you have saved your work before you leave.\")\n                } else {\n                    setCurrent(e.key)\n                    dispacher(ActionMaker.buildEvent(\n                        AppConsoleActionNames.SWITCH, { currentPage: e.key }\n                    ))\n                }\n\n            }} selectedKeys={[current]} mode=\"horizontal\">\n                <Menu.Item key=\"home\">\n                    <span style={{ fontSize: 32 }}>MLSQL Web Console</span>\n                </Menu.Item>\n                <Divider type=\"vertical\"></Divider>\n\n                {!logined && <Menu.Item key=\"login\" icon={<LoginOutlined />}>\n                    <FormattedMessage id=\"login\"/>\n                </Menu.Item>}\n                {!logined && <Menu.Item key=\"register\" icon={<SelectOutlined />}>\n                     <FormattedMessage id=\"register\"/>                    \n                </Menu.Item>}\n\n                {logined && <Menu.Item key=\"console\" icon={<HomeOutlined />}>\n                    <FormattedMessage id=\"console\"/>\n                </Menu.Item>}\n                {logined && <Menu.Item key=\"workshop\" icon={<AppstoreOutlined />}>\n                   <FormattedMessage id=\"analysis_workshop\"/>                    \n                </Menu.Item>}\n                {\n                    logined && <Menu.Item key=\"settings\" icon={<SettingOutlined />}>\n                        <FormattedMessage id=\"settings\"/>                    \n                </Menu.Item>\n                }\n                {\n                    logined && isAdmin && <Menu.Item key=\"admin\" icon={<SettingOutlined />}>\n                        <FormattedMessage id=\"admin\"/>\n                    </Menu.Item>\n                }\n                {\n                    logined && <SubMenu icon={<MoreOutlined />} title={<FormattedMessage id=\"more\"/>}>\n                        <Menu.Item key=\"doc\">中文文档</Menu.Item>\n                        <Menu.Item key=\"logout\" icon={<LogoutOutlined />}>Logout</Menu.Item>\n                    </SubMenu>\n                }\n            </Menu>\n        </ConsoleHeaderContext.Provider>\n    )\n}\nexport { ConsoleHeader, ConsoleHeaderContext }","import { ActionProxy } from \"../../../../backend_service/ActionProxy\"\nimport RemoteAction from \"../../../../backend_service/RemoteAction\"\nimport UIMaker from \"../../../UIMaker\"\nimport ActionMaker from \"../../../ActionMaker\"\n\nexport const {handler:RegisterActionHandler,action:RegisterAction} = ActionMaker.buildHandler(async(action)=>{\n        const { userName, password, password2 } = action.data        \n        if (password !== password2) {            \n            return {\n                data: {\n                    error: \"Passwords are not matched\"\n                }\n            }\n        }\n    \n        const client = new ActionProxy()\n        const res = await client.post(RemoteAction.REGISTER, {\n            userName, password\n        })\n    \n        let data = {}\n        if (res.status !== 200) {\n            data = {\n                error: JSON.parse(res.content).msg\n            }\n        } else { \n            //login                \n            UIMaker.setupLogin(res)\n            data = {\n                error: undefined, \n                logined: true,\n                current: action.__state.current + 1               \n            }\n        }\n        return {data}\n        \n})\n","import { ActionProxy } from \"../../../../backend_service/ActionProxy\"\nimport RemoteAction from \"../../../../backend_service/RemoteAction\"\nimport UIMaker from \"../../../UIMaker\"\nimport ActionMaker from \"../../../ActionMaker\"\n\nexport const {handler:LoginActionHandler,action:LoginAction} = ActionMaker.buildHandler(async (action)=>{\n    const client = new ActionProxy()\n    const res = await client.post(RemoteAction.LOGIN, action.data)\n    if (res.status !== 200) {\n        return {\n            data:{logined:false,error: JSON.parse(res.content).msg}\n            \n        }\n    }\n    UIMaker.setupLogin(res)\n    return {        \n        data:{logined:true}\n    }\n})","import { RegisterAction, RegisterActionHandler } from \"../../../app_setup/actions/app/RegisterAction\"\nimport { LoginAction, LoginActionHandler } from \"./LoginAction\"\n\nclass LoginRegisterActionNames {\n    static REGISTER = \"register\"\n    static LOGIN = \"login\"\n}\nconst LoginRegisterHandlers = {\n    [LoginRegisterActionNames.REGISTER]: RegisterActionHandler,\n    [LoginRegisterActionNames.LOGIN]: LoginActionHandler,\n}\n\nfunction LoginRegisterReducer(state, action) {\n    switch (action.type) {\n        case LoginRegisterActionNames.REGISTER:\n            return RegisterAction(state, action.data)\n        case LoginRegisterActionNames.LOGIN:\n            return LoginAction(state, action.data)\n        default:\n            return state;\n    }\n}\nexport { LoginRegisterActionNames, LoginRegisterReducer, LoginRegisterHandlers }","import React, { useState, useCallback, useEffect } from 'react';\n\nimport styled from 'styled-components'\nimport { Alert } from 'antd';\n\nconst AlertBoxW = styled.div`\n  width: 100%;    \n  margin: 0px 10px 10px 0px;\n`\nfunction AlertBox(props){\n    return <AlertBoxW>\n        <Alert {...props} closable type={props.type||\"error\"} message={props.title || \"Message\"} description={props.message}></Alert>\n    </AlertBoxW>\n}\n\nexport default AlertBox","import React, { useState, useCallback, useEffect, useContext } from 'react';\nimport { Steps, Divider, Alert, Input, Form, Card, Button } from 'antd';\nimport { useReducerAsync } from 'use-reducer-async'\nimport { AppConsoleContext } from '../AppConsole';\nimport UIMaker from '../../UIMaker';\nimport './Register.scss'\nimport { LoginRegisterActionNames, LoginRegisterReducer, LoginRegisterHandlers } from './actions/LoginRegisterReducer';\nimport { AppConsoleActionNames } from '../actions/AppConsoleReducer';\nimport { SetStateAction } from '../admin/actions/SetStateAction';\nimport AlertBox from '../../AlertBox';\n\n\nconst RegisterContext = React.createContext()\nconst initState = {\n    logined: false,\n    error: undefined\n}\nfunction Register() {\n    const { dispacher: appConsoleDispacher } = useContext(AppConsoleContext)\n    const { formItemLayout, tailLayout } = UIMaker.formLayout1()\n    const [state, dispacher] = useReducerAsync(LoginRegisterReducer, initState, LoginRegisterHandlers)\n\n    const { logined, error } = state\n\n    useEffect(() => {        \n        appConsoleDispacher({\n            type: AppConsoleActionNames.CHECK_LOGINED,\n            data: {}\n        })\n    }, [logined])\n\n    return (\n        <RegisterContext.Provider value={{}}>\n            <div className=\"app-console-main-register\">\n                <Card title=\"Register\">\n                    {\n                        error && <AlertBox type=\"error\" message={error}></AlertBox>\n                    }\n                    <Form {...formItemLayout} className=\"login-form\" onFinish={(values) => {\n                        dispacher({\n                            type: LoginRegisterActionNames.REGISTER,\n                            data: values\n                        })\n                    }}>\n                        <Form.Item\n                            label=\"UserName\"\n                            name=\"userName\"\n                            rules={[\n                                {\n                                    required: true,\n                                    message: 'Please input your username!',\n                                },\n                            ]}\n                        >\n                            <Input />\n                        </Form.Item>\n\n                        <Form.Item\n                            label=\"Password\"\n                            name=\"password\"\n                            rules={[\n                                {\n                                    required: true,\n                                    message: 'Please input your password!',\n                                },\n                            ]}\n                        >\n                            <Input.Password />\n                        </Form.Item>\n                        <Form.Item\n                            label=\"Repeated Password\"\n                            name=\"password2\"\n                            rules={[\n                                {\n                                    required: true,\n                                    message: 'Please input your password!',\n                                },\n                            ]}\n                        >\n                            <Input.Password />\n                        </Form.Item>\n                        <Form.Item {...tailLayout}>\n                            <Button type=\"primary\" htmlType=\"submit\">\n                                Go\n        </Button>\n                        </Form.Item>\n                    </Form>\n                </Card>\n            </div>\n        </RegisterContext.Provider>\n    )\n}\nexport { Register, RegisterContext }","import React, { useState, useCallback, useEffect, useContext } from 'react';\nimport { Steps, Divider, PageHeader, Input, Form, Card, Button } from 'antd';\nimport { useReducerAsync } from 'use-reducer-async'\nimport { AppConsoleContext } from '../AppConsole';\nimport UIMaker from '../../UIMaker';\nimport './Register.scss'\nimport { AppConsoleActionNames } from '../actions/AppConsoleReducer';\nimport { LoginRegisterReducer, LoginRegisterHandlers, LoginRegisterActionNames } from './actions/LoginRegisterReducer';\nimport ActionMaker from '../../ActionMaker';\nimport AlertBox from '../../AlertBox';\n\n\nconst initState = {\n    logined: false,\n    error: undefined\n}\n\nconst LoginContext = React.createContext()\n\nfunction Login() {\n    const { formItemLayout, tailLayout } = UIMaker.formLayout1()\n    const { dispacher: appConsoleDispacher } = useContext(AppConsoleContext)\n\n    const [state, dispacher] = useReducerAsync(LoginRegisterReducer, initState, LoginRegisterHandlers)\n    const { logined ,error} = state\n\n    useEffect(() => {\n        appConsoleDispacher({\n            type: AppConsoleActionNames.CHECK_LOGINED,\n            data: {\n                logined\n            }\n        })\n    }, [logined])\n\n    return (\n        <LoginContext.Provider>\n            <div className=\"app-console-main-register\">\n                <Card title=\"Login\">\n                    {\n                        error && <AlertBox type=\"error\" message={error}></AlertBox>\n                    }\n                    <Form {...formItemLayout} className=\"login-form\" onFinish={(values) => {\n                        dispacher(ActionMaker.buildEvent(LoginRegisterActionNames.LOGIN, values))\n                    }}>\n                        <Form.Item\n                            label=\"UserName\"\n                            name=\"userName\"\n                            rules={[\n                                {\n                                    required: true,\n                                    message: 'Please input your username!',\n                                },\n                            ]}\n                        >\n                            <Input />\n                        </Form.Item>\n\n                        <Form.Item\n                            label=\"Password\"\n                            name=\"password\"\n                            rules={[\n                                {\n                                    required: true,\n                                    message: 'Please input your password!',\n                                },\n                            ]}\n                        >\n                            <Input.Password />\n                        </Form.Item>\n                        <Form.Item {...tailLayout}>\n                            <Button type=\"primary\" htmlType=\"submit\">\n                                Go\n        </Button>\n                        </Form.Item>\n                    </Form>\n                </Card>\n            </div>\n        </LoginContext.Provider>\n    )\n}\nexport { Login, LoginContext }","const { ActionProxy } = require(\"../../backend_service/ActionProxy\");\nconst { default: RemoteAction } = require(\"../../backend_service/RemoteAction\");\n\nexport default class CodeIntellegence {\n     static async getSuggestList(sql,lineNum,columnNum){\n    \n    const restClient = new ActionProxy()\n\n    const res = await restClient.post(RemoteAction.RUN,{\n        executeMode: \"autoSuggest\",\n        sql: sql, \n        lineNum: lineNum +1,\n        columnNum: columnNum,\n        isDebug: false,\n        queryType: \"robot\" \n    })\n\n    if(res && res.status === 200){\n        const wordList = res.content\n        return wordList\n    }else {\n        return []\n    } \n   } \n}","export const Method = {\n    GET: \"get\",\n    POST: \"post\",\n    PUT: \"put\"\n}\n\nexport const Status = {\n    Success: 200,\n    BadRequest: 400,\n    Unauthorized: 401,\n    Forbidden: 404,\n    ServerError: 500\n}\n\nexport const AccessToken = {\n    name: \"access-token\"\n}\n","export const BACKEND_SERVER = \"\";\nexport const REGISTER_URL = BACKEND_SERVER + \"/api_v1/user/register\";\nexport const USERNAME_URL = BACKEND_SERVER + \"/api_v1/user/userName\";\nexport const USER_TAGS_UPDATE = BACKEND_SERVER + \"/api_v1/user/tags/update\";\nexport const USERS_URL = BACKEND_SERVER + \"/api_v1/users\";\nexport const LOGIN_URL = BACKEND_SERVER + \"/api_v1/user/login\";\nexport const CREATE_SCRIPT_FILE = BACKEND_SERVER + \"/api_v1/script_file\";\nexport const REMOVE_SCRIPT_FILE = BACKEND_SERVER + \"/api_v1/script_file/remove\";\nexport const GET_SCRIPT_FILE = BACKEND_SERVER + \"/api_v1/script_file/get\";\nexport const RUN_SCRIPT = BACKEND_SERVER + \"/api_v1/run/script\";\nexport const CLUSTER_MANAGER = BACKEND_SERVER + \"/api_v1/cluster\";\nexport const FILE_UPLOAD = BACKEND_SERVER + \"/api_v1/file/upload\";\nexport const FILE_DOWNLOAD = BACKEND_SERVER + \"/api_v1/file/download\";\n\n\nexport const CREATE_TEAM = BACKEND_SERVER + \"/api_v1/team/create\";\nexport const CHECK_TEAM_NAME = BACKEND_SERVER + \"/api_v1/team/name/check\";\nexport const LIST_TEAMS = BACKEND_SERVER + \"/api_v1/team\";\n\nexport const LIST_TEAMS_JOINED = BACKEND_SERVER + \"/api_v1/team/joined\";\nexport const LIST_TEAMS_INVITED = BACKEND_SERVER + \"/api_v1/team/invited\";\n\nexport const LIST_TEAMS_IN = BACKEND_SERVER + \"/api_v1/team/in\";\n\n\nexport const ADD_TEAMS_MEMBER = BACKEND_SERVER + \"/api_v1/team/member/add\";\nexport const REMOVE_TEAMS_MEMBER = BACKEND_SERVER + \"/api_v1/team/member/remove\";\nexport const LIST_TEAMS_MEMBER = BACKEND_SERVER + \"/api_v1/team/members\";\n\nexport const ACCEPT_TEAMS_MEMBER = BACKEND_SERVER + \"/api_v1/team/member/accept\";\nexport const REFUSE_TEAMS_MEMBER = BACKEND_SERVER + \"/api_v1/team/member/refuse\";\n\nexport const ADD_TEAMS_ROLE = BACKEND_SERVER + \"/api_v1/team/role/add\";\nexport const REMOVE_TEAMS_ROLE = BACKEND_SERVER + \"/api_v1/team/role/remove\";\nexport const LIST_TEAMS_ROLE = BACKEND_SERVER + \"/api_v1/team/roles\";\n\nexport const ADD_TEAMS_TABLE = BACKEND_SERVER + \"/api_v1/team/table/add\";\nexport const REMOVE_TEAMS_TABLE = BACKEND_SERVER + \"/api_v1/team/table/remove\";\nexport const LIST_TEAMS_TABLES = BACKEND_SERVER + \"/api_v1/team/tables\";\n\n\nexport const ADD_ROLES_TABLE = BACKEND_SERVER + \"/api_v1/role/table/add\";\nexport const REMOVE_ROLES_TABLE = BACKEND_SERVER + \"/api_v1/role/table/remove\";\nexport const LIST_ROLES_TABLE = BACKEND_SERVER + \"/api_v1/role/tables\";\n\nexport const ADD_ROLES_MEMBER = BACKEND_SERVER + \"/api_v1/role/member/add\";\nexport const REMOVE_ROLES_MEMBER = BACKEND_SERVER + \"/api_v1/role/member/remove\";\nexport const LIST_ROLES_MEMBER = BACKEND_SERVER + \"/api_v1/role/members\";\n\nexport const LIST_BACKENDS_BY_TEAM = BACKEND_SERVER + \"/api_v1/backends\";\n\nexport const CHNAGE_PASSWORD = BACKEND_SERVER + \"/api_v1/changepassword\";","import React from \"react\";\nimport {MLSQLAPI, APIResponse, ServerError} from \"../service/MLSQLAPI\";\nimport * as backendConfig from \"../service/BackendConfig\";\nimport * as HTTP from \"../service/HTTPMethod\";\nimport Cookies from 'universal-cookie';\n\n\nexport class MLSQLAuth {\n\n    isLogin() {\n        return sessionStorage.getItem(HTTP.AccessToken.name) !== null\n    }\n\n    /**\n     *\n     * @param callback {(userName)=>{}}\n     */\n    userName(callback) {\n\n        const api = new MLSQLAPI(backendConfig.USERNAME_URL)\n\n        /**\n         * @param  {APIResponse} apiResponse\n         */\n        const sCallBack = (apiResponse) => {\n            /**\n             *  if server return unauthorized status, then we should\n             *  remove our token since it maybe invalidate.\n             */\n            if (apiResponse.status === HTTP.Status.Unauthorized) {\n                sessionStorage.removeItem(HTTP.AccessToken.name)\n            } else {\n                apiResponse.content.then((s => {\n                    callback(JSON.parse(s)[\"userName\"])\n                })).catch((error) => {\n                })\n            }\n        }\n\n        api.request(HTTP.Method.GET, {}, sCallBack, (m) => {\n            console.log(m)\n        })\n    }\n\n    user(callback) {\n\n        const api = new MLSQLAPI(backendConfig.USERNAME_URL)\n        api.request2({}, (json) => {\n            callback(json)\n        }, (str) => {\n\n        })\n    }\n\n    /**\n     * @param {String} userName\n     * @param {String} password\n     */\n    login(userName, password, _sCallBack, _errorCallBack) {\n        this.registerOrLogin(backendConfig.LOGIN_URL, userName, password, _sCallBack, _errorCallBack)\n    }\n\n    logout() {\n        sessionStorage.removeItem(HTTP.AccessToken.name)\n    }\n\n    /**\n     * @param {String} userName\n     * @param {String} password\n     */\n    register(userName, password, _sCallBack, _errorCallBack) {\n        this.registerOrLogin(backendConfig.REGISTER_URL, userName, password, _sCallBack, _errorCallBack)\n    }\n\n    registerOrLogin(url, userName, password, _sCallBack, _errorCallBack) {\n        const api = new MLSQLAPI(url)\n\n        const body = {\n            userName: userName,\n            password: password\n        }\n\n        /**\n         * @param  {APIResponse} apiResponse\n         */\n        const sCallBack = (apiResponse) => {\n            if (apiResponse.accessToken) {\n                sessionStorage.setItem(HTTP.AccessToken.name, apiResponse.accessToken)\n                const cookies = new Cookies();\n                cookies.set(HTTP.AccessToken.name, apiResponse.accessToken, { path: '/' });\n            }\n            _sCallBack(apiResponse)\n        }\n        /**\n         *\n         * @param {ServerError} serverError\n         */\n        const errorCallBack = (serverError) => {\n            _errorCallBack(serverError)\n        }\n        api.request(HTTP.Method.POST, body, sCallBack, errorCallBack)\n    }\n}","import * as HTTP from \"../service/HTTPMethod\";\nimport {MLSQLAuth as Auth} from \"../user/MLSQLAuth\";\n\nconst uuidv4 = require('uuid/v4');\n\nexport class ServerError {\n    constructor(content) {\n        this.value = content\n    }\n}\n\nexport class APIResponse {\n    /**\n     * @param {Number} status\n     * @param {Promise<String>} content\n     * @param {String} accessToken\n     */\n    constructor(status, content, accessToken) {\n        this.status = status;\n        this.content = content;\n        this.accessToken = accessToken\n    }\n\n    json = (process, jsonErr) => {\n\n        this.content.then((s) => {\n            try {\n                const jsonObj = JSON.parse(s)\n                process(jsonObj)\n            } catch (e) {\n                console.log(e)\n                jsonErr(s)\n            }\n\n        })\n    }\n\n}\n\nexport class MLSQLAPI {\n\n    constructor(url) {\n        this.url = url;\n    }\n\n\n    request2(params, successCallback, serverErrorCallback) {\n        const self = this\n        self.request(HTTP.Method.POST, params, (ok) => {\n            ok.json((wow) => {\n                successCallback(wow)\n            }, (jsonErr) => {\n                serverErrorCallback(jsonErr)\n            })\n        }, (fail) => {\n            try {\n                fail.value().content((str) => {\n                    let res = str\n                    try {\n                        res = JSON.parse(str)[\"msg\"]\n                    } catch (e) {\n\n                    }\n                    serverErrorCallback(res)\n                })\n            } catch (e) {\n                serverErrorCallback(fail ? fail.toString() : \"result is null\")\n            }\n\n        })\n    }\n\n    runScript(params, sql, successCallback, serverErrorCallback) {\n        const auth = new Auth()\n        const jobName = uuidv4()\n        const self = this\n        auth.user((jsonRes) => {\n            const {userName, backendTags} = jsonRes            \n            const finalParams = {\n                sql: sql,\n                owner: userName,\n                jobName: jobName,\n                sessionPerUser: true,\n                show_stack: true,\n                skipAuth: false,\n                tags: backendTags || \"\"\n            }\n            Object.assign(finalParams, params)\n            const background = params.background || false\n            if (background) {\n                Object.assign(finalParams, {async: true, callback: \"\"})\n            }\n\n            self.request(HTTP.Method.POST, finalParams, (ok) => {\n                if (ok.status === 200) {\n                    ok.json((wow) => {\n                        successCallback(wow)\n                    }, (jsonErr) => {\n                        serverErrorCallback(jsonErr)\n                    })\n                } else {\n                    try {\n                        ok.content.then((str) => {\n                            let res = str\n                            try {\n                                res = JSON.parse(str)[\"msg\"]\n                            } catch (e) {\n\n                            }\n                            serverErrorCallback(\"backend status:\" + ok.status + \"\\n\" + res)\n                        })\n                    } catch (e) {\n                        serverErrorCallback(\"backend status:\" + ok.status)\n                    }\n                }\n\n            }, (fail) => {\n                try {\n                    fail.value().content((str) => {\n                        let res = str\n                        try {\n                            res = JSON.parse(str)[\"msg\"]\n                        } catch (e) {\n\n                        }\n                        serverErrorCallback(res)\n                    })\n                } catch (e) {\n                    serverErrorCallback(fail ? fail.toString() : \"result is null\")\n                }\n\n            })\n        })\n    }\n\n    request(method, body, successCallback, serverErrorCallback) {\n        method = method.toUpperCase();\n\n        let formBody = [];\n        for (let property in body) {\n            let encodedKey = encodeURIComponent(property);\n            let encodedValue = encodeURIComponent(body[property]);\n            formBody.push(encodedKey + \"=\" + encodedValue);\n        }\n\n        let newurl = this.url\n\n        if (method === \"GET\") {\n            newurl = newurl + \"?\" + formBody\n            formBody = undefined\n        } else {\n            formBody = formBody.join(\"&\")\n        }\n        return fetch(newurl, {\n            method: method,\n            timeout: 1000 * 60 * 60 * 24,\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded',\n                'Accept': 'application/json',\n                'Access-Token': sessionStorage.getItem(HTTP.AccessToken.name) || ''\n            },\n            body: formBody\n        }).then((res) => {\n            successCallback(new APIResponse(res.status, res.text(), res.headers.get(HTTP.AccessToken.name)))\n        })\n            .catch((res) => {\n                serverErrorCallback(new ServerError(res))\n            })\n    }\n\n    newRunScript(params, sql, okFun, failFun) {\n        const auth = new Auth()\n        const jobName = uuidv4()\n        const self = this\n        auth.user((jsonRes) => {\n            const {userName, backendTags} = jsonRes\n\n            if (!backendTags) {\n                failFun(`\n                \n                ---------------Warning--------------------\n                \n                Please make sure you have backend configured. \n                If not, please contact admin;\n                \n                ------------------------------------------\n                `)\n                return\n            }\n\n            const finalParams = {\n                sql: sql,\n                owner: userName,\n                jobName: jobName,\n                sessionPerUser: true,\n                show_stack: true,\n                skipAuth: false,\n                tags: backendTags || \"\"\n            }\n            Object.assign(finalParams, params)\n            const background = params.background || false\n            if (background) {\n                Object.assign(finalParams, {async: true, callback: \"\"})\n            }\n\n            self.new_request(HTTP.Method.POST, finalParams, okFun, failFun)\n        })\n    }\n\n    new_request(method, body, okFun, failFun) {\n        method = method.toUpperCase();\n\n        let formBody = [];\n        for (let property in body) {\n            let encodedKey = encodeURIComponent(property);\n            let encodedValue = encodeURIComponent(body[property]);\n            formBody.push(encodedKey + \"=\" + encodedValue);\n        }\n\n        let newurl = this.url\n\n        if (method === \"GET\") {\n            newurl = newurl + \"?\" + formBody\n            formBody = undefined\n        } else {\n            formBody = formBody.join(\"&\")\n        }\n        let resStatus = 0\n\n        return fetch(newurl, {\n            method: method,\n            timeout: 1000 * 60 * 60 * 24,\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded',\n                'Accept': 'application/json',\n                'Access-Token': sessionStorage.getItem(HTTP.AccessToken.name) || ''\n            },\n            body: formBody\n        }).then((res) => {\n            resStatus = res.status\n            if (resStatus === 200) {\n                res.json().then((value) => {\n                    okFun(value)\n                })\n            }\n            return res\n        }).then(res => {\n            const extractMsg = () => {\n                res.text().then(value => {\n                        try {\n                            failFun(JSON.parse(value)[\"msg\"])\n                        } catch (e) {\n                            failFun(value)\n                        }\n                    }\n                )\n            }\n\n            switch (resStatus) {\n                case 201:\n                    break\n                case 400:\n                    extractMsg()\n                    break\n                case 500:\n                    extractMsg()\n                    break\n                default:\n                    console.log('unhandled')\n                    break\n            }\n        })\n            .catch((err) => {\n                failFun(err.message)\n            })\n    }\n}","export const assert = (condition, message) => {\n    if (!condition) {\n        message = message || \"Assertion failed\";\n        if (typeof Error !== \"undefined\") {\n            throw new Error(message);\n        }\n        throw message; // Fallback\n    }\n}\n","export class ButtonToCommand {\n    makeSQL = (name) => {\n        if (name === \"JobList\") {\n            return `load _mlsql_.\\`jobs\\` as output;`\n        }\n        if (name === \"ConnectMySQL\") {\n            return `connect jdbc where\n url=\"jdbc:mysql://127.0.0.1:3306/wow?characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&tinyInt1isBit=false\"\n and driver=\"com.mysql.jdbc.Driver\"\n and user=\"\"\n and password=\"\"\n as db_1;`\n        }\n\n        if (name === \"ShowResource\") {\n            return `load _mlsql_.\\`resource\\` as output;`\n        }\n        return \"\"\n    }\n}","import ConsoleOp from \"./ConsoleOp\";\n\nexport default class EditorOp extends ConsoleOp{\n    constructor(comp){\n      super(comp)\n    }\n    getText() {\n        return this.editor.getValue()\n    }\n\n    getSelection(){\n        let selectionRange = this.editor.getSelectionRange()\n        let content = this.session.getTextRange(selectionRange);\n        return content\n    }\n}","export default class  ConsoleOp{\n  constructor(consoleComp){\n     this.inner = consoleComp \n     this.session = this.inner.editor.session\n     this.editor = this.inner.editor    \n  }\n\n  setText(msg){\n      this.editor.setValue(msg)\n      return this\n  }\n\n  append(msg){\n    this.session.insert({\n        row: this.session.getLength(),\n        column: 0\n    }, \"\\n\" + msg)\n    return this\n  }\n\n  insertAfterCursor(msg){\n    const p = this.editor.getCursorPosition()\n    this.session.insert(p, msg)\n    this.editor.focus()\n    return this\n  }\n}","import { ActionProxy } from '../../backend_service/ActionProxy';\nimport RemoteAction from '../../backend_service/RemoteAction';\n\nconst uuidv4 = require('uuid/v4');\nconst client = new ActionProxy()\nexport default class EngineService {\n\n    static async ls(path){ \n        const client = new ActionProxy()\n        const res = await client.runScript(`!hdfs -ls -F ${path};`, uuidv4(), {\"queryType\":\"robot\"})\n        return res        \n    }\n\n    static async killJob(jobName){  \n        const res = await client.runScript(\"!kill \" + jobName+\";\", uuidv4(), {\"queryType\":\"robot\"})\n        //sync the status        \n        await client.get(RemoteAction.JOB_KILL, {jobName:jobName})                        \n        return res\n    }\n\n    static async runJob(sql,block=false){        \n        const res = await client.runScript(sql, uuidv4(),{ \"async\": block}) \n        return res\n    }\n\n    static async showFunctions(){        \n        const res = await client.runScript(\"\",uuidv4(),{executeMode:\"sqlFunctions\"})\n        return res\n    }\n\n    static async jobs(){\n        const jobName = uuidv4()\n        const res = await client.runScript(`load _mlsql_.\\`jobs\\` as wow;`,jobName ,{\"queryType\":\"robot\"}) \n        return {jobName,res} \n    }\n\n    static async tablesInDeltaLake(){\n        const jobName = uuidv4()\n        const res = await client.runScript(`!delta show tables;`,jobName ,{\"queryType\":\"robot\"}) \n        return res\n    }\n\n    static async tablesInWorkshop(){        \n        const res = await client.get(RemoteAction.ANALYSIS_TABLES ,{}) \n        return res\n    }\n\n    static async tableInfo(tableName){        \n        const res = await client.get(RemoteAction.ANALYSIS_TABLE_INFO ,{tableName}) \n        return res\n    }\n\n    static async jobProgress(jobName){\n        const res = await client.runScript(`load _mlsql_.\\`jobs/get/${jobName}\\` as wow;`,uuidv4(),{\"queryType\":\"robot\"})\n        const empty_res =  {currentJobIndex:0,totalJobs:1}\n        if(res.status===200){\n            const jsonObj = res.content[0]\n            if(!jsonObj){\n                return empty_res\n            }\n            let currentJobIndex = jsonObj.progress.currentJobIndex\n            let totalJobs = jsonObj.progress.totalJob\n            if(totalJobs===1){\n                const res2 = await client.runScript(`load _mlsql_.\\`jobs/${jobName}\\` as wow;`,uuidv4(),{\"queryType\":\"robot\"})                                \n                currentJobIndex = res2.content[0].completedJobsNum\n                totalJobs = res2.content[0].activeJobsNum + currentJobIndex               \n            }\n            return {currentJobIndex,totalJobs}\n        }\n        return empty_res\n    }\n\n    static async resourceInfo(){\n        const res = await client.runScript(`load _mlsql_.\\`resource\\` as output;`,uuidv4(),{\"queryType\":\"robot\"})\n        const totalCores = res.content[0].totalCores\n        const activeTasks = res.content[0].activeTasks\n        return {activeTasks,totalCores}\n    }\n}","import { ActionProxy } from \"../../backend_service/ActionProxy\"\nimport RemoteAction from \"../../backend_service/RemoteAction\"\nimport EngineService from \"../service/EngineService\";\nconst uuidv4 = require('uuid/v4');\n\nexport default class AsyncExecuter {\n    constructor(queryPanel){\n      this.queryPanel = queryPanel\n      this.client = new ActionProxy()\n      this.jobName = uuidv4()\n      this.editorOp = this.queryPanel.getEditorOp()\n      this.consoleOp = this.queryPanel.getConsoleOp()\n      const selectSQL = this.editorOp.getSelection()\n      this.sql = selectSQL || this.editorOp.getText() \n\n      this.commandGroupRef = this.queryPanel.commandGroup.current\n      //this.resourceProgressRef = this.queryPanel.resourceProgressRef\n      this.jobProgressRef = this.queryPanel.jobProgressRef\n      this.taskProgressRef = this.queryPanel.taskProgressRef.current\n      \n      this.displayRef = this.queryPanel.queryApp.display.current\n      this.dashRef = this.queryPanel.queryApp.dash.current\n\n\n      this.timeout = this.commandGroupRef.state.timeout\n      this.logInfo = {}\n\n      this.closed = false\n    \n\n      \n    }\n\n    log(msg){\n        this.consoleOp.append(msg)\n        return this\n    }\n\n    enterLoading = () => {\n        this.commandGroupRef.setState({loading: true});\n        //this.resourceProgressRef.enter({jobName: this.jobName})        \n        //this.taskProgressRef.enter({jobName: this.jobName})        \n    }\n\n    exitLoading = () => {\n        this.commandGroupRef.setState({loading: false});\n        // this.jobProgressRef.exit()\n        //this.resourceProgressRef.exit()\n        //this.taskProgressRef.exit()        \n    }\n\n    prepare(){        \n        this.enterLoading()\n        this.consoleOp.setText(\"\")\n        this.displayRef.update(JSON.parse(\"[]\"))\n    }\n    measureTime(startTime) {\n        this.exitLoading()\n        const endTime = new Date().getTime()\n        return endTime - startTime\n    }\n\n\n\n    async saveFile(params){\n      const scriptId = this.queryPanel.state.scriptId\n      if(!scriptId){\n         this.log(\"No file are opened, cannot execute save action\")\n         return\n      }\n      const res = await this.client.post(RemoteAction.SAVE_SCRIPT_FILE,{\n        id: scriptId,\n        content: this.editorOp.getText()\n      })\n      if(res.status !== 200){\n          this.log(res.content)\n      }\n      if(res.status === 200){\n          this.log(`File[${scriptId}] have been saved.`)\n      }\n      return res\n\n    }\n\n    async run(params) {\n        this.prepare()\n        const startTime = new Date().getTime()\n        const res = await this.client.runScript(this.sql, this.jobName, Object.assign(params,{\n            jobName: this.jobName,\n            async: true,\n            timeout: this.timeout,\n            engineName:this.queryPanel.engineName\n        }))    \n        \n        if(res.status !== 200){                                    \n            this.log(\"Fail to submit job\" + \"\\nTime cost:\" + this.measureTime(startTime) + \"ms\")            \n            return []\n        }\n\n        this.intervalTimer = setInterval(async () => {            \n            await this.monitorJob()\n            await this.monitorLog()\n        }, 1000)\n\n        //refresh job list in dash\n        if(this.dashRef.queryHistory){\n            this.dashRef.queryHistory.reload()  \n        }\n        this.jobProgressRef.enter()\n        return res\n    }\n    async cancelMonitor() {\n        if (this.intervalTimer) {\n            clearInterval(this.intervalTimer)\n            this.intervalTimer = null\n        }\n        this.jobProgressRef.exit()\n    }\n\n    async monitorJob(){        \n        const res = await this.client.get(RemoteAction.JOB_DETAIL,\n            {\n                jobName:this.jobName,                \n            })\n        const jobInfo = res.content\n        // job fail\n        if(jobInfo.status === 3){\n           this.closed = true\n           this.cancelMonitor() \n           this.exitLoading() \n           this.jobProgressRef.exit()\n           this.log(jobInfo.reason)\n        }\n        // job success\n        if(jobInfo.status === 2){\n            this.closed = true\n            this.cancelMonitor()\n            this.exitLoading() \n            this.jobProgressRef.exit()\n            const data = JSON.parse(jobInfo.response)\n            this.displayRef.update(data) \n            this.queryPanel.queryApp.setData(data)\n        }\n    }\n\n    async monitorLog(){\n        const jobName = uuidv4()               \n        const res = await this.client.runScript(`load _mlsql_.\\`log/${this.logInfo['offset'] || -1}\\` where filePath=\"engine_log\" as output;`, jobName, {\"queryType\":\"robot\"})\n        if(res.status !== 200) return\n        const jsonObj = res.content[0]\n        if (jsonObj[\"value\"] && jsonObj['value'].length > 0) {\n            this.log(jsonObj['value'].map(item => {\n                return item.split(\"__MMMMMM__\")[1]\n            }).join(\"\\n\"))\n        }\n        this.logInfo['offset'] = jsonObj[\"offset\"]\n    }\n\n    \n\n    async killJob(){\n        if (!this.jobName) return\n        const res = await EngineService.killJob(this.jobName)\n        try {\n            this.log(res.content[0]['description'])                \n        }catch(e){\n            this.log(res.content)\n        }\n        this.closed = true\n        this.jobName = null\n        this.cancelMonitor() \n        this.exitLoading()\n        \n    }\n}","import * as React from \"react\";\nimport Timer from \"react-compound-timer\"\nimport {Progress, Button} from 'antd';\nimport EngineService from \"../service/EngineService\";\n\nexport default class JobProgress extends React.Component {\n    constructor(props) {\n        super(props) \n        this.queryPanel = props.parent               \n        this.state ={loading:false,progress:0}        \n    }\n\n    enter = (params) => {\n        this.setState({loading:true})  \n        this.intervalTimer = setInterval(async () => {                        \n            const jobName = this.queryPanel.executor.jobName\n            const {currentJobIndex,totalJobs} =  await EngineService.jobProgress(jobName)            \n            this.setState({progress:(currentJobIndex/totalJobs)*100})\n        },1000)\n    }\n\n    exit = () => {        \n        if(this.intervalTimer){            \n            clearInterval(this.intervalTimer)\n            this.intervalTimer = null \n            this.finalTime = (this.timer.getTime() / 1000).toFixed(2) + \"s\"\n            this.setState({loading:false})          \n        }\n    }\n\n    render() {\n        if(!this.state.loading) {\n            if(this.finalTime){\n                return <Button type=\"primary\" style={{margin:\"0px 0px 20px 0px\"}}>\n                   Time Cost: {this.finalTime}\n                </Button>\n            }else {\n                return <div></div>\n            }\n        }\n        return <div>                    \n            <Button type=\"primary\" style={{marginRight:\"20px\"}}>\n            Time Cost:<Timer ref={(et)=> this.timer =et}>        \n                <Timer.Minutes formatValue={value => `${value} m. `} /> \n                <Timer.Seconds formatValue={value => `${value} s. `}/>         \n            </Timer></Button>\n            <Progress type=\"circle\" percent={this.state.progress} />\n        </div>\n    }\n}","import * as React from \"react\";\nimport { Progress,Button } from \"antd\";\nimport EngineService from \"../service/EngineService\";\nimport \"./ResourceProgress.scss\"\nexport default class ResourceProgress extends React.Component {\n    constructor(props) {\n        super(props) \n        this.queryPanel = props.parent               \n        this.state ={percent:0}        \n    }\n\n    async componentDidMount(){\n      await this.reload()\n    }\n\n    async reload(){\n       const {activeTasks,totalCores} = await EngineService.resourceInfo() \n       const {jobName,res}  = await EngineService.jobs() \n       const jobNum = res.content.filter((item)=>{\n           return item.jobName !== jobName \n       }).length     \n       this.setState({percent:activeTasks/totalCores*100,\n        totalCores,activeTasks,jobNum})\n    }\n\n    enter = (params) => {\n       \n    }\n\n    exit = () => {        \n       \n    }\n\n    render() {\n        return <div className=\"rp-main\">\n            \n            <div className=\"rp-block\">\n            <div className=\"rp-name\" >CPU Usage(total cores:{this.state.totalCores}): </div>\n             <Progress percent={this.state.percent}   style={{maxWidth:\"300px\"}}/>                           \n            </div> \n\n            <div className=\"rp-block\">\n            <div className=\"rp-name\">Jobs Running: <span>{this.state.jobNum}</span></div>\n                \n            </div>            \n        </div>\n    }\n}","import React, { useState, useCallback, useEffect, useReducer } from 'react';\nimport { ActionProxy } from '../../../backend_service/ActionProxy';\nimport RemoteAction from '../../../backend_service/RemoteAction';\nimport { Select } from 'antd';\nimport UIMaker from '../../UIMaker';\n\n\n\nfunction EngineSelectComp(props) {\n    const [error, setError] = useState(undefined)\n    const [data, setData] = useState([])\n    const [loading, setLoading] = useState(false)\n    const [engine, setEngine] = useState(undefined)\n    useEffect(() => {\n        const fetch = async () => {\n            setLoading(true)\n            const proxy = new ActionProxy()\n            const res = await proxy.get(RemoteAction.ENGINE_LIST, {})            \n            setData(res.content.data)\n            const backend = UIMaker.extraOption()[\"backend\"]\n            if(res.content.data.length >0 && !backend){\n                setEngine(res.content.data[0].name)\n            }            \n            setLoading(false)\n        }\n        fetch()\n    }, [])\n\n    useEffect(()=>{      \n    //   const save = async()=>{\n    //     const proxy = new ActionProxy()\n    //     await proxy.post(RemoteAction.USER_EXTRA,{backend:engine})\n    //   }\n    //   save()\n      props.useEngine(engine)\n    },[engine])\n\n    const selectEngine = (value) => {\n        setEngine(value)\n    }\n    return (\n        <Select onChange={selectEngine} style={{width: \"120px\"}}>\n            {data.map(item=>{\n                return <Select.Option value={item.name}>{item.name}</Select.Option>\n            })}\n        </Select>\n    )\n}\nexport { EngineSelectComp }","import * as React from \"react\";\nimport brace from 'brace';\nimport 'brace/ext/searchbox';\nimport AceEditor from 'react-ace';\nimport 'brace/mode/sql';\nimport 'brace/theme/github';\nimport 'brace/ext/language_tools';\nimport CodeIntellegence from '../v1/service/CodeIntellegence'\n\nimport './MLSQLAceEditor.scss'\nimport {Button, Tooltip, Progress, Divider} from 'antd';\nimport {MLSQLAPI} from \"../service/MLSQLAPI\";\nimport * as BackendConfig from \"../service/BackendConfig\";\nimport {assert} from \"../common/tool\"\nimport {ButtonToCommand} from \"./et/ButtonToCommand\";\nimport {Select} from 'antd';\nimport {Resizable} from \"re-resizable\";\nimport EditorOp from \"../v1/comp_op/EditorOp\";\nimport AsyncExecuter from \"../v1/async_execute/AsyncExecuter\";\nimport JobProgress from \"../v1/async_execute/JobProgress\";\nimport ResourceProgress from \"../v1/async_execute/ResourceProgress\";\nimport { EngineSelectComp } from \"../v1/app_console/pages/EngineSelectComp\";\n\nconst {Option} = Select;\n\nconst uuidv4 = require('uuid/v4');\n\n\nclass MLSQLAceEditor extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.language = this.props.language || \"sql\"\n        this.queryApp = this.props.parent\n        this.aceEditorRef = React.createRef()\n        this.commandGroup = React.createRef()        \n        \n        this.taskProgressRef = React.createRef()\n\n        this.cancelQuery = this.cancelQuery.bind(this)\n        this.executeQuery = this.executeQuery.bind(this)\n\n        this.state = {value: \"\", loading: false}\n    }\n\n    text = (value, scriptId) => {\n        this.setState({value: value, scriptId: scriptId}, () => {\n            this.aceEditorRef.current.editor.setValue(value, 1)\n        })\n\n    }\n\n    componentDidMount() {\n        if (this.props.parentCallback) {\n            this.props.parentCallback(this)\n        }\n\n        var staticWordCompleter = {\n            getCompletions: async function(editor, session, pos, prefix, callback) {\n                var wordList = await CodeIntellegence.getSuggestList(editor.getValue(),pos.row,pos.column)\n                callback(null, wordList.map(function(word) {\n                    let desc = \"\"\n                    if(\"desc\" in word.extra){\n                        desc= word.extra[\"desc\"]\n                    }\n                    return {\n                        caption: word.name,\n                        value: word.name,\n                        meta: desc\n                    };\n                }));\n        \n            }\n        }\n        this.getAceEditor().completers = [staticWordCompleter]\n    }\n\n    onChange(newValue) {\n\n    }\n\n     executeSave = async ()=>{\n        const executor = new AsyncExecuter(this)\n        const res = await executor.saveFile({})\n        return res  \n    }\n\n    async executeQuery(){\n        if(this.executor && !this.executor.closed){\n            this.log(`Job ${this.jobName} is still running.`)\n            this.log(`Try to kill this job or wait it to finish`)\n            return\n        }\n        this.executor = new AsyncExecuter(this)\n        const res = await this.executor.run({})\n        if(!this.executor.closed){\n            this.executor.closed = true\n        }\n        return res\n    }\n\n    async cancelQuery() {\n       if(this.executor){\n          this.executor.killJob()\n       } \n    }\n\n    getAllText = () => {\n        return this.getAceEditor().getValue()\n    }\n\n    getSelection = () => {\n        return this.getEditorOp().getSelection()\n    }\n\n    appendToEditor = (str) => {\n        return this.getEditorOp().insertAfterCursor(str)\n    }\n\n    getEditorOp=()=>{\n        return new EditorOp(this.aceEditorRef.current)\n    }\n\n    getConsoleOp=()=>{\n        return new EditorOp(this.queryApp.messageBox.current) \n    }\n\n    getAceEditor = () => {\n        return this.getEditorOp().editor\n    }\n\n    getMessageBoxAceEditor = () => {\n        return this.getConsoleOp().editor\n    }\n\n    appendLog = (msg) => {\n        return this.getConsoleOp().append(msg)\n    }\n\n    getDashBoard = () => {\n        return this.queryApp.dash.current\n    }\n\n    getDisplay = () => {\n        return this.queryApp.display.current\n    }\n\n    enterLoading = (jobName) => {\n        this.commandGroup.current.setState({loading: true});\n        this.resourceProgressRef.current.enter({jobName: jobName})\n        this.jobProgressRef.enter({jobName: jobName})\n        this.taskProgressRef.current.enter({jobName: jobName})        \n    }\n\n    exitLoading = () => {\n        this.commandGroup.current.setState({loading: false});\n        this.jobProgressRef.exit()\n        this.resourceProgressRef.current.exit()\n        this.taskProgressRef.current.exit()        \n    }\n    etOver = (evt) => {\n        const et = this.queryApp.etRef.current\n        const eventName = et.getData(\"eventName\")\n        const popName = et.getData(\"popName\")\n        const processType = et.getData(\"processType\")\n        const pathAlias = et.getData(\"pathAlias\")\n        const tableHidden = et.getData(\"tableHidden\")\n        const pathHidden = et.getData(\"pathHidden\")\n        const outputTableHidden = et.getData(\"outputTableHidden\")\n        const outputTableAlias = et.getData(\"outputTableAlias\")\n        const tableAlias = et.getData(\"tableAlias\")\n\n        if (processType === \"direct\") {\n            this.appendToEditor(new ButtonToCommand().makeSQL(eventName))\n        } else {\n            et.setState({\n                etPop: true,\n                eventName: eventName,\n                popName: popName,\n                processType: processType,\n                pathAlias: pathAlias,\n                tableHidden: tableHidden,\n                pathHidden: pathHidden,\n                outputTableHidden: outputTableHidden,\n                outputTableAlias: outputTableAlias,\n                tableAlias: tableAlias\n            })\n        }\n\n    }\n\n    render() {\n        const self = this\n        return (\n            <div className=\"mlsql-editor-area\">\n\n                <div onDragOver={(evt) => evt.preventDefault()} onDrop={this.etOver}>\n                    <Resizable defaultSize={{height: \"500px\"}} onResize={()=>{this.aceEditorRef.current.editor.resize();}}><AceEditor\n                        ref={this.aceEditorRef}\n                        mode={this.language}\n                        theme=\"github\"\n                        width={\"100%\"}\n                        height={\"100%\"}\n                        onChange={this.onChange}\n                        name=\"mlsql_editor\"\n                        fontSize={16}\n                        showPrintMargin={true}\n                        showGutter={true}\n                        highlightActiveLine={true}\n                        editorProps={{\n                            $blockScrolling: Infinity\n                        }}\n                        setOptions={{\n                            enableBasicAutocompletion: true,\n                            enableLiveAutocompletion: true,\n                            enableSnippets: false,\n                            showLineNumbers: true,\n                            tabSize: 2,\n                            autoScrollEditorIntoView: true\n                        }}\n                    /></Resizable>\n                </div>\n\n                <CommandGroup ref={this.commandGroup} parent={this}/>            \n                <JobProgress ref={(et)=>{this.jobProgressRef=et}} parent={this}></JobProgress>\n                <TaskProgress ref={this.taskProgressRef} parent={this}></TaskProgress>                \n            </div>\n        )\n    }\n\n}\n\nclass CommandGroup extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {loading: false, timeout: \"-1\"}\n        this.parent = props.parent\n    }\n\n    onChange = (value) => {\n        this.setState({timeout: value})\n    }\n\n    render() {\n        return (\n            <div className=\"mslql-editor-buttons\">\n                <Button onClick={this.parent.executeQuery}\n                        loading={this.state.loading}>Run</Button>\n                <Button onClick={this.parent.cancelQuery}>Cancel</Button>      \n                <Button onClick={this.parent.executeSave}>Save</Button>                \n                Job Timeout:<Select\n                onChange={this.onChange}\n                style={{width: \"120px\"}}\n            >\n                <Option value=\"10000\">10s</Option>\n                <Option value=\"30000\">30s</Option>\n                <Option value=\"60000\">60s</Option>\n                <Option value=\"1800000\">30m</Option>\n                <Option value=\"7200000\">2h</Option>\n                <Option value=\"28800000\">8h</Option>\n                <Option value=\"-1\">unlimited</Option>\n            </Select>\n            <Divider type=\"vertical\"/>\n            Engine:<EngineSelectComp useEngine={(engine)=>{\n                this.engineName = engine\n            }}/>\n            </div>\n        )\n    }\n\n}\n\n\nclass TaskProgress extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {loading: false, percent: 0, successPercent: 0, mark: false}\n        this.parent = props.parent\n    }\n\n    enter = (params) => {\n        const self = this\n        this.setState({mark: true})\n\n        setTimeout(() => {\n            if (self.state.mark) {\n                self.setState({loading: true})\n                self.intervalTimer = setInterval(() => {\n\n                        if (self.taskCompute === \"loading\") {\n                            return\n                        }\n                        self.taskCompute = \"loading\"\n                        const api = new MLSQLAPI(BackendConfig.RUN_SCRIPT)\n                        assert(params.hasOwnProperty(\"jobName\"), \"jobName is required\")\n                        const jobName = params[\"jobName\"]\n                        api.runScript({}, `load _mlsql_.\\`jobs/${jobName}\\` as output;`, (jsonArray) => {\n                            self.taskCompute = \"loaded\"\n                            const _jsonObj = jsonArray[0]\n                            const jsonObj = {\n                                numTasks: 0,\n                                numActiveTasks: 0,\n                                numCompletedTasks: 0\n                            }\n                            _jsonObj[\"activeJobs\"].forEach((item) => {\n                                jsonObj[\"numTasks\"] += item[\"numTasks\"]\n                                jsonObj[\"numActiveTasks\"] += item[\"numActiveTasks\"]\n                                jsonObj[\"numCompletedTasks\"] += item[\"numCompletedTasks\"]\n                            })\n                            self.setState({\n                                percent: jsonObj.numActiveTasks / jsonObj.numTasks * 100,\n                                successPercent: jsonObj.numCompletedTasks / jsonObj.numTasks * 100,\n                                title: `Tasks (for all stages): Succeeded/Total:\\n${jsonObj.numCompletedTasks}/${jsonObj.numTasks}(${jsonObj.numActiveTasks} running)`\n                            })\n                        }, (str) => {\n                            self.taskCompute = \"loaded\"\n                            try {\n                                self.parent.appendLog(str)\n                            } catch (e) {\n                                console.log(e)\n                            }\n                        })\n\n                    }\n                    , 1000)\n            }\n\n        }, 1000)\n\n    }\n\n    exit = () => {\n        this.taskCompute = \"loaded\"\n        this.resourceCompute = \"loaded\"\n        this.setState({loading: false, percent: 0, successPercent: 0, mark: false})\n        if (this.intervalTimer) {\n            clearInterval(this.intervalTimer);\n        }\n    }\n\n    render() {\n        if (!this.state.loading) return <div></div>\n        return (\n            <div>{this.state.title}\n                <Progress percent={this.state.percent} successPercent={this.state.successPercent}/>\n            </div>\n        )\n    }\n\n}\n\nexport default MLSQLAceEditor\n\n","import * as React from \"react\";\nimport {Table,Modal} from 'antd';\n\n\nconst ReactMarkdown = require('react-markdown')\n\nexport class MLSQLQueryDisplay extends React.Component {\n    constructor(props) {\n        super(props)\n        this.tableStyle = props.style || {}\n        this.state = {columns: [], rows: [], view: {enabled: false}}\n        this.config = {}\n    }\n\n    setRender = (keyColumn, data) => {\n\n        const value = data[0][keyColumn.key]\n\n        if (this.config && this.config[\"render\"]) {\n            const render = this.config[\"render\"][keyColumn.key]\n            if (render) {\n                keyColumn[\"render\"] = render\n            }\n            return\n        }\n\n        try {\n            if (React.Component.isPrototypeOf(value.type)) {\n                keyColumn[\"render\"] = value => <span>{value}</span>\n                return\n            }\n        }\n        catch (e) {\n        }\n\n        if (keyColumn.key == \"html\") {            \n            keyColumn[\"render\"] = value => <pre>{value.substring(0,300)}</pre>\n            return\n        }\n\n        if ((typeof value) === 'object') {\n            keyColumn[\"render\"] = value => <span>{                \n                    JSON.stringify(value).substring(0, 300) \n                }</span>\n            return\n        }\n        if ((typeof value) === 'array') {\n            keyColumn[\"render\"] = value => <span>{value.join(\",\").substring(0, 300)}</span>\n            return\n        }\n        if ((typeof value) === 'boolean') {\n            keyColumn[\"render\"] = value => <span>{value.toString()}</span>\n            return\n        }\n        if (keyColumn.key == \"fileSystem\" || keyColumn.key == \"message\" || keyColumn.key == \"info\") {\n            keyColumn[\"render\"] = value => <pre>{value.toString()}</pre>\n            return\n        }\n\n\n    }\n\n    update = (data, config) => {\n        // e.g. [{\"a\":1}]\n        this.config=config\n        let keys = []\n        let basket = {}\n        let rows = []\n        const self = this\n        //collect all keys\n        data.forEach(function (item) {\n            for (let key in item) {\n                if (!basket[key]) {\n                    const keyColumn = {\n                        title: key,\n                        dataIndex: key,\n                        key: key,\n                    }\n                    self.setRender(keyColumn, data)\n                    keys.push(keyColumn)\n                    basket[key] = true\n                }\n            }\n        })\n\n        // collect data\n        data.forEach(function (item, index) {\n            let new_item = {}\n            keys.forEach(function (key) {\n                new_item[key.key] = item[key.key]\n            })\n            new_item[\"key\"] = index\n            rows.push(new_item)\n        })\n\n        this.setState({columns: keys, data: rows})\n    }\n\n    rowDoubleClick = (row, index, event) => {\n        if (row.name === \"codeExample\" || row.name === \"doc\") {\n            this.setState({\n                view: {\n                    enabled: true,\n                    content: row.value\n                }\n            })\n        }\n    }\n\n    disablePreview = () => {\n        this.setState({\n            view: {\n                enabled: false\n            }\n        })\n    }\n\n    render() {\n        const self = this\n        return (<div style={this.tableStyle}>\n                <Table\n                    onRow={(row, index) => {\n                        return {\n                            onDoubleClick: (event) => {\n                                self.rowDoubleClick(row, index, event)\n\n                            }\n                        }\n                    }\n                    }\n\n                    columns={this.state.columns}\n                    dataSource={this.state.data}/>\n                <Modal\n                    title={\"View\"}\n                    visible={this.state.view.enabled}\n                    onCancel={this.disablePreview}\n                    onOk={this.disablePreview}\n                    cancelText=\"Cancel\"\n                    OkText=\"Ok\"\n                >\n                    <ReactMarkdown source={this.state.view.content || \"\"}/>\n                </Modal>\n            </div>\n        )\n    }\n\n}","import React from 'react'\nimport Dropzone from 'react-dropzone'\nimport {fromEvent} from 'file-selector';\nimport request from \"superagent\";\nimport {FILE_UPLOAD} from '../../service/BackendConfig'\nimport * as HTTP from \"../../service/HTTPMethod\";\n\nconst baseStyle = {\n    width: 200,\n    height: 200,\n    borderWidth: 2,\n    borderColor: '#666',\n    borderStyle: 'dashed',\n    borderRadius: 5\n};\nconst activeStyle = {\n    borderStyle: 'solid',\n    borderColor: '#6c6',\n    backgroundColor: '#eee'\n};\nconst rejectStyle = {\n    borderStyle: 'solid',\n    borderColor: '#c66',\n    backgroundColor: '#eee'\n};\n\nconst fileListStyle = {\n    display: 'flex'\n}\n\n\nexport class UploadDropzone extends React.Component {\n\n    constructor() {\n        super()\n        this.state = {\n            files: []\n        }\n\n    }\n\n    onDrop = (files) => {\n        this.setState({files})\n        const req = request.post(FILE_UPLOAD);\n        req.set('Access-Token', sessionStorage.getItem(HTTP.AccessToken.name) || '')\n        files.forEach(file => {\n            req.attach(file.path, file);\n        });\n\n        req.end((err, res) => {\n            this.setState({files: []})\n            if (!err) {\n                if (res.ok) {\n                    this.setState({msg: \"total files:\" + files.length + \" are uploaded. \\n You can check the files with command: !hdfs -ls /tmp/upload; \"})\n                }\n            } else {\n                console.log(err)\n                this.setState({msg: err.toString() + \"\\n Sometimes this caused by your upload space is not enough or backend fails\"})\n            }\n        })\n    }\n\n\n    render() {\n\n        const files = this.state.files.map(f => (\n            <li key={f.name}>\n                {f.path} - {f.size} bytes\n            </li>\n        ))\n\n        return (\n            <section style={fileListStyle}>\n                <div>\n                    <Dropzone onDrop={this.onDrop}\n                              getDataTransferItems={evt => fromEvent(evt)}\n                    >\n                        {({getRootProps, getInputProps, isDragActive, isDragAccept, isDragReject, acceptedFiles, rejectedFiles}) => {\n                            let styles = {...baseStyle}\n                            styles = isDragActive ? {...styles, ...activeStyle} : styles\n                            styles = isDragReject ? {...styles, ...rejectStyle} : styles\n\n                            return (\n                                <div\n                                    {...getRootProps()}\n                                    style={styles}\n                                >\n                                    <input {...getInputProps()} />\n                                    <div>\n                                        {isDragAccept ? 'Drop' : 'Drag'} files here...\n                                    </div>\n                                    {isDragReject && <div>Unsupported file type...</div>}\n                                </div>\n                            )\n                        }}\n                    </Dropzone>\n                </div>\n                <aside>\n                    <h4>{files.length === 0 ? \"\" : \"Files\"}</h4>\n                    <ul>{files}</ul>\n                </aside>\n                <div>{this.state.msg ? this.state.msg : \"\"}</div>\n            </section>\n        );\n    }\n}","import React, {PureComponent} from 'react';\nimport {\n    ScatterChart, Scatter, XAxis, YAxis, ZAxis, CartesianGrid, Tooltip, Legend,\n} from 'recharts';\n\nconst randomColor = require('randomcolor');\nconst generateColor = () => {\n    let color = randomColor()\n    if (color === \"#000000\") {\n        color = \"#8884d8\"\n    }\n    return color\n}\n\nexport default class MLSQLThreeDimScatterChart {\n\n\n    static basicCheck = (data, fun) => {\n        if (data.length < 1) {\n            return false\n        }\n\n        try {\n            return fun(data[0])\n        } catch (e) {\n            return false\n        }\n\n        return true\n    }\n\n    static isShouldRender = (data) => {\n        return MLSQLThreeDimScatterChart.basicCheck(data, (item) => {\n\n            return item.hasOwnProperty(\"x\") && item.hasOwnProperty(\"y\") && (item.hasOwnProperty(\"_dash_config\") || item.hasOwnProperty(\"dash\")) && (\n                item[\"dash\"] === \"scatter\" || (item[\"_dash_config\"] || {})[\"dash\"] === \"scatter\"\n            )\n        })\n    }\n\n    static render(data) {\n        let haveZ = data[0].hasOwnProperty(\"z\")\n        if (!data.hasOwnProperty(\"dataType\")) {\n            data.forEach((item) => {\n                item[\"dataType\"] = \"default\"\n                if (!haveZ) {\n                    item[\"z\"] = 0\n                }\n            })\n        }\n        const dataTypeToItems = data.reduce((map, item) => {\n            const {x, y, z, dataType} = item\n            const prev = map.get(dataType)\n            if (prev) {\n                prev.push(item)\n            } else {\n                map.set(dataType, [item])\n            }\n            return map\n        }, new Map())\n\n        const item = data[0]\n        const _config = item[\"_dash_config\"] || {}\n\n        const scatters = [...dataTypeToItems.keys()].map((key) => {\n            const dataTypeConfig = Object.assign({fill: generateColor(), shape: \"triangle\"}, (_config[key] || {}))\n            return <Scatter key={key} name={key} data={dataTypeToItems.get(key)} {...dataTypeConfig}/>\n        })\n\n\n        const xConfig = Object.assign({type: \"number\", dataKey: \"x\"}, (_config[\"x\"] || {}))\n        const yConfig = Object.assign({type: \"number\", dataKey: \"y\"}, (_config[\"y\"] || {}))\n        const zConfig = Object.assign({type: \"number\", dataKey: \"z\"}, (_config[\"z\"] || {}))\n\n\n        return (\n            <ScatterChart\n                width={400}\n                height={400}\n                margin={{\n                    top: 20, right: 20, bottom: 20, left: 20,\n                }}\n            >\n                <CartesianGrid/>\n                <XAxis {...xConfig}/>\n                <YAxis {...yConfig}/>\n                {haveZ ? <ZAxis {...zConfig}/> : \"\"}\n                <Tooltip cursor={{strokeDasharray: '3 3'}}/>\n                <Legend/>\n                {scatters}\n            </ScatterChart>\n        );\n    }\n\n}\n\n","import React, {PureComponent} from 'react';\nimport {\n    XAxis,\n    YAxis,\n    LineChart,\n    CartesianGrid,\n    Legend,\n    Line,\n    Tooltip as JTooltip,\n    Bar as JBar,\n    BarChart,\n} from 'recharts';\n\nconst randomColor = require('randomcolor');\nconst generateColor = () => {\n    let color = randomColor()\n    if (color === \"#000000\") {\n        color = \"#8884d8\"\n    }\n    return color\n}\n\nexport default class MLSQLLineChart {\n\n\n    static basicCheck = (data, fun) => {\n        if (data.length < 1) {\n            return false\n        }\n\n        try {\n            return fun(data[0])\n        } catch (e) {\n            return false\n        }\n\n        return true\n    }\n\n    static isShouldRender = (data) => {\n        return MLSQLLineChart.basicCheck(data, (item) => {\n            return item.hasOwnProperty(\"x\") && (item.hasOwnProperty(\"dash\") || item.hasOwnProperty(\"_dash_config\"))\n        })\n    }\n\n    static render(data) {\n        const item = data[0]\n        const ys = []\n        const _config = item[\"_dash_config\"] || {}\n        if (item[\"dash\"] === \"line\" || _config[\"dash\"] === \"line\") {\n            Object.keys(item).forEach((key) => {\n                if ((typeof item[key]) === \"number\") {\n                    const dataTypeConfig = Object.assign({stroke: generateColor()}, (_config[key] || {}))\n                    ys.push(<Line key={key} type=\"monotone\" dataKey={key} {...dataTypeConfig}/>)\n                }\n            })\n            return <LineChart\n                width={500}\n                height={300}\n                data={data}\n                margin={{\n                    top: 5, right: 30, left: 20, bottom: 5,\n                }}\n            >\n                <CartesianGrid strokeDasharray=\"3 3\"/>\n                <XAxis dataKey=\"x\"/>\n                <YAxis/>\n                <JTooltip/>\n                <Legend/>\n                {ys}\n            </LineChart>\n        }\n\n\n        if (item[\"dash\"] === \"bar\" || _config[\"dash\"] === \"bar\") {\n            Object.keys(item).forEach((key) => {\n                if ((typeof item[key]) === \"number\") {\n                    const dataTypeConfig = Object.assign({fill: generateColor()}, (_config[key] || {}))\n                    ys.push(<JBar key={key} dataKey={key} {...dataTypeConfig}/>)\n                }\n            })\n            return <BarChart\n                width={500}\n                height={300}\n                data={data}\n                margin={{\n                    top: 5, right: 30, left: 20, bottom: 5,\n                }}\n            >\n                <CartesianGrid strokeDasharray=\"3 3\"/>\n                <XAxis dataKey=\"x\"/>\n                <YAxis/>\n                <JTooltip/>\n                <Legend/>\n                {ys}\n            </BarChart>\n        }\n    }\n\n}","import React, {Component} from 'react';\nimport {LineChart, Line, CartesianGrid, XAxis, YAxis, Legend} from 'recharts';\nimport moment from \"moment\";\n\n\nexport default class MLSQLStream extends Component {\n\n    constructor(props) {\n        super(props);\n        this.queryApp = props.parent.parent\n        this.state = {data: props.data, dataForRender: [], titleMap: {}}\n\n    }\n\n    componentDidMount() {\n        this.renderStream()\n    }\n\n    static isStream = (data) => {\n        if (data.length < 1) {\n            return false\n        }\n        try {\n            const item = JSON.parse(data[0][\"value\"])\n            if (!item[\"runId\"]) {\n                return false\n            }\n        } catch (e) {\n            return false\n        }\n\n        return true\n    }\n\n    static isShouldRender = (data) => {\n        return MLSQLStream.isStream(data)\n    }\n\n    renderStream = () => {\n        const data = this.state.data\n        const dataForRender = []\n        const dataForRender2 = []\n\n        data.forEach((item) => {\n            const jsonItem = JSON.parse(item[\"value\"])\n            const x = moment.utc(jsonItem.timestamp).format('DD,h:mm:ss')\n            dataForRender.push({\n                x: x,\n                inputRowsPerSecond: jsonItem.inputRowsPerSecond,\n                processedRowsPerSecond: jsonItem.processedRowsPerSecond\n            })\n\n            dataForRender2.push({\n                x: x,\n                numInputRows: jsonItem.numInputRows\n            })\n        })\n        this.setState({\n            dataForRender: dataForRender,\n            dataForRender2: dataForRender2\n        })\n    }\n\n    static renderRawData = (data) => {\n        if (!MLSQLStream.isShouldRender(data)) return \"\"\n        const dataForRender = []\n        data.forEach((item) => {\n            const jsonItem = JSON.parse(item[\"value\"])\n            dataForRender.push(JSON.stringify(jsonItem, null, 2))\n        })\n        return dataForRender.join(\"\\n\")\n    }\n\n    render() {\n        if (this.state.dataForRender.length === 0) return null\n        return <div>\n\n            <LineChart width={800} height={300} data={this.state.dataForRender}>\n                <Line type=\"monotone\" dataKey=\"inputRowsPerSecond\" stroke=\"#8884d8\"/>\n                <Line type=\"monotone\" dataKey=\"processedRowsPerSecond\" stroke=\"#82ca9d\"/>\n                <CartesianGrid stroke=\"#ccc\"/>\n                <XAxis dataKey=\"x\"/>\n                <YAxis/>\n                <Legend/>\n            </LineChart>\n\n            <LineChart width={800} height={300} data={this.state.dataForRender2}>\n                <Line type=\"monotone\" dataKey=\"numInputRows\" stroke=\"#8884d8\"/>\n                <CartesianGrid stroke=\"#ccc\"/>\n                <XAxis dataKey=\"x\"/>\n                <YAxis/>\n                <Legend/>\n            </LineChart>\n        </div>\n    }\n\n}\n\n","import React from 'react';\nimport {Resizable} from \"re-resizable\";\n\n\nexport default class MLSQLHTML {\n\n\n    static basicCheck = (data, fun) => {\n        if (data.length < 1) {\n            return false\n        }\n\n        try {\n            return fun(data[0])\n        } catch (e) {\n            return false\n        }\n\n        return true\n    }\n\n    static isShouldRender = (data) => {\n        return MLSQLHTML.basicCheck(data, (item) => {\n            return item.hasOwnProperty(\"html\") && (item.hasOwnProperty(\"dash\") || item.hasOwnProperty(\"_dash_config\"))\n        })\n    }\n\n    static render(data) {        \n        const item = data[0]    \n        return <MLSQLHTMLPanel data={item}></MLSQLHTMLPanel>\n    }\n\n}\n\nexport class MLSQLHTMLPanel extends React.Component {\n\n\n    constructor(props) {\n        super(props)\n        this.state = {data: this.props.data}\n    }\n\n    refresh = (data) => {\n        this.setState({data: data})\n    }\n\n    render() {        \n        return (\n            <div style={{width:\"100%\"}}>\n                <Resizable defaultSize={{height: \"500px\"}}>\n                    <iframe\n                        sandbox=\"allow-scripts\"\n                        style={{width: '100%', height: \"100%\"}}\n                        srcDoc={this.state.data[\"html\"]}\n                        frameBorder=\"0\"\n                        scrolling=\"yes\"\n                        ref={(f) => {\n                            this.ifr = f;\n                        }}\n\n                    />\n                </Resizable>\n            </div>\n        );\n        \n    }\n\n\n}","import React from 'react';\nimport { ActionProxy } from \"../../backend_service/ActionProxy\"\nimport RemoteAction from '../../backend_service/RemoteAction';\nimport { MLSQLQueryDisplay } from '../../components/MLSQLQueryDisplay';\nimport { Button, Modal } from 'antd';\nimport EditorOp from '../comp_op/EditorOp'\nimport AceEditor from 'react-ace';\nimport EngineService from '../service/EngineService';\n\nexport default class QueryHistory extends React.Component {\n    constructor(props){\n      super(props)\n      // here the queryApp is actually MLSQLACEEditor\n      this.queryApp = props.parent.queryApp      \n      this.client = new ActionProxy()\n      this.state = {showDetail:false,executeAgainStatus:{}}\n      \n\n      let defaultRender =  (value,record)=>{\n        return <Button type=\"link\" onClick={async (evt)=>{\n          // target button\n          // parentNode th\n          // parentNode tr\n          // the second th is jobName\n          // <tr><th>...</th></tr>\n          const currentTH = evt.target.parentNode\n          // another way get row index and column index\n          // console.log(`${currentTH.parentElement.rowIndex}:${currentTH.cellIndex} `)\n          // const domTree = evt.target.parentNode.parentNode      \n          // const jobName = domTree.children[1].innerText\n          // const num = [].slice.call(domTree.children).indexOf(currentTH)\n          const num = currentTH.parentNode.cellIndex\n          let field = \"\"\n          switch (num){\n            case 2: field= \"content\";break;\n            case 4: field= \"reason\";break;\n            case 7: field= \"response\";break;\n          } \n          console.log(num)         \n          await this.showDetail(record.name,field)\n          \n        }} ><span style={{whiteSpace:\"normal\",wordWrap:\"break-word\",width:\"100px\"}}>{value}</span></Button>\n      }\n      \n      let statusRender = (value)=>{\n        let t = \"\"\n        let cssStyle = {}\n        switch (value) {\n          case \"fail\": t = \"danger\"; break;\n          case \"killed\": t = \"danger\"; break;\n          case \"success\": t = \"primary\"; cssStyle ={backgroundColor:\"green\"}; break;\n          case \"running\": t = \"primary\";break;\n        }\n        \n        return <Button type={t} style={cssStyle}>{value}</Button>\n      }\n\n      let killJobRender = (value,record)=>{  \n        const jobName = record.name\n        if(record.status!==\"running\"){\n            return <Button type=\"primary\" key={jobName} loading={this.state.executeAgainStatus[jobName]} onClick={async (evt)=>{  \n               this.state.executeAgainStatus[jobName] = true \n               this.setState(this.state.executeAgainStatus)\n               await EngineService.runJob(record.content)\n               this.reload()\n            }}>Execute again</Button>\n        }\n        return <Button key={jobName} onClick={async (evt)=>{           \n           const res = await EngineService.killJob(jobName)\n           this.reload()\n         }}>Kill</Button>\n      }\n\n      let showTableRender = (value,record)=>{\n        return <Button type=\"link\" onClick={async (evt)=>{               \n          await this.showResponse(record.name)\n        }}><span style={{whiteSpace:\"normal\",wordWrap:\"break-word\",width:\"100px\"}}>{value}</span></Button>      \n      }\n\n      this.renderConfig = {\n        render:{\n          content: defaultRender,\n          response: showTableRender,\n          reason: defaultRender,\n          status: statusRender,\n          \"__command__\": killJobRender\n        }\n      }      \n    }\n\n    async reload(){\n      this.setState({executeAgainStatus:{}})\n      const res = await this.client.get(RemoteAction.JOB_LIST,{}) \n      if(res.status == 200){\n        if(this.display){\n            this.display.update(\n              this.processData(res.content),\n              this.renderConfig)\n        }  \n      }\n    }\n\n    processData(data){\n       return data.map(item=>{\n         const jobName = item[\"status\"]===\"running\" ? item[\"jobName\"] : \"\"\n         return Object.assign(item,{\"__command__\":jobName})\n       })\n    }\n\n    async showDetail(jobName,field){  \n      const res = await this.client.get(RemoteAction.JOB_DETAIL,{jobName:jobName})      \n      this.setState({        \n        showDetail: true,\n        detailConsoleMessage:res.content[field] \n      })           \n    }\n\n    async showResponse(jobName){  \n      const res = await this.client.get(RemoteAction.JOB_DETAIL,{jobName:jobName})\n      this.setState({        \n        showResponse: true\n      })            \n      if(this.respDisplay){                         \n        this.respDisplay.update(JSON.parse(res.content.response))\n      }      \n    }\n\n    toggleDetail = ()=>{      \n      this.setState({showDetail:!this.state.showDetail})\n    }\n    toggleResponse = ()=>{      \n      this.setState({showResponse:!this.state.showResponse})\n    }\n\n   async componentDidMount(){\n       await this.reload()\n    }\n\n    render(){\n      return <div className=\"mlsql-query-display\"> \n        <Modal  \n                    title={\"View\"}\n                    visible={this.state.showDetail}\n                    onCancel={this.toggleDetail}\n                    onOk={this.toggleDetail}\n                    cancelText=\"Cancel\" \n                    width=\"70%\"                   \n                    OkText=\"Ok\">                    \n         <AceEditor height={\"300px\"}\n                        width={\"100%\"}                        \n                        mode=\"text\"\n                        theme=\"github\"\n                        name=\"detail_box\"\n                        value={this.state.detailConsoleMessage||\"\"}\n        ></AceEditor>\n        </Modal> \n        <Modal  \n                    title={\"View\"}\n                    visible={this.state.showResponse}\n                    onCancel={this.toggleResponse}\n                    onOk={this.toggleResponse}\n                    cancelText=\"Cancel\" \n                    width=\"70%\"\n                    OkText=\"Ok\">                    \n        <MLSQLQueryDisplay style={{overflow:\"scroll\"}} ref={(_display)=>{this.respDisplay = _display}} parent={this}/>\n        </Modal> \n        <div style={{ marginBottom: 16 }}>\n          <Button type=\"primary\" onClick={()=>{this.reload()}}>\n            Reload\n          </Button>          \n        </div>     \n        <MLSQLQueryDisplay ref={(_display)=>{this.display = _display}} parent={this}/>\n      </div>\n    }\n}","import React, {Component, PureComponent} from 'react';\nimport {Collapse,Tabs} from 'antd';\nimport {UploadDropzone} from '../upload/UploadDropZone'\nimport MLSQLThreeDimScatterChart from \"../dash/MLSQLScatterChart\";\nimport MLSQLLineChart from \"../dash/MLSQLLineChart\";\nimport MLSQLStream from \"../dash/MLSQLStream\";\nimport MLSQLHTML from \"../dash/MLSQLHTML\";\nimport QueryHistory from \"../../v1/async_execute/QueryHistory\"\nimport ResourceProgress from '../../v1/async_execute/ResourceProgress';\nimport {\n    BarChart, Bar, Cell, XAxis, YAxis, CartesianGrid, Tooltip, Legend,\n  } from 'recharts';\n\n\nconst Panel = Collapse.Panel;\nconst TabPane = Tabs.TabPane;\n\nfunction callback(key) {\n    \n}\n\nexport class MLSQLDash extends PureComponent {\n    constructor(props) {\n        super(props);\n        this.queryApp = props.parent\n        this.state = {data: [], dataForRender: [], titleMap: {}}\n    }\n\n\n    static basicCheck = (data, fun) => {\n        if (data.length < 1) {\n            return false\n        }\n\n        try {\n            return fun(data[0])\n        } catch (e) {\n            return false\n        }\n\n        return true\n    }\n\n\n    isNormalXY = (data) => {\n        return MLSQLDash.basicCheck(data, (item) => {\n            return item.hasOwnProperty(\"x\") && item.hasOwnProperty(\"y\") && ((typeof item[\"y\"]) === \"number\")\n        })\n    }\n\n\n    xYRender = (data) => {\n        return <Bar\n            height={200}\n            title=\"Bar\"\n            data={data}\n        />\n    }\n\n\n    renderDash = () => {\n        const data = this.state.data        \n        if (MLSQLStream.isShouldRender(data)) {\n            return <MLSQLStream data={data} parent={this}/>\n        }\n\n        if (MLSQLThreeDimScatterChart.isShouldRender(data)) {\n            return MLSQLThreeDimScatterChart.render(data)\n        }\n\n        if (this.isNormalXY(data)) {\n            return this.xYRender(data)\n        }\n\n        if (MLSQLLineChart.isShouldRender(data)) {\n            return MLSQLLineChart.render(data)\n        }\n\n        if (MLSQLHTML.isShouldRender(data)) {\n            return MLSQLHTML.render(data)\n        }\n\n        return <div></div>\n\n    }\n\n    refresh() {\n        try {\n            const data = this.queryApp.queryResData || []\n            this.setState({data: data})\n        } catch (e) {\n\n        }\n\n    }\n\n\n    render() {\n        return (<Collapse onChange={callback}>\n            <Panel header=\"Tools/Dashboard\" key=\"0\">\n                <Tabs defaultActiveKey=\"0\" onChange={callback} onTabClick={(key)=>{\n                        if(key===\"0\"){                            \n                            this.resourceProgressRef.reload()\n                        }                        \n                    }}>\n                    <TabPane tab=\"Cluster Info\" key=\"0\">\n                     <ResourceProgress ref={(et)=>this.resourceProgressRef=et} parent={this}></ResourceProgress>\n                    </TabPane>\n                    <TabPane tab=\"Upload\" key=\"1\">\n                        <UploadDropzone/>\n                    </TabPane>\n                    <TabPane tab=\"Dashboard\" key=\"2\">{this.renderDash()}</TabPane>\n                    <TabPane tab=\"RawData\" key=\"3\">\n                        <pre>{MLSQLStream.renderRawData(this.state.data)}</pre>\n                    </TabPane>\n                    <TabPane tab=\"History\" key=\"4\">\n                        <QueryHistory ref={(et)=>this.queryHistory=et} parent={this}/>\n                    </TabPane>\n\n                    {/* <TabPane tab=\"Running jobs\" key=\"5\">\n                        <QueryHistory ref={(et)=>this.queryHistory=et}/>\n                    </TabPane> */}\n                </Tabs>\n            </Panel>\n        </Collapse>)\n    }\n\n}","import React from 'react'\nimport AceEditor from \"react-ace\";\n\n/**\n * onLoad(editor){\n  // Your editor options comes here\n   editor.on('change', (arg, activeEditor) => {\n      const aceEditor = activeEditor;\n      const newHeight = aceEditor.getSession().getScreenLength() *\n        (aceEditor.renderer.lineHeight + aceEditor.renderer.scrollBar.getWidth());\n       aceEditor.container.style.height = `${newHeight}px`;\n      aceEditor.resize();\n    });\n}\n */\nexport default class CodeBlock extends React.Component {\n\n    constructor(props) {\n        super(props)\n    }\n\n    originalEditor = () => {\n        return this.editor.editor\n    }\n\n    componentDidMount() {\n        this.originalEditor().container.style.lineHeight = 3\n    }\n\n    render() {\n        return (\n            <AceEditor\n                maxLines={Infinity}\n                width={\"100%\"}\n                ref={et => {\n                    this.editor = et\n                }}\n                value={this.props.initialCode}\n                mode=\"sql\"\n                theme=\"github\"\n\n            />\n        )\n    }\n}","import React from 'react'\nimport { Icon } from '@ant-design/compatible';\n\nexport default class CommandGroup extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {isExecute: false, executeUnit: props.executeUnit}\n    }\n\n    evtExecute = () => {\n        this.setState({isExecute: true})\n        this.state.executeUnit.execute()\n    }\n\n    cancelExecute = () => {\n        this.setState({isExecute: false})\n    }\n\n    render() {\n        return <div>\n            {\n                this.state.isExecute ? <span onClick={this.cancelExecute}><Icon type=\"sync\" spin/></span> :\n                    <span onClick={this.evtExecute}><Icon type=\"caret-right\"/></span>\n            }\n        </div>\n    }\n}","import {MLSQLAPI} from \"../../../service/MLSQLAPI\";\nimport * as BackendConfig from \"../../../service/BackendConfig\";\nimport * as HTTP from \"../../../service/HTTPMethod\";\n\nconst uuidv4 = require('uuid/v4');\n\nexport default class Engine {\n\n    /**\n     * @param {Number} timeout\n     */\n    constructor(timeout) {\n        this.timeout = timeout\n    }\n\n    /**\n     * @param {string} sql\n     * @param {(msg)=>{}} show_result\n     */\n    run = (sql, show_result, fail_result) => {\n        const jobName = uuidv4()\n        const api = new MLSQLAPI(BackendConfig.RUN_SCRIPT)\n\n        api.newRunScript({\n            jobName: jobName,\n            timeout: this.timeout\n        }, sql, show_result, fail_result)\n\n\n    }\n\n    /**\n     * @param {string} code\n     * @param {string} scriptId\n     * @param {(msg)=>{}} show_result\n     */\n    saveFile = (code, scriptId, show_result) => {\n        const api = new MLSQLAPI(BackendConfig.CREATE_SCRIPT_FILE)\n        api.request(HTTP.Method.POST, {\n            id: scriptId,\n            content: code\n        }, (ok) => {\n            if (ok.status != 200) {\n                ok.json((wow) => {\n                    show_result(wow[\"msg\"])\n                }, (jsonErr) => {\n                    show_result(jsonErr)\n                })\n            } else {\n                show_result(\"saved\")\n            }\n\n        }, (fail) => {\n            show_result(fail)\n        })\n    }\n}","import * as React from \"react\";\nimport {Table, Modal} from 'antd';\n\nconst ReactMarkdown = require('react-markdown')\n\n\nexport default class DataTable extends React.Component {\n\n    constructor(props) {\n        super(props)\n        const [keys, rows] = this.parseData(props.data || [], props.config || {})\n        this.state = {columns: keys, rows: rows, view: {enabled: false}}\n    }\n\n    setRender = (keyColumn, data, config) => {\n\n        const value = data[0][keyColumn.key]\n\n        if (config && config[\"render\"]) {\n            const render = this.state.config[\"render\"][keyColumn.key]\n            if (render) {\n                keyColumn[\"render\"] = render\n            }\n            return\n        }\n\n        try {\n            if (React.Component.isPrototypeOf(value.type)) {\n                keyColumn[\"render\"] = value => <span>{value}</span>\n                return\n            }\n        }\n        catch (e) {\n        }\n\n        if ((typeof value) === 'object') {\n            keyColumn[\"render\"] = value => <span>{JSON.stringify(value).substring(0, 300)}</span>\n            return\n        }\n        if ((typeof value) === 'array') {\n            keyColumn[\"render\"] = value => <span>{value.join(\",\").substring(0, 300)}</span>\n            return\n        }\n        if ((typeof value) === 'boolean') {\n            keyColumn[\"render\"] = value => <span>{value.toString()}</span>\n            return\n        }\n        if (keyColumn.key == \"fileSystem\" || keyColumn.key == \"message\" || keyColumn.key == \"info\") {\n            keyColumn[\"render\"] = value => <pre>{value.toString()}</pre>\n            return\n        }\n\n\n    }\n\n    parseData = (data, config) => {\n        let keys = []\n        let basket = {}\n        let rows = []\n        const self = this\n        //collect all keys\n        data.forEach(function (item) {\n            for (let key in item) {\n                if (!basket[key]) {\n                    const keyColumn = {\n                        title: key,\n                        dataIndex: key,\n                        key: key,\n                    }\n                    self.setRender(keyColumn, data)\n                    keys.push(keyColumn)\n                    basket[key] = true\n                }\n            }\n        })\n\n        // collect data\n        data.forEach(function (item, index) {\n            let new_item = {}\n            keys.forEach(function (key) {\n                new_item[key.key] = item[key.key]\n            })\n            new_item[\"key\"] = index\n            rows.push(new_item)\n        })\n        return [keys, rows]\n    }\n\n    refresh = (data, config) => {\n        // e.g. [{\"a\":1}]\n        const [keys, rows] = this.parseData(data, config)\n        this.setState({columns: keys, rows: rows, config: config})\n    }\n\n    rowDoubleClick = (row, index, event) => {\n        if (row.name === \"codeExample\" || row.name === \"doc\") {\n            this.setState({\n                view: {\n                    enabled: true,\n                    content: row.value\n                }\n            })\n        }\n    }\n\n    disablePreview = () => {\n        this.setState({\n            view: {\n                enabled: false\n            }\n        })\n    }\n\n    render() {\n        const self = this\n        return (<div>\n                <Table\n                    onRow={(row, index) => {\n                        return {\n                            onDoubleClick: (event) => {\n                                self.rowDoubleClick(row, index, event)\n\n                            }\n                        }\n                    }\n                    }\n\n                    columns={self.state.columns}\n                    dataSource={self.state.rows}/>\n                <Modal\n                    title={\"View\"}\n                    visible={self.state.view.enabled}\n                    onCancel={self.disablePreview}\n                    onOk={self.disablePreview}\n                    cancelText=\"Cancel\"\n                    OkText=\"Ok\"\n                >\n                    <ReactMarkdown source={self.state.view.content || \"\"}/>\n                </Modal>\n            </div>\n        )\n    }\n\n}","import React from 'react'\nimport DataTable from \"./DataTable\";\nimport MLSQLHTML, {MLSQLHTMLPanel} from \"../dash/MLSQLHTML\";\nimport AceEditor from \"react-ace\";\n\nexport default class DisplayGroup extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {errorMsg: \"\"}\n    }\n\n\n    refresh = (displayData) => {\n        this.setState({displayData: displayData, errorMsg: \"\"})\n        if (this.displayTableRef) {\n            this.displayTableRef.refresh(this.state.displayData, {})\n        }\n\n        if (this.displayDashRef) {\n            const item = this.state.displayData[0]\n            this.displayDashRef.refresh(item)\n        }\n\n    }\n\n    fail = (msg) => {\n        this.setState({errorMsg: msg})\n        if (this.editor) {\n            this.editor.editor.setValue(msg)\n        }\n    }\n\n    displayDash = () => {\n        if (this.state.displayData && MLSQLHTML.isShouldRender(this.state.displayData)) {\n            const item = this.state.displayData[0]\n            return <MLSQLHTMLPanel data={item} ref={(et) => this.displayDashRef = et}></MLSQLHTMLPanel>\n        } else {\n            return <div></div>\n        }\n\n    }\n\n    displayError = () => {\n        if (this.state.errorMsg) {\n            return <div><AceEditor\n                maxLines={Infinity}\n                width={\"100%\"}\n                ref={et => {\n                    this.editor = et\n                }}\n                value={this.state.errorMsg}\n                mode=\"text\"\n                theme=\"ace/theme/textmate\"\n\n            /></div>\n        } else {\n            return <div></div>\n        }\n    }\n\n    displayTable = () => {\n        if (this.state.displayData) {\n            return <DataTable data={this.state.displayData} ref={(et) => this.displayTableRef = et}></DataTable>\n        } else {\n            return <div></div>\n        }\n\n    }\n\n    render() {\n        return <div>\n            {this.displayError()}\n            {\n                this.displayTable()\n            }{this.displayDash()}</div>\n\n    }\n}","import React from 'react'\nimport CodeBlock from \"./CodeBlock\";\nimport CommandGroup from \"./CommandGroup\";\nimport Engine from \"./service/Engine\";\nimport DisplayGroup from \"./DisplayGroup\";\n\n\nexport default class ExecuteUnit extends React.Component {\n    constructor(props) {\n        super(props)\n        this.notebook = props.parent\n    }\n\n    execute = () => {\n        const sql = this.codeBlock.originalEditor().getValue()\n        const engine = new Engine(5 * 60 * 1000)\n        engine.run(sql, (msg) => {\n            this.displayGroup.refresh(msg)\n            this.commandGroup.setState({isExecute: false})\n            this.notebook.nextExecuteUnit()\n        }, msg => {\n            this.displayGroup.fail(msg)\n            this.commandGroup.setState({isExecute: false})\n        })\n    }\n\n    codeBlockIsEmpty = () => {\n        return this.getCodeStr() === \"\"\n    }\n\n    getCodeStr = () => {\n        return this.codeBlock.originalEditor().getValue()\n    }\n\n\n    render() {\n        return <div>\n            <CodeBlock initialCode={this.props.initialCode} ref={et => {\n                this.codeBlock = et\n            }} executeUnit={this}/>\n            <CommandGroup ref={et => {\n                this.commandGroup = et\n            }} executeUnit={this}/>\n            <DisplayGroup ref={et => this.displayGroup = et}/>\n\n        </div>\n    }\n}\n\n","import React from 'react'\nimport ExecuteUnit from \"./ExecuteUnit\";\nimport Engine from \"./service/Engine\";\n\nconst CODE_SPLITTER = \"set notebooksplitter='notebooksplitter';\"\n\nexport default class NodeBook extends React.Component {\n    constructor(props) {\n        super(props)\n        this.executeUnitRefs = []\n        this.executeUnits = [this.createNewExecuteUnit(\"\")]\n        this.state = {executeUnits: this.executeUnits}\n        this.engine = new Engine(5 * 60 * 1000)\n    }\n\n    createNewExecuteUnit = (initialCode) => {\n        return <ExecuteUnit parent={this} initialCode={initialCode} ref={et => this.addRef(et)}/>\n    }\n\n    addRef = (instance) => {\n        if (instance) {\n            this.executeUnitRefs.push(instance)\n        }\n    }\n\n    nextExecuteUnit = () => {\n        const isLastEmpty = () => {\n            return this.executeUnitRefs.slice(-1)[0].codeBlockIsEmpty()\n        }\n        if (!isLastEmpty()) {\n            this.executeUnits.push(this.createNewExecuteUnit())\n            this.setState({executeUnits: this.executeUnits})\n        }\n        this.saveNoteBook()\n    }\n\n    saveNoteBook = () => {\n        const value = this.executeUnitRefs.map((instance) => {\n            return instance.getCodeStr()\n        }).join(CODE_SPLITTER)\n\n        this.engine.saveFile(value, this.scriptId, (msg) => {\n        })\n    }\n\n    componentDidMount() {\n        if (this.props.parentCallback) {\n            this.props.parentCallback(this)\n        }\n    }\n\n    text = (value, scriptId) => {\n        this.scriptId = scriptId\n        this.initialCode = value\n        if (value && value !== \"undefined\") {\n            this.executeUnitRefs = []\n            this.executeUnits = this.initialCode.split(CODE_SPLITTER).map((initialCode) => {\n                return this.createNewExecuteUnit(initialCode)\n            })\n            this.setState({executeUnits: this.executeUnits})\n        }\n    }\n\n    render() {\n        return <div>\n            {\n                this.state.executeUnits\n            }\n        </div>\n    }\n}","import {ActionProxy} from '../backend_service/ActionProxy'\nconst uuidv4 = require('uuid/v4');\n\nexport class LogMonitor {\n    constructor(appendLog) {\n        this.appendLog = appendLog\n        this.log = {}\n    }\n    async cancelQueryLog() {\n        if (this.intervalTimer) {\n            clearInterval(this.intervalTimer)\n            this.intervalTimer = null\n        }\n    }\n\n    async queryLog() {\n        this.cancelQueryLog()\n        this.intervalTimer = setInterval(async () => {\n            const jobName = uuidv4()\n            const api = new ActionProxy()            \n            const res = await api.runScript(`load _mlsql_.\\`log/${this.log['offset'] || -1}\\` where filePath=\"engine_log\" as output;`, jobName, {})\n            const jsonObj = res.content[0]\n            if (jsonObj['value'].length > 0) {\n                this.appendLog(jsonObj['value'].map(item => {\n                    return item.split(\"__MMMMMM__\")[1]\n                }).join(\"\\n\"))\n            }\n            this.log['offset'] = jsonObj[\"offset\"]\n        }, 2000)\n    }\n}","import * as React from \"react\";\nimport brace from 'brace';\nimport 'brace/ext/searchbox';\nimport AceEditor from 'react-ace';\nimport 'brace/mode/sql';\nimport 'brace/theme/github';\nimport 'brace/ext/language_tools';\n\nimport '../MLSQLAceEditor.scss'\nimport { Button, Tooltip, Progress } from 'antd';\nimport { MLSQLAPI } from \"../../service/MLSQLAPI\";\nimport * as BackendConfig from \"../../service/BackendConfig\";\nimport * as HTTP from \"../../service/HTTPMethod\";\nimport { Select } from 'antd';\nimport { Resizable } from \"re-resizable\";\nimport {ActionProxy} from '../../backend_service/ActionProxy'\nimport { LogMonitor } from \"../../common/LogMonitor\";\n\nconst { Option } = Select;\n\nconst uuidv4 = require('uuid/v4');\n\n\nclass PythonACE extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.language = this.props.language || \"sql\"\n        this.queryApp = this.props.parent.queryApp\n\n        this.state = { value: \"\", loading: false }\n        \n        this.executeQuery = this.executeQuery.bind(this)\n        this.cancelQuery = this.cancelQuery.bind(this)\n        \n        this.logMonitor = new LogMonitor(this.appendLog)        \n        \n        this.log = {}\n    }\n\n    text = (value, scriptId) => {\n        this.setState({ value: value, scriptId: scriptId }, () => {\n            this.aceEditorRef.editor.setValue(value, 1)\n        })\n\n    }\n\n    componentDidMount() {\n        if (this.props.parentCallback) {\n            this.props.parentCallback(this)\n        }\n    }\n\n    onChange(newValue) {\n\n    }\n\n    executeSave = () => {\n        const api = new MLSQLAPI(BackendConfig.CREATE_SCRIPT_FILE)\n        const self = this\n\n        const messageBox = this.getMessageBoxAceEditor()\n\n        if (!self.state.scriptId) {\n            messageBox.setValue(\"no file are opened, cannot executeSave\")\n            return\n        }\n\n        api.request(HTTP.Method.POST, {\n            id: self.state.scriptId,\n            content: self.getAceEditor().getValue()\n        }, (ok) => {\n            if (ok.status != 200) {\n                ok.json((wow) => {\n                    self.appendLog(wow[\"msg\"])\n                }, (jsonErr) => {\n                    self.appendLog(jsonErr)\n                })\n            } else {\n                self.appendLog(\"saved\")\n            }\n\n        }, (fail) => {\n            self.appendLog(fail)\n        })\n\n    }\n\n    async executeQuery() {\n        this.commandGroup.setState({loading:true})\n        this.jobName = uuidv4()        \n        const api = new ActionProxy()\n        const self = this\n        self.getMessageBoxAceEditor().setValue(\"\")\n        self.getDisplay().update(JSON.parse(\"[]\"))\n\n        const select = self.getSelection()\n        let finalSQL = self.getAllText()\n\n\n        if (select !== '') {\n            finalSQL = select\n        }\n\n        const scriptId = self.state.scriptId\n        this.logMonitor.queryLog()\n        const res = await api.runScript(finalSQL, this.jobName, {\n            scriptId: scriptId,\n            runMode: \"python\",\n            executeMode: \"python\"\n        })        \n        if (res.status !== 200) {\n            this.logMonitor.cancelQueryLog()            \n            this.appendLog(res.content) \n            this.commandGroup.setState({loading:false})           \n            return\n        }\n        try {            \n            this.appendLog(res.content.join(\"\\n\"))\n        }catch(ex){\n            this.appendLog(res.content[\"msg\"])\n        }\n        this.logMonitor.cancelQueryLog()\n        this.commandGroup.setState({loading:false})\n    }\n\n    async cancelQuery() {\n        if (!this.jobName) return\n        const jobName = uuidv4()\n        const api = new ActionProxy()\n        const res = await api.runScript(\"!kill \" + this.jobName+\";\", jobName, {})                        \n        try {\n            this.appendLog(res.content[0]['description'])                \n        }catch(e){\n            this.appendLog(res.content)\n        }\n        \n        this.jobName = null\n        this.logMonitor.cancelQueryLog()\n    }\n\n    getAllText = () => {\n        return this.getAceEditor().getValue()\n    }\n\n    getSelection = () => {\n        let selectionRange = this.getAceEditor().getSelectionRange()\n        let content = this.getAceEditor().session.getTextRange(selectionRange);\n        return content\n    }\n\n    appendToEditor = (str) => {\n        const editor = this.getAceEditor()\n        const p = editor.getCursorPosition()\n        editor.session.insert(p, str)\n        editor.focus();\n    }\n\n    getAceEditor = () => {\n        return this.aceEditorRef.editor\n    }\n\n    getMessageBoxAceEditor = () => {\n        return this.queryApp.messageBox.current.editor\n    }\n\n    appendLog = (msg) => {\n        const editor = this.getMessageBoxAceEditor()\n        const session = editor.session\n        session.insert({\n            row: session.getLength(),\n            column: 0\n        }, \"\\n\" + msg)\n    }\n\n    getDashBoard = () => {\n        return this.queryApp.dash.current\n    }\n\n    getDisplay = () => {\n        return this.queryApp.display.current\n    }\n\n    render() {\n        const self = this\n        return (\n            <div className=\"mlsql-editor-area\">\n\n                <div onDragOver={(evt) => evt.preventDefault()} onDrop={this.etOver}>\n                    <Resizable defaultSize={{ height: \"500px\" }} onResize={() => { this.aceEditorRef.current.editor.resize(); }}><AceEditor\n                        ref={item => this.aceEditorRef=item}\n                        mode={this.language}\n                        theme=\"github\"\n                        width={\"100%\"}\n                        height={\"100%\"}\n                        onChange={this.onChange}\n                        name=\"mlsql_editor\"\n                        fontSize={16}\n                        showPrintMargin={true}\n                        showGutter={true}\n                        highlightActiveLine={true}\n                        editorProps={{\n                            $blockScrolling: Infinity\n                        }}\n                        setOptions={{\n                            enableBasicAutocompletion: true,\n                            enableLiveAutocompletion: true,\n                            enableSnippets: false,\n                            showLineNumbers: true,\n                            tabSize: 2,\n                            autoScrollEditorIntoView: true\n                        }}\n                    /></Resizable>\n                </div>\n\n                <CommandGroup ref={item => this.commandGroup=item} parent={this} />\n            </div>\n        )\n    }\n\n}\n\nclass CommandGroup extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = { loading: false, timeout: \"-1\" }\n        this.parent = props.parent\n    }\n\n    onChange = (value) => {\n        this.setState({ timeout: value })\n    }\n    \n\n    render() {\n        return (\n            <div className=\"mslql-editor-buttons\">\n                <Button onClick={this.parent.executeQuery}\n                    loading={this.state.loading}>Run</Button>\n                <Button onClick={this.parent.cancelQuery}>Cancel</Button>\n                <Button onClick={this.parent.executeSave}>Save</Button>\n\n            </div>\n        )\n    }\n\n}\n\n\nexport default PythonACE\n\n","import React from 'react'\nimport PythonACE from './PythonACE';\n\n\nexport default class PythonEditor extends React.Component {\n    constructor(props) {\n        super(props)    \n        this.queryApp = this.props.parent\n    }\n\n    addRef = (instance) => {  \n        if(instance){\n            this.editor = instance\n        }      \n    }\n    \n\n    componentDidMount() {\n        if (this.props.parentCallback) {\n            this.props.parentCallback(this)\n        }\n    }    \n\n    text = (value, scriptId) => {        \n        this.editor.text(value, scriptId)     \n    }\n    \n\n    render() {\n        return <div>\n            <PythonACE parent={this} ref={et => this.addRef(et)} language=\"python\"></PythonACE>\n        </div>\n    }\n}","import * as React from \"react\"\nimport {Tabs} from 'antd';\nimport MLSQLAceEditor from \"../MLSQLAceEditor\";\nimport NodeBook from \"../notebook/NoteBook\";\nimport PythonEditor from \"../python/PythonEditor\";\n\nconst TabPane = Tabs.TabPane;\n\nexport class TabEditor extends React.Component {\n    constructor(props) {\n        super(props);\n        this.parent = props.parent\n        this.myRefs = []\n        this.newTabIndex = 0;\n        const panes = [\n            {\n                title: 'MLSQL 1',\n                content: <MLSQLAceEditor parent={this.parent} parentCallback={(ref) => {\n                    this.pushRef({ref: ref, activeKey: \"newTab0\"})\n                }} activeKey='newTab0'/>,\n                key: 'newTab0'\n            },\n        ];\n        this.state = {\n            activeKey: panes[0].key,\n            panes,\n        };\n        this.newTabIndex++\n    }\n\n    pushRef = (ref) => {\n        this.myRefs.push(ref)\n    }\n\n    getCurrentEditor = () => {\n        const activeKey = this.state.activeKey;\n        let currentItem = null\n        this.myRefs.forEach(item => {\n            if (item.activeKey === activeKey) {\n                currentItem = item\n            }\n        })\n        return currentItem\n    }\n\n    onChange = (activeKey) => {\n\n        let currentItem = null\n\n        this.state.panes.forEach(item => {\n            if (item.key === activeKey) {\n                currentItem = item\n            }\n        })\n\n        if (currentItem && !currentItem.title.endsWith(\".mlsql\")) {\n            this.parent.setState({displayEditor: \"normal\"})\n        } else if(currentItem && !currentItem.title.endsWith(\".nb\")) {\n            this.parent.setState({displayEditor: \"notebook\"})\n        }else {\n            this.parent.setState({displayEditor: \"pythoneditor\"})\n        }\n\n        this.setState({activeKey});\n    }\n\n    onEdit = (targetKey, action) => {        \n        this[action](targetKey);\n    }\n\n    addFull = (tabName, callback) => {    \n        const editor = (activeKey) => {\n            if (tabName.endsWith(\".mlsql\")) {\n                return <MLSQLAceEditor parent={this.parent} parentCallback={(ref) => {\n                    this.pushRef({ref: ref, activeKey: activeKey})\n                    if (callback) {\n                        callback({ref: ref, activeKey: activeKey})\n                    }\n                }} activeKey={activeKey}/>\n            } else if(tabName.endsWith(\".nb\")) {\n                return <NodeBook parent={this.parent} parentCallback={(ref) => {\n                    this.pushRef({ref: ref, activeKey: activeKey})\n                    if (callback) {\n                        callback({ref: ref, activeKey: activeKey})\n                    }\n                }} activeKey={activeKey}/>\n            }else if(tabName.endsWith(\".py\")) {\n                return <PythonEditor parent={this.parent} parentCallback={(ref) => {\n                    this.pushRef({ref: ref, activeKey: activeKey})\n                    if (callback) {\n                        callback({ref: ref, activeKey: activeKey})\n                    }\n                }} activeKey={activeKey}/>\n            }\n        }\n\n        const panes = this.state.panes;\n        const activeKey = `newTab${this.newTabIndex++}`;\n        panes.push({\n            title: tabName || 'MLSQL ' + this.newTabIndex,\n            content: editor(activeKey),\n            key: activeKey\n        });\n        this.setState({panes, activeKey});\n    }\n\n    add = () => {\n        this.addFull('MLSQL ' + (this.newTabIndex+1),(params)=>{})\n    }\n\n    getPaneIndexByActiveKey = (targetKey) => {\n        let lastIndex;\n        this.state.panes.forEach((pane, i) => {\n            if (pane.key === targetKey) {\n                lastIndex = i - 1;\n            }\n        });\n        return lastIndex\n    }\n\n    remove = (targetKey) => {\n        let activeKey = this.state.activeKey;\n        let lastIndex = this.getPaneIndexByActiveKey(targetKey)\n\n        const panes = this.state.panes.filter(pane => pane.key !== targetKey);\n        if (panes.length && activeKey === targetKey) {\n            if (lastIndex >= 0) {\n                activeKey = panes[lastIndex].key;\n            } else {\n                activeKey = panes[0].key;\n            }\n        }\n        const editorRefList = this.myRefs.filter((item) => item.activeKey === targetKey)\n        this.myRefs = this.myRefs.filter((item) => item.activeKey !== targetKey)\n        this.parent.closeEditor(editorRefList[0])\n\n        this.setState({panes, activeKey});\n    }\n\n    render() {\n        return (\n            <Tabs\n                onChange={this.onChange}\n                activeKey={this.state.activeKey}\n                type=\"editable-card\"\n                onEdit={this.onEdit}\n            >\n                {this.state.panes.map(pane => <TabPane tab={pane.title} key={pane.key}\n                                                       closable={pane.closable}>{pane.content}</TabPane>)}\n            </Tabs>\n        );\n    }\n}","import * as React from \"react\";\nimport {Input} from \"antd\";\n\nconst InputGroup = Input.Group;\n\nexport class ETLoadParams extends React.Component {\n    constructor(props) {\n        super(props)\n        this.etPopLoad = props.parent\n        this.state = {}\n    }\n\n    render() {\n        return <div>\n            <span>parameters:</span>\n            <InputGroup compact={true}>\n                {this.state.dataForRender}\n            </InputGroup>\n        </div>\n    }\n}","const uuidv4 = require(\"uuid/v4\")\nexport default class Tools {\n    static getTempTableName = () => {\n        return (uuidv4() + \"\").replace(/-/g, \"\")\n    }\n    static getJobName = () => {\n        return uuidv4() + \"\"\n    }\n\n    static escapeQuote = (str)=>{\n        if(!str) return str\n        return str.replace(/[\\\"\"]/g, '\\\\\"')\n    }\n\n    static unQuote = (str) => {\n        if (str.startsWith(\"\\\"\") && str.endsWith(\"\\\"\")) {\n            return str.slice(1, str.length - 1)\n        }\n        if (str.startsWith(\"'\") && str.endsWith(\"'\")) {\n            return str.slice(1, str.length - 1)\n        }\n        if (str.startsWith(\"'''\") && str.endsWith(\"'''\")) {\n            return str.slice(3, str.length - 3)\n        }\n        return str\n    }\n\n    static visitDown = (tree, visit) => {\n        visit(tree)\n        if (tree.children) {\n            tree.children.map(item => {\n                Tools.visitDown(item, visit)\n            })\n        }\n    }\n    static visitUp = (tree, visit) => {\n        if (tree.children) {\n            tree.children.map(item => {\n                Tools.visitUp(item, visit)\n            })\n        }\n        visit(tree)\n    }\n\n    static robotFetchParam = () => {\n        return {\n            queryType: \"robot\",\n            fetchType: \"take\",\n            includeSchema: true\n        }\n    }\n\n    static robotFetchParamWithCollect = () => {\n        return {\n            queryType: \"robot\",\n            includeSchema: true\n        }\n    }\n\n    static getField = (v) => {\n        if (v.startsWith(\"`\") && v.endsWith(\"`\")) return v\n        return `\\`${v}\\``\n    }\n\n    static distinct = (arrays, field) => {\n        const tempF = {}\n        return arrays.filter(item => {\n            if (item[field] in tempF) {\n                return false\n            } else {\n                tempF[item[field]] = item[field]\n                return true\n            }\n        })\n    }\n    static fastCompareObject = (x, y) => {\n        return JSON.stringify(x) === JSON.stringify(y)\n    }\n    static deepCompareObject = (arg1, arg2) => {\n        var i, l, leftChain, rightChain;\n\n        function compare2Objects(x, y) {\n            var p;\n\n            // remember that NaN === NaN returns false\n            // and isNaN(undefined) returns true\n            if (isNaN(x) && isNaN(y) && typeof x === 'number' && typeof y === 'number') {\n                return true;\n            }\n\n            // Compare primitives and functions.     \n            // Check if both arguments link to the same object.\n            // Especially useful on the step where we compare prototypes\n            if (x === y) {\n                return true;\n            }\n\n            // Works in case when functions are created in constructor.\n            // Comparing dates is a common scenario. Another built-ins?\n            // We can even handle functions passed across iframes\n            if ((typeof x === 'function' && typeof y === 'function') ||\n                (x instanceof Date && y instanceof Date) ||\n                (x instanceof RegExp && y instanceof RegExp) ||\n                (x instanceof String && y instanceof String) ||\n                (x instanceof Number && y instanceof Number)) {\n                return x.toString() === y.toString();\n            }\n\n            // At last checking prototypes as good as we can\n            if (!(x instanceof Object && y instanceof Object)) {\n                return false;\n            }\n\n            if (x.isPrototypeOf(y) || y.isPrototypeOf(x)) {\n                return false;\n            }\n\n            if (x.constructor !== y.constructor) {\n                return false;\n            }\n\n            if (x.prototype !== y.prototype) {\n                return false;\n            }\n\n            // Check for infinitive linking loops\n            if (leftChain.indexOf(x) > -1 || rightChain.indexOf(y) > -1) {\n                return false;\n            }\n\n            // Quick checking of one object being a subset of another.\n            // todo: cache the structure of arguments[0] for performance\n            for (p in y) {\n                if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\n                    return false;\n                }\n                else if (typeof y[p] !== typeof x[p]) {\n                    return false;\n                }\n            }\n\n            for (p in x) {\n                if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\n                    return false;\n                }\n                else if (typeof y[p] !== typeof x[p]) {\n                    return false;\n                }\n\n                switch (typeof (x[p])) {\n                    case 'object':\n                    case 'function':\n\n                        leftChain.push(x);\n                        rightChain.push(y);\n\n                        if (!compare2Objects(x[p], y[p])) {\n                            return false;\n                        }\n\n                        leftChain.pop();\n                        rightChain.pop();\n                        break;\n\n                    default:\n                        if (x[p] !== y[p]) {\n                            return false;\n                        }\n                        break;\n                }\n            }\n\n            return true;\n        }\n\n        return compare2Objects(arg1, arg2)\n    }\n}","import * as React from \"react\";\nimport {MLSQLAPI} from \"../../service/MLSQLAPI\";\nimport {RUN_SCRIPT} from \"../../service/BackendConfig\";\nimport {\n    Select, Form, Icon, Input, Button, Checkbox, Col, Row\n} from 'antd';\nimport {ETLoadParams} from \"./ETLoadParams\";\nimport { ActionProxy } from \"../../backend_service/ActionProxy\";\nimport Tools from \"../../common/Tools\";\n\nconst InputGroup = Input.Group;\nconst Option = Select.Option;\n\n\nexport class ETPopLoad extends React.Component {\n    constructor(props) {\n        super(props)\n        this.etpop = props.parent\n        this.data = {params:{}}\n        this.state = {datasourcesRender: []}\n        this.loadParamsRef = React.createRef()\n    }\n\n\n    componentDidMount = async () => {\n        const self = this\n        const client = new ActionProxy()\n        const res = await client.runScript(\"load _mlsql_.`datasources` as output;\",Tools.getJobName(),Tools.robotFetchParamWithCollect())\n        const data = Tools.distinct(res.content.data,\"name\")\n        const datasourcesRender = []\n        data.forEach(item => {\n            datasourcesRender.push(<Option key={item.name} value={item.name}>{item.name}</Option>)\n        })\n        this.setState({datasourcesRender: datasourcesRender})\n    }\n\n    params = (evt) => {\n        this.data.params[evt.target.getAttribute(\"name\")] = evt.target.value\n    }\n\n\n    sourceType = (value, evt) => {\n        this.data.sourceTypeV = value\n        const self = this\n        const api = new MLSQLAPI(RUN_SCRIPT)\n        api.runScript({}, `load _mlsql_.\\`datasources/params/${value}\\` as output;`, (data) => {\n            const dataForRender = []\n            data.forEach(item => {\n                dataForRender.push(<Row key={`row-${item.param}`}>\n                    <Col>\n                        <Input key={`input-${item.param}`} style={{marginBottom: \"10px\"}} name={item.param} onChange={self.params} type=\"text\"\n                               addonBefore={item.param}\n                               placeholder={item.description}/>\n                    </Col>\n                </Row>)\n            })\n            self.loadParamsRef.current.setState({dataForRender: dataForRender})\n        }, fail => {\n\n        })\n    }\n\n    path = (evt) => {\n        this.data.pathV = evt.target.value\n    }\n\n    tableName = (evt) => {\n        this.data.tableNameV = evt.target.value\n    }\n\n    makeMLSQL = () => {\n        const self = this\n        let paramsArray = []\n        for (let k in this.data.params) {\n            let v = this.data.params[k]\n            if(v){\n                let rv = \"\\\"\" + v + \"\\\"\"\n                if (k === \"code\" || k === \"fitParam.[group].code\") {\n                    rv = \"'''\" + v + \"'''\"\n                }\n                paramsArray.push(k.replace(/\\[group\\]/g, '0') + \"=\" + rv)\n            }            \n        }\n\n        let whereStr = \"\"\n        if (paramsArray.length > 0) {\n            whereStr = \"where\"\n        }\n        return `load ${self.data.sourceTypeV}.\\`${self.data.pathV}\\` ${whereStr} ${paramsArray.join(\"and\\\\n \")} as ${self.data.tableNameV};`\n    }\n\n    render() {\n        return <div>\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        soureType:<Select\n                        onChange={this.sourceType}\n                        showSearch\n                        style={{width: 200}}\n                        placeholder=\"Choose DataSource type\"\n                        optionFilterProp=\"children\"\n                        filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n                    >{this.state.datasourcesRender}\n                    </Select>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n            {this.props.ignorePath? <div></div> : <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input onChange={this.path} type=\"text\" label=\"Path\" addonBefore=\"Path\"\n                               placeholder=\"File path or tableName\"/>\n                    </Col>\n                </Row>\n            </InputGroup>}\n            <br/>\n             {\n                 this.props.ignoreTableName? <div></div>: <InputGroup compact={true}>\n                 <Row>\n                     <Col>\n                         <Input type=\"text\" onChange={this.tableName} label=\"tableName\" addonBefore=\"tableName\"\n                                placeholder=\"tableName\"/>\n                     </Col>\n                 </Row>\n             </InputGroup>\n             }\n            <br/>\n            <ETLoadParams parent={this} ref={this.loadParamsRef}/>\n        </div>\n    }\n}\n","import * as React from \"react\";\nimport {MLSQLAPI} from \"../../service/MLSQLAPI\";\nimport {RUN_SCRIPT} from \"../../service/BackendConfig\";\nimport {\n    Select, Form, Icon, Input, Button, Checkbox, Col, Row\n} from 'antd';\n\nconst InputGroup = Input.Group;\nconst Option = Select.Option;\nconst {TextArea} = Input;\n\n\nexport class ETPopAlgorithm extends React.Component {\n    constructor(props) {\n        super(props)\n        this.etpop = props.parent\n        this.name = props.name\n        this.data = {params: {}}\n        this.state = {dataForRender: []}\n    }\n\n    renderParam = (item) => {\n        if (item.param === \"keepVersion\" && item.param === \"evaluateTable\") {\n            return null\n        }\n        if (item.param === \"code\" || item.param === \"fitParam.[group].code\") {\n            return <Row><Col>{item.param}:<TextArea style={{marginBottom: \"10px\"}} name={item.param}\n                                                    onChange={this.params}\n                                                    type=\"text\" rows={10}/></Col></Row>\n        }\n        return <Row>\n            <Col>\n                <Input style={{marginBottom: \"10px\"}} name={item.param} onChange={this.params} type=\"text\"\n                       addonBefore={item.param}\n                       placeholder={item.description}/>\n            </Col>\n        </Row>\n    }\n\n    componentDidMount() {\n        const self = this\n        const api = new MLSQLAPI(RUN_SCRIPT)\n\n        api.runScript({}, `load modelParams.\\`${self.name}\\` as output;`, (data) => {\n            const dataForRender = []\n            data.forEach(item => {\n                const temp = this.renderParam(item)\n                if (temp !== null) {\n                    dataForRender.push(temp)\n                    dataForRender.push(<br/>)\n                }\n\n            })\n            self.setState({dataForRender: dataForRender})\n        }, fail => {\n\n        })\n    }\n\n    params = (evt) => {\n        this.data.params[evt.target.getAttribute(\"name\")] = evt.target.value\n    }\n\n    path = (evt) => {\n        this.data.pathV = evt.target.value\n    }\n\n    tableName = (evt) => {\n        this.data.tableNameV = evt.target.value\n    }\n\n    makeMLSQL = () => {\n        const self = this\n        let paramsArray = []\n        for (let k in this.data.params) {\n            let v = this.data.params[k]\n            paramsArray.push(k.replace(/\\[group\\]/g, '0') + \"=\" + \"\\\"\" + v + \"\\\"\")\n        }\n\n        if (paramsArray.length == 0) {\n            paramsArray.push(\"keepVersion=\\\"true\\\"\")\n        }\n\n        return `train ${this.data.tableNameV} as ${this.name}.\\`${this.data.pathV}\\` where \n${paramsArray.join(\" and\\n \")};`\n    }\n\n    render() {\n        return <div>\n            <span>Training data and model path:</span>\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input type=\"text\" onChange={this.tableName} size={\"large\"} addonBefore=\"tableName\"\n                               placeholder=\"the table of training data\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input onChange={this.path} type=\"text\" size={\"large\"} addonBefore=\"Model save path\"\n                               placeholder=\"the location you save you model\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n            <span>Algorithm parameters:</span>\n            <InputGroup compact={true}>\n                {this.state.dataForRender}\n            </InputGroup>\n\n        </div>\n    }\n}\n","import * as React from \"react\";\nimport {MLSQLAPI} from \"../../service/MLSQLAPI\";\nimport {RUN_SCRIPT} from \"../../service/BackendConfig\";\nimport {\n    Select, Form, Icon, Input, Button, Checkbox, Col, Row\n} from 'antd';\n\nconst InputGroup = Input.Group;\nconst Option = Select.Option;\n\n\nexport class ETPopSave extends React.Component {\n    constructor(props) {\n        super(props)\n        this.etpop = props.parent\n        this.data = {}\n        this.state = {datasourcesRender: []}\n    }\n\n    componentDidMount() {\n        const self = this\n        const api = new MLSQLAPI(RUN_SCRIPT)\n\n        api.runScript({}, \"load _mlsql_.`datasources` as output;\", (data) => {\n            const datasourcesRender = []\n            data.forEach(item => {\n                datasourcesRender.push(<Option key={item.name} value={item.name}>{item.name}</Option>)\n            })\n            self.setState({datasourcesRender: datasourcesRender})\n        }, fail => {\n\n        })\n    }\n\n    sourceType = (value, evt) => {\n        this.data.sourceTypeV = value\n    }\n\n    saveMode = (value, evt) => {\n        this.data.saveModeV = value\n    }\n\n    path = (evt) => {\n        this.data.pathV = evt.target.value\n    }\n\n    tableName = (evt) => {\n        this.data.tableNameV = evt.target.value\n    }\n\n    partitionBy = (evt) => {\n        this.data.partitionByV = evt.target.value\n    }\n\n    fileNum = (evt) => {\n        this.data.fileNumV = evt.target.value\n    }\n\n    makeMLSQL = () => {\n        const self = this\n        let partitionByStr = \"\"\n        if (this.data.partitionByV) {\n            partitionByStr = \"partitionBy \" + this.data.partitionByV\n        }\n\n        let fileNumStr = `key=\"value\"`\n        if (this.data.fileNumV) {\n            fileNumStr = `fileNum=\"${this.data.fileNumV }\"`\n        }\n\n        return `save ${self.data.saveModeV} ${self.data.tableNameV} as ${self.data.sourceTypeV}.\\`${self.data.pathV}\\` \\n where ${fileNumStr} ${partitionByStr};`\n    }\n\n    render() {\n        return <div>\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        soureType:<Select\n                        onChange={this.sourceType}\n                        showSearch\n                        style={{width: 200}}\n                        placeholder=\"Choose DataSource type\"\n                        optionFilterProp=\"children\"\n                        filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n                    >{this.state.datasourcesRender}\n                    </Select>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        SaveMode:<Select\n                        onChange={this.saveMode}\n                        showSearch\n                        style={{width: 200}}\n                        placeholder=\"Choose save mode type\"\n                        optionFilterProp=\"children\"\n                        filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n                    >\n                        <Option key={\"overwrite\"} value={\"overwrite\"}>overwrite</Option>\n                        <Option key={\"append\"} value={\"append\"}>append</Option>\n                        <Option key={\"errorIfExists\"} value={\"errorIfExists\"}>errorIfExists</Option>\n                        <Option key={\"ignore\"} value={\"ignore\"}>ignore</Option>\n                    </Select>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input type=\"text\" onChange={this.tableName} label=\"tableName\" addonBefore=\"tableName\"\n                               placeholder=\"the tableName will be saved\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input onChange={this.path} type=\"text\" addonBefore=\"Target Path\"\n                               placeholder=\"File path or tableName\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input type=\"text\" onChange={this.partitionBy} addonBefore=\"partitionBy\"\n                               placeholder=\"partitionBy\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input type=\"text\" onChange={this.fileNum} addonBefore=\"fileNum\"\n                               placeholder=\"fileNum\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n\n\n        </div>\n    }\n}\n","import * as React from \"react\";\nimport {MLSQLAPI} from \"../../service/MLSQLAPI\";\nimport {RUN_SCRIPT} from \"../../service/BackendConfig\";\nimport {\n    Select, Form, Icon, Input, Button, Checkbox, Col, Row\n} from 'antd';\n\nconst InputGroup = Input.Group;\nconst Option = Select.Option;\nconst {TextArea} = Input;\n\n\nexport default class ETBaseTool extends React.Component {\n    constructor(props) {\n        super(props)\n        this.etpop = props.parent\n        this.name = props.name\n        this.data = {params: {}}\n        this.state = {\n            dataForRender: [],\n            tableHidden: props.tableHidden,\n            pathAlias: props.pathAlias,\n            pathHidden: props.pathHidden,\n            outputTableHidden: props.outputTableHidden,\n            outputTableAlias: props.outputTableAlias,\n            tableAlias: props.tableAlias\n        }\n    }\n\n    renderParam = (item) => {\n        if (item.param === \"keepVersion\" || item.param === \"evaluateTable\") {\n            return null\n        }\n        if (item.param === \"code\" || item.param === \"fitParam.[group].code\") {\n            return <Row><Col>{item.param}:<TextArea style={{marginBottom: \"10px\"}} name={item.param}\n                                                    onChange={this.params}\n                                                    type=\"text\" rows={10}/></Col></Row>\n        }\n        return <Row key={item.param}>\n            <Col>\n                <Input style={{marginBottom: \"10px\"}} name={item.param} onChange={this.params} type=\"text\"\n                       addonBefore={item.param}\n                       placeholder={item.description}/>\n            </Col>\n        </Row>\n    }\n\n    componentDidMount() {\n        const self = this\n        const api = new MLSQLAPI(RUN_SCRIPT)\n\n        api.runScript({}, `load modelParams.\\`${self.name}\\` as output;`, (data) => {\n            const dataForRender = []\n            data.forEach(item => {\n                const temp = this.renderParam(item)\n                if (temp !== null) {\n                    dataForRender.push(temp)\n                    dataForRender.push(<br/>)\n                }\n\n            })\n            self.setState({dataForRender: dataForRender})\n        }, fail => {\n\n        })\n    }\n\n    params = (evt) => {\n        this.data.params[evt.target.getAttribute(\"name\")] = evt.target.value\n    }\n\n    path = (evt) => {\n        this.data.pathV = evt.target.value\n    }\n\n    tableName = (evt) => {\n        this.data.tableNameV = evt.target.value\n    }\n\n    outputTableName = (evt) => {\n        this.data.outputTableNameV = evt.target.value\n    }\n\n    _makeMLSQL() {\n        const self = this\n        let paramsArray = []\n        for (let k in this.data.params) {\n            let v = this.data.params[k]\n            let rv = \"\\\"\" + v + \"\\\"\"\n            if (k === \"code\" || k === \"fitParam.[group].code\") {\n                rv = \"'''\" + v + \"'''\"\n            }\n            paramsArray.push(k.replace(/\\[group\\]/g, '0') + \"=\" + rv)\n        }\n\n        let whereStr = \"\"\n        if (paramsArray.length > 0) {\n            whereStr = \"where\"\n        }\n\n        let asStr = \"\"\n\n        if (this.data.outputTableNameV) {\n            asStr = `as ${this.data.outputTableNameV}`\n        }\n\n        //run command as DownloadExt.`` where from=\"test2\" and to=\"/tmp/jack\";\n        return `run ${this.data.tableNameV || \"command\"} as ${this.name}.\\`${this.data.pathV || \"\"}\\` ${whereStr} ${paramsArray.join(\"and\\n \")} ${asStr};`\n    }\n\n    showTableName = () => {\n        if (this.state.tableHidden !== \"true\") {\n            return <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input type=\"text\" onChange={this.tableName} size={\"large\"}\n                               addonBefore={this.state.tableAlias ? this.state.tableAlias : \"Input table\"}\n                               placeholder=\"\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n        }\n        return null\n    }\n\n    showOutputTableName = () => {\n        if (this.state.outputTableHidden !== \"true\") {\n            return <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input type=\"text\" onChange={this.outputTableName} size={\"large\"}\n                               addonBefore={this.state.outputTableAlias ? this.state.outputTableAlias : \"Output table\"}\n                               placeholder=\"\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n        }\n        return null\n    }\n\n    pathNameForRender = () => {\n        if (this.state.pathAlias) {\n            return this.state.pathAlias\n        } else {\n            return \"Save path\"\n        }\n    }\n    showPathName = () => {\n        if (this.state.pathHidden !== \"true\") {\n            return <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input onChange={this.path} type=\"text\" size={\"large\"} addonBefore={this.pathNameForRender()}\n                               placeholder=\"\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n        }\n        return \"\"\n    }\n\n    _render() {\n        return <div>\n            {this.showTableName()}\n            <br/>\n            {this.showOutputTableName()}\n            <br/>\n            {this.showPathName()}\n            <br/>\n            {this.state.dataForRender.length == 0 ? \"\" : <span>Parameters:</span>}\n            <InputGroup compact={true}>\n                {this.state.dataForRender}\n            </InputGroup>\n\n        </div>\n    }\n}\n","import * as React from \"react\";\nimport ETBaseTool from \"./ETBaseTool\";\n\n\nexport class ETPopTool extends ETBaseTool {\n    constructor(props) {\n        super(props)\n    }\n\n\n    makeMLSQL = () => {\n        return super._makeMLSQL()\n    }\n\n\n    render() {\n        return super._render()\n    }\n}\n","import * as React from \"react\";\nimport {MLSQLAPI} from \"../../service/MLSQLAPI\";\nimport {RUN_SCRIPT} from \"../../service/BackendConfig\";\nimport {\n    Select, Form, Icon, Input, Button, Checkbox, Col, Row\n} from 'antd';\nimport {ETPopTool} from \"./ETPopTool\";\n\nconst InputGroup = Input.Group;\nconst Option = Select.Option;\n\n\nexport class ETPopDownload extends ETPopTool {\n\n    makeMLSQL = () => {\n        const self = this\n        let paramsArray = []\n        for (let k in this.data.params) {\n            let v = this.data.params[k]\n            paramsArray.push(k.replace(/\\[group\\]/g, '0') + \"=\" + \"\\\"\" + v + \"\\\"\")\n        }\n\n        if (paramsArray.length == 0) {\n            paramsArray.push(\"keepVersion=\\\"true\\\"\")\n        }\n        //run command as DownloadExt.`` where from=\"test2\" and to=\"/tmp/jack\";\n        return `run command as ${this.name}.\\`\\` where \n${paramsArray.join(\" and\\n \")};`\n    }\n\n    render() {\n        return <div>\n\n            <InputGroup compact={true}>\n                {this.state.dataForRender}\n            </InputGroup>\n\n        </div>\n    }\n}\n","import * as React from \"react\";\nimport brace from 'brace';\nimport 'brace/ext/searchbox';\nimport AceEditor from 'react-ace';\nimport 'brace/mode/scala';\nimport 'brace/mode/python';\nimport 'brace/mode/java';\nimport 'brace/theme/github';\nimport 'brace/ext/language_tools'\nimport {\n    Select, Form, Icon, Input, Button, Checkbox, Col, Row\n} from 'antd';\nimport Switch from \"../../../node_modules/antd/lib/switch\";\n\nconst Option = Select.Option;\nconst {TextArea} = Input;\n\nexport class ETPopScriptUDF extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.etpop = props.parent\n        this.name = props.name\n        this.data = {params: {}}\n        this.state = {dataForRender: []}\n        this.codeRef = React.createRef()\n        this.codeCheckRef = React.createRef()\n    }\n\n    udfName = (evt) => {\n        this.data.udfNameV = evt.target.value\n    }\n\n    dataType = (evt) => {\n        this.data.dataTypeV = evt.target.value\n    }\n\n    udfType = (value) => {\n        this.udfTypeV = value\n    }\n\n    code = (newValue) => {\n        this.codeV = newValue\n    }\n\n\n    componentDidMount() {\n\n    }\n\n    langSelect = (value) => {\n        this.lang = value\n        this.codeCheckRef.current.checked = false\n        this.setState({dataType: false})\n        if (this.lang === \"python\") {\n            this.setState({dataType: true})\n        }\n        this.setState({codeLang: value})\n\n\n    }\n\n    setCodeExample = (checked) => {\n        if (checked) {\n            this.codeRef.current.editor.setValue(this.codeExample())\n        } else {\n            this.codeRef.current.editor.setValue(\"\")\n        }\n\n    }\n\n    codeExample = () => {\n        const lang = this.state.codeLang || \"scala\"\n        if (lang === \"scala\") {\n            return `def apply(a:Double,b:Double)={\n   a + b\n}`\n        }\n\n        if (lang === \"python\") {\n            return `def apply(self,m):\n    return m`\n        }\n\n        if (lang === \"java\") {\n            return `import java.util.HashMap;\nimport java.util.Map;\npublic class UDF {\n  public Map<String, Integer[]> apply(String s) {\n    Map<String, Integer[]> m = new HashMap<>();\n    Integer[] arr = {1};\n    m.put(s, arr);\n    return m;\n  }\n}`\n        }\n        return null\n    }\n\n    showDataType = () => {\n        if (this.state.dataType) {\n            return <Row>\n                <Col>\n                    dataType:<TextArea style={{marginBottom: \"10px\"}} name={\"dataType\"} rows={10}\n                                       onChange={this.dataType}\n                                       type=\"text\"\n                                       addonBefore={\"dataType\"}\n                                       placeholder={`This is not required when lang is scala\nAs we know python is not strongly typed language, so\nwe should manually spcify the return type.\nmap(string,string) means a map with key is string type,value also is string type.\narray(string) means a array with string type element.\nnested is support e.g. array(array(map(string,array(string))))\n\n`}/>\n                </Col>\n            </Row>\n\n        }\n        return null\n    }\n\n    showCode = () => {\n        return <div><Row>\n            <Col>\n                code:<AceEditor ref={this.codeRef}\n                                mode={this.state.codeLang || \"scala\"}\n                                theme=\"github\"\n                                width={\"400px\"}\n                                height={\"300px\"}\n                                name=\"code\"\n                                fontSize={16}\n                                showPrintMargin={true}\n                                showGutter={true}\n                                highlightActiveLine={true}\n                                onChange={this.code}\n                                editorProps={{\n                                    $blockScrolling: Infinity\n                                }}\n                                setOptions={{\n                                    enableBasicAutocompletion: true,\n                                    enableLiveAutocompletion: true,\n                                    enableSnippets: false,\n                                    showLineNumbers: true,\n                                    tabSize: 2,\n                                }}\n            />\n            </Col>\n        </Row>\n            <Row>\n                <Col>\n                    <Col span={8}>\n                        Show CodeExample:<Switch ref={this.codeCheckRef} onChange={this.setCodeExample}/>\n                    </Col>\n                </Col>\n            </Row></div>\n    }\n\n    makeMLSQL = () => {\n        const self = this\n        let paramsArray = []\n        paramsArray.push(`lang=\"${this.lang}\"`)\n        paramsArray.push(`code='''${this.codeV}'''`)\n        paramsArray.push(`udfType=\"${this.udfTypeV}\"`)\n        if (this.dataTypeV) {\n            paramsArray.push(`dataType='''${this.dataTypeV}'''`)\n        }\n        return `register ScriptUDF.\\`\\` as ${this.data.udfNameV} where \n${paramsArray.join(\"\\nand \")};`\n    }\n\n    render() {\n        return <div>\n\n            <Row>\n                <Col>\n                    <Input onChange={this.udfName} type=\"text\" size={\"large\"} addonBefore=\"UDF Name\"\n                           placeholder=\"the name of udf\"/>\n                </Col>\n            </Row>\n            <br/>\n\n            <Row>\n                <Col span={4}>\n                    <span>udfType:</span>\n                </Col>\n                <Col span={20}>\n                    <Select\n                        showSearch\n                        onChange={this.udfType}\n                        style={{width: 200}}\n                        placeholder=\"Select udf type\"\n                        optionFilterProp=\"children\"\n                        filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n                    >\n                        <Option value=\"udf\">udf</Option>\n                        <Option value=\"udaf\">udaf</Option>\n                    </Select>\n                </Col>\n            </Row>\n            <br/>\n            <Row>\n                <Col span={4}>\n                    <span>Lang:</span>\n                </Col>\n                <Col span={20}>\n                    <Select\n                        showSearch\n                        style={{width: 200}}\n                        placeholder=\"Select language type\"\n                        optionFilterProp=\"children\"\n                        onChange={this.langSelect}\n                        filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n                    >\n                        <Option value=\"java\">java</Option>\n                        <Option value=\"scala\">scala</Option>\n                        <Option value=\"python\">python</Option>\n                    </Select>\n                </Col>\n            </Row>\n            <br/>\n            {this.showDataType()}\n            <br/>\n            {this.showCode()}\n            <br/>\n            <Row>\n                <Col>\n                    <Input style={{marginBottom: \"10px\"}} name={\"methodName\"} onChange={this.params} type=\"text\"\n                           addonBefore={\"methodName\"}\n                           placeholder={\"methodName\"}/>\n                </Col>\n            </Row>\n\n\n        </div>\n    }\n}\n","import * as React from \"react\";\nimport {MLSQLAPI} from \"../../service/MLSQLAPI\";\nimport {RUN_SCRIPT} from \"../../service/BackendConfig\";\nimport {\n    Select, Form, Icon, Input, Button, Checkbox, Col, Row\n} from 'antd';\n\nconst InputGroup = Input.Group;\nconst Option = Select.Option;\n\n\nexport class ETExample extends React.Component {\n    constructor(props) {\n        super(props)\n        this.etpop = props.parent\n        this.name = props.name\n        this.data = {params: {}}\n        this.state = {\n            dataForRender: [],\n            tableHidden: props.tableHidden,\n            pathAlias: props.pathAlias,\n            pathHidden: props.pathHidden\n        }\n    }\n\n    componentDidMount() {\n        const self = this\n        const api = new MLSQLAPI(RUN_SCRIPT)\n\n        api.runScript({}, `load model.\\`list\\` as output;`, (data) => {\n            const dataForRender = []\n            data.forEach(item => {\n                dataForRender.push(<Option key={item.name} value={item.name}>{item.name}</Option>)\n            })\n            self.setState({dataForRender: dataForRender})\n        }, fail => {\n\n        })\n    }\n\n    etName = (value) => {\n        this.etName = value\n    }\n    makeMLSQL = () => {\n        return `load modelExample.\\`${this.etName}\\` as output;`\n    }\n\n    render() {\n        return <div>\n            <Row>\n                <Col>\n                    ET:<Select\n                    onChange={this.etName}\n                    showSearch\n                    style={{width: 200}}\n                    placeholder=\"Choose DataSource type\"\n                    optionFilterProp=\"children\"\n                    filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n                >{this.state.dataForRender}\n                </Select>\n                </Col>\n            </Row>\n        </div>\n    }\n}\n","import * as React from \"react\";\nimport {MLSQLAPI} from \"../../service/MLSQLAPI\";\nimport {RUN_SCRIPT} from \"../../service/BackendConfig\";\nimport {\n    Select, Form, Icon, Input, Button, Checkbox, Col, Row\n} from 'antd';\nimport {ETLoadParams} from \"./ETLoadParams\";\nimport {ETPopTool} from \"./ETPopTool\";\n\nconst InputGroup = Input.Group;\nconst Option = Select.Option;\n\n\nexport class ETRegister extends ETPopTool {\n\n    componentDidMount() {\n        const self = this\n        const api = new MLSQLAPI(RUN_SCRIPT)\n\n        api.runScript({}, `load model.\\`list\\` as output;`, (data) => {\n            const dataForRender = []\n            data.forEach(item => {\n                dataForRender.push(<Option key={item.name} value={item.name}>{item.name}</Option>)\n            })\n            self.setState({dataForRender: dataForRender})\n        }, fail => {\n\n        })\n    }\n\n    makeMLSQL = () => {\n        const self = this\n        return `register ${self.data.sourceTypeV}.\\`${self.data.pathV}\\` as ${self.data.outputTableNameV};`\n    }\n\n    etName = (value) => {\n        this.data.sourceTypeV = value\n    }\n\n    render() {\n        return <div>\n            {this.showTableName()}\n            <br/>\n            {this.showOutputTableName()}\n            <br/>\n            {this.showPathName()}\n            <br/>\n            <Row>\n                <Col>\n                    ET:<Select\n                    onChange={this.etName}\n                    showSearch\n                    style={{width: 200}}\n                    placeholder=\"Choose DataSource type\"\n                    optionFilterProp=\"children\"\n                    filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n                >{this.state.dataForRender}\n                </Select>\n                </Col>\n            </Row>\n\n        </div>\n    }\n\n\n}\n","import * as React from \"react\";\nimport {Col, Input, Row, Select} from \"antd\";\nimport ETBaseTool from \"./ETBaseTool\";\n\nconst InputGroup = Input.Group;\n\nexport default class ETStringIndex extends ETBaseTool {\n\n    constructor(props) {\n        super(props)\n    }\n\n    makeMLSQL = () => {\n\n        let asStr = \"\"\n\n        if (this.data.outputTableNameV) {\n            asStr = `as ${this.data.outputTableNameV}`\n        }\n\n        const sqlTrain = super._makeMLSQL().replace(asStr, \"\")\n\n        const sqlBatchPredict = `predict ${this.data.tableNameV} as ${this.name}.\\`${this.data.pathV || \"\"}\\` ${asStr};`\n\n        return (`${sqlTrain}\n        ${sqlBatchPredict}\n        register ${this.name}.\\`${this.data.pathV || \"\"}\\` as ${this.data.functionNameV}; \n        `).stripMargin()\n    }\n\n    functionName = (evt) => {\n        this.data.functionNameV = evt.target.value\n    }\n\n    render() {\n        return <div>\n            {this.showTableName()}\n            <br/>\n\n            {this.showOutputTableName()}\n            <br/>\n            {this.showPathName()}\n            <br/>\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input onChange={this.functionName} type=\"text\" size={\"large\"} addonBefore={\"functionName\"}\n                               placeholder=\"A function you can use to convert String to number or number to String\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n            {this.state.dataForRender.length == 0 ? \"\" : <span>Parameters:</span>}\n            <InputGroup compact={true}>\n                {this.state.dataForRender}\n            </InputGroup>\n\n        </div>\n    }\n}","import ETBaseTool from \"./ETBaseTool\";\nimport * as React from \"react\";\n\nexport class ETDownloadFile extends ETBaseTool {\n\n    constructor(props) {\n        super(props)\n    }\n\n    makeMLSQL = () => {\n        const url = `/api_v1/public/file/download?fileName=${encodeURIComponent(this.data.pathV)}`\n        const link = document.createElement('a');\n        link.href = url;\n        link.target = \"_blank\"\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        return \"\"\n    }\n\n    componentDidMount() {\n    }\n\n    render() {\n        return super._render()\n    }\n}","import * as React from \"react\";\nimport {MLSQLAPI} from \"../../service/MLSQLAPI\";\nimport {RUN_SCRIPT} from \"../../service/BackendConfig\";\nimport {\n    Select, Form, Icon, Input, Button, Checkbox, Col, Row\n} from 'antd';\n\nconst InputGroup = Input.Group;\nconst Option = Select.Option;\n\n\nexport class ETStreamProgress extends React.Component {\n    constructor(props) {\n        super(props)\n        this.etpop = props.parent\n        this.name = props.name\n        this.data = {params: {}}\n        this.state = {\n            dataForRender: [],\n            tableHidden: props.tableHidden,\n            pathAlias: props.pathAlias,\n            pathHidden: props.pathHidden\n        }\n    }\n\n    componentDidMount() {\n        const self = this\n        const api = new MLSQLAPI(RUN_SCRIPT)\n\n        api.runScript({}, `load _mlsql_.\\`jobs\\` as output;`, (data) => {\n\n            const dataForRender = data.filter(item => {\n                return item.jobType === \"stream\"\n            }).map(item => {\n                return <Option key={item.jobName} value={item.jobName}>{item.jobName}</Option>\n            })\n\n            self.setState({dataForRender: dataForRender})\n        }, fail => {\n\n        })\n    }\n\n    etName = (value) => {\n        this.etName = value\n    }\n    makeMLSQL = () => {\n        return `load _mlsql_.\\`progress/${this.etName}\\` as output;`\n    }\n\n    render() {\n        return <div>\n            <Row>\n                <Col>\n                    Stream Jobs:<Select\n                    onChange={this.etName}\n                    showSearch\n                    style={{width: 200}}\n                    placeholder=\"Choose Stream Name\"\n                    optionFilterProp=\"children\"\n                    filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n                >{this.state.dataForRender}\n                </Select>\n                </Col>\n            </Row>\n        </div>\n    }\n}\n","import * as React from \"react\";\nimport Modal from \"../../../node_modules/antd/lib/modal/Modal\";\nimport {ETPopLoad} from \"./ETPopLoad\";\nimport {ETPopAlgorithm} from \"./ETPopAlgorithm\";\nimport {ETPopSave} from \"./ETPopSave\";\nimport {ETPopTool} from \"./ETPopTool\";\nimport {ETPopDownload} from \"./ETPopDownload\";\nimport {ETPopScriptUDF} from \"./ETPopScriptUDF\";\nimport {ETExample} from \"./ETExample\";\nimport {ETRegister} from \"./ETRegister\";\nimport ETStringIndex from \"./ETStringIndex\";\nimport {ETDownloadFile} from \"./ETDownloadFile\";\nimport {ETStreamProgress} from \"./ETStreamProgress\";\n\nexport class ETPop extends React.Component {\n    constructor(props) {\n        super(props)\n        this.et = props.parent\n        this.popChild = React.createRef()\n        this.state = {etModalVisible: true, title: props.title}\n        this.data = {}\n    }\n\n    disableEtModalVisible = () => {\n        this.et.setState({etPop: false, etModalVisible: false})\n    }\n    enableEtModalVisible = () => {\n        const sql = this.popChild.current.makeMLSQL()\n        this.et.makeMLSQL(sql)\n        this.et.setState({etPop: false, etModalVisible: false})\n    }\n\n    renderContent = () => {\n        if (this.et.state.eventName === \"load\") {\n            return <ETPopLoad parent={this} ref={this.popChild}/>\n        }\n        if (this.et.state.eventName === \"save\") {\n            return <ETPopSave name={this.et.state.eventName} ref={this.popChild}/>\n        }\n\n        if (this.et.state.eventName === \"DownloadExt\") {\n            return <ETPopDownload name={this.et.state.eventName} ref={this.popChild}/>\n        }\n\n        if (this.et.state.eventName === \"StringIndex\") {\n            return <ETStringIndex name={this.et.state.eventName} ref={this.popChild}/>\n        }\n\n        if (this.et.state.eventName === \"DownloadFile\") {\n            return <ETDownloadFile name={this.et.state.eventName} ref={this.popChild} {...this.et.state}/>\n        }\n\n        if (this.et.state.eventName === \"ETExample\") {\n            return <ETExample name={this.et.state.eventName} ref={this.popChild}/>\n        }\n\n        if (this.et.state.eventName === \"ETStreamProgress\") {\n            return <ETStreamProgress name={this.et.state.eventName} ref={this.popChild}/>\n        }\n\n        if (this.et.state.eventName === \"ScriptUDF\") {\n            return <ETPopScriptUDF name={this.et.state.eventName} ref={this.popChild}/>\n        }\n\n        if (this.et.state.eventName === \"register\") {\n            return <ETRegister name={this.et.state.eventName} ref={this.popChild} {...this.et.state}/>\n        }\n\n        if (this.et.state.processType === \"tool\") {\n            return <ETPopTool name={this.et.state.eventName} ref={this.popChild} {...this.et.state}/>\n        }\n\n        return <ETPopAlgorithm name={this.et.state.eventName} ref={this.popChild}/>\n    }\n\n\n    render() {\n        return (\n            <div>\n                <Modal\n                    title={this.state.title}\n                    visible={this.state.etModalVisible}\n                    onCancel={this.disableEtModalVisible}\n                    onOk={this.enableEtModalVisible}\n                    okText=\"Ok\"\n                    cancelText=\"Cancel\"\n                >\n                    {this.renderContent()}\n                </Modal>\n            </div>\n        )\n    }\n}","import * as React from \"react\";\nimport {Collapse, Tabs} from 'antd';\nimport {Card, Col, Row} from 'antd';\nimport {ETPop} from \"./ETPop\";\nimport Tag from \"../../../node_modules/antd/lib/tag\";\n\n\nconst Panel = Collapse.Panel;\nconst TabPane = Tabs.TabPane;\n\nexport class MLSQLETQuick extends React.Component {\n    constructor(props) {\n        super(props)\n        this.queryApp = props.parent\n        this.state = {}\n        this.itemData = {}\n    }\n\n    componentDidMount() {\n\n    }\n\n    setData = (k, v) => {\n        this.itemData[k] = v\n    }\n\n    getData = (k) => {\n        return this.itemData[k]\n    }\n\n    onDragStart = (evt) => {\n        const processType = evt.target.getAttribute(\"processtype\")\n        this.setData(\"eventName\", evt.target.getAttribute(\"name\"));\n        this.setData(\"popName\", evt.target.getAttribute(\"help\"));\n        this.setData(\"processType\", processType);\n        this.setData(\"pathAlias\", evt.target.getAttribute(\"pathalias\") || \"\");\n        this.setData(\"outputTableAlias\", evt.target.getAttribute(\"outputtablealias\") || \"\");\n        this.setData(\"tableAlias\", evt.target.getAttribute(\"tablealias\") || \"\");\n        this.setData(\"tableHidden\", evt.target.getAttribute(\"tablehidden\") || false);\n        this.setData(\"pathHidden\", evt.target.getAttribute(\"pathhidden\") || false);\n        this.setData(\"outputTableHidden\", evt.target.getAttribute(\"outputtablehidden\") || false);\n\n\n    }\n\n    makeMLSQL = (sql) => {\n        this.queryApp.getCurrentEditor().ref.appendToEditor(sql)\n    }\n\n\n    renderPop = () => {\n        if (this.state.etPop) {\n            return <ETPop parent={this} title={this.state.popName}/>\n        }\n        return null\n    }\n\n\n    etDoubleClick = (evt) => {\n        this.onDragStart(evt)\n        this.queryApp.getCurrentEditor().ref.etOver(evt)\n    }\n\n    render() {\n        return (\n            <div>\n                <Collapse style={{margin: \"0px 0px\", padding: \"0px 0px\"}}>\n                    <Panel header=\"Quick Menu\" key=\"1\">\n                        <Row gutter={16}>\n                            <Col span={8}>\n                                <Card title={\"Load/Save Data\"}>\n\n                                    <Tag tyle={{marginBottom: \"10px\"}} title=\"Load/Save Data\"\n                                         onDragStart={this.onDragStart} name={\"load\"}\n                                         help={\"Load file/db as table\"}\n                                         draggable={true} color=\"magenta\" onDoubleClick={this.etDoubleClick}>Load\n                                        data</Tag>\n\n                                    <Tag tyle={{marginBottom: \"10px\"}} title=\"Save Data\" onDragStart={this.onDragStart}\n                                         name={\"save\"}\n                                         help={\"Save table into file/db \"}\n                                         draggable={true} color=\"magenta\" onDoubleClick={this.etDoubleClick}>Save data</Tag>\n                                </Card>\n                            </Col>\n                            <Col span={8}>\n                                <Card title=\"Algorithms\">\n                                    <Tag tyle={{marginBottom: \"10px\"}} onDragStart={this.onDragStart}\n                                         name={\"TfIdfInPlace\"}\n                                         help={\"Use TfIdfInPlace vectorize text\"}\n                                         draggable={true} color=\"magenta\" onDoubleClick={this.etDoubleClick}>TfIdf</Tag>\n\n                                    <Tag tyle={{marginBottom: \"10px\"}} onDragStart={this.onDragStart}\n                                         name={\"Word2VecInPlace\"}\n                                         help={\"Use Word2VecInPlace vectorize text\"}\n                                         draggable={true} color=\"magenta\" onDoubleClick={this.etDoubleClick}>Word2vec</Tag>\n\n                                    <Tag tyle={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"RandomForest\"}\n                                         help={\"Use RandomForest to train a model\"}\n                                         draggable={true} color=\"magenta\">RandomForest</Tag>\n\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"PythonAlg\"}\n                                         help={\"Run python lib to train\"}\n                                         draggable={true} color=\"magenta\">Python Algorithm</Tag>\n\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"BigDLClassifyExt\"}\n                                         help={\"Use BigDL to develop deep learning algorithm\"}\n                                         draggable={true} color=\"magenta\">Deep Learning</Tag>\n\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"NaiveBayes\"}\n                                         help={\"Use NaiveBayes\"}\n                                         draggable={true} color=\"magenta\">NaiveBayes</Tag>\n                                </Card>\n                            </Col>\n\n                            <Col span={8}>\n                                <Card title=\"Python\">\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"PythonEnvExt\"} processtype={\"tool\"}\n                                         help={\"Create Python Env\"}\n                                         pathalias={\"Temp directory\"} tablehidden={\"true\"} pathhidden={\"false\"}\n                                         outputtablehidden={\"true\"}\n                                         draggable={true} color=\"magenta\">Create Python Env</Tag>\n\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"PythonParallelExt\"} processtype={\"tool\"}\n                                         help={\"Run python project\"}\n                                         pathalias={\"Temp directory\"} tablehidden={\"true\"} pathhidden={\"false\"}\n                                         outputtablehidden={\"true\"}\n                                         draggable={true} color=\"magenta\">Run python project</Tag>\n                                </Card>\n                            </Col>\n\n                        </Row>\n                        <br/>\n                        <Row gutter={16}>\n                            <Col span={8}>\n                                <Card title=\"Register model as Function\">\n                                    <Tag onDragStart={this.onDragStart} name={\"ScriptUDF\"} processtype={\"tool\"} onDoubleClick={this.etDoubleClick}\n                                         help={\"Use ScriptUDF create udf\"}\n                                         draggable={true} color=\"magenta\">Create UDF</Tag>\n\n                                    <Tag onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"register\"}\n                                         help={\"Register model to function \"}\n                                         pathalias={\"Model saved path\"}\n                                         outputtablealias={\"Function name\"}\n                                         tablealias={\"Function name\"}\n                                         tablehidden={\"true\"}\n                                         pathhidden={\"false\"}\n                                         outputtablehidden={\"false\"}\n                                         draggable={true} color=\"magenta\">Register Model As Function</Tag>\n                                </Card>\n                            </Col>\n                            <Col span={8}>\n                                <Card title=\"Jobs\">\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} name={\"JobList\"} onDoubleClick={this.etDoubleClick}\n                                         processtype={\"direct\"}\n                                         draggable={true} color=\"magenta\">Show jobs</Tag>\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} name={\"Kill\"} onDoubleClick={this.etDoubleClick}\n                                         processtype={\"tool\"}\n                                         pathalias={\"groupId or jobName\"} tablehidden={\"true\"}\n                                         help={\"Kill your job\"}\n                                         draggable={true} color=\"magenta\">Kill job</Tag>\n\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"ETStreamProgress\"} processtype={\"\"}\n                                         help={\"Show Progress of Stream\"}\n                                         draggable={true} color=\"magenta\">Show Stream Job Progress</Tag>\n                                </Card>\n                            </Col>\n                            <Col span={8}>\n                                <Card title=\"Tools\">\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"DownloadExt\"} processtype={\"tool\"}\n                                         help={\"Use DownloadExt to download files you have uploaded\"}\n                                         draggable={true} color=\"magenta\">Download uploaded file</Tag>\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"ImageLoaderExt\"} processtype={\"tool\"}\n                                         help={\"Use ImageLoaderExt to load images\"}\n                                         pathalias={\"\"} tablehidden={\"true\"} pathhidden={\"true\"}\n                                         outputtablehidden={\"false\"}\n                                         draggable={true} color=\"magenta\">Load images</Tag>\n\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"ConnectMySQL\"} processtype={\"direct\"}\n                                         help={\"\"}\n                                         draggable={true} color=\"magenta\">Connect MySQL</Tag>\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick} name={\"JDBC\"}\n                                         processtype={\"tool\"}\n                                         pathalias={\"DB name in connect\"} tablehidden={\"false\"}\n                                         help={\"Run DLL on MySQL\"}\n                                         draggable={true} color=\"magenta\">MySQL DDL</Tag>\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"TreeBuildExt\"} processtype={\"tool\"}\n                                         pathalias={\"\"} tablehidden={\"false\"} pathhidden={\"true\"}\n                                         help={\"Build tree from parent-child\"}\n                                         draggable={true} color=\"magenta\">Parent-Child</Tag>\n\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"ETExample\"} processtype={\"\"}\n                                         help={\"Show Example of ET\"}\n                                         draggable={true} color=\"magenta\">Show ET Example</Tag>\n\n\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"RepartitionExt\"} processtype={\"tool\"}\n                                         help={\"Change Table Partition Num\"}\n                                         pathalias={\"\"} tablehidden={\"false\"} pathhidden={\"true\"}\n                                         outputtablehidden={\"false\"}\n                                         draggable={true} color=\"magenta\">Repartition table</Tag>\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"SendMessage\"} processtype={\"tool\"}\n                                         help={\"Send email\"}\n                                         pathalias={\"\"} tablehidden={\"false\"} pathhidden={\"true\"}\n                                         outputtablehidden={\"true\"}\n                                         draggable={true} color=\"magenta\">Send Mail</Tag>\n\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"CacheExt\"} processtype={\"tool\"}\n                                         help={\"Cache table\"}\n                                         pathalias={\"\"} tablehidden={\"false\"} pathhidden={\"true\"}\n                                         outputtablehidden={\"true\"}\n                                         draggable={true} color=\"magenta\">Cache Table</Tag>\n\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"StringIndex\"} processtype={\"tool\"}\n                                         help={\"Convert String to number\"}\n                                         pathalias={\"Mapping path\"} tablehidden={\"false\"} pathhidden={\"false\"}\n                                         outputtablehidden={\"true\"}\n                                         draggable={true} color=\"magenta\">Convert String to number</Tag>\n\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"DownloadFile\"} processtype={\"tool\"}\n                                         help={\"Download File\"}\n                                         pathalias={\"Target file\"} tablehidden={\"true\"} pathhidden={\"false\"}\n                                         outputtablehidden={\"true\"}\n                                         draggable={true} color=\"magenta\">Download File to computer</Tag>\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"ShowResource\"}\n                                         processtype={\"direct\"}\n                                         draggable={true} color=\"magenta\">Cluster Resource</Tag>\n\n\n                                </Card>\n                            </Col>\n                        </Row>\n                    </Panel>\n                </Collapse>\n                {this.renderPop()}\n            </div>\n\n        )\n    }\n}\n","import * as React from \"react\";\nimport { Tree ,Spin} from 'antd';\nimport EngineService from \"../service/EngineService\";\nimport {TableOutlined} from '@ant-design/icons'\n\nconst { TreeNode, DirectoryTree } = Tree;\nexport default class DeltaLakeTree extends React.Component{\n    constructor(props) {\n        super(props)\n        this.state={dbs:{},loading:false} \n        \n    }\n\n    async reload(){\n      this.setState({loading:true})\n      const res = await EngineService.tablesInDeltaLake()\n      if(res.status===200){\n           const dbs = {}\n           res.content.forEach(item => {\n              if(!dbs[item.database]){\n                dbs[item.database] = [item.table] \n              }else {\n                dbs[item.database].push(item.table)  \n              }\n           })\n           this.setState({dbs})\n       }\n       this.setState({loading:false})\n    }\n\n    show(){    \n        return Object.entries(this.state.dbs).map(([key,value])=>{                   \n            return <TreeNode title={key} key={key}>\n               {value.map(item=>{                   \n                   return <TreeNode icon={<TableOutlined />} title={item} key={`${key}.${item}`} isLeaf />\n               })} \n            </TreeNode>\n        })\n    }\n\n    async componentDidMount(){\n       await this.reload()\n    }\n    \n    render(){\n      return (\n        <Spin tip=\"Loading...\" spinning={this.state.loading}>\n        <DirectoryTree  >\n        {this.show()}\n        </DirectoryTree>\n     </Spin>\n        \n        \n      )\n    }\n} ","import * as React from \"react\";\nimport { Tree ,Spin} from 'antd';\nimport EngineService from \"../service/EngineService\";\n\nconst { TreeNode, DirectoryTree } = Tree;\nexport default class FileSystemTree extends React.Component{\n    constructor(props) {\n        super(props)\n        this.state={root:[],loading:false} \n        \n    }\n\n    getFileList = async(path)=> {\n      const res = await EngineService.ls(path)        \n      if(res.status===200 && !res.content[0]._corrupt_record){           \n           const root = res.content.map(item => {               \n               item[\"is_dir\"] = this.isDir(item)\n               item[\"key\"] = item.path\n               item[\"title\"] = item.path.split(\"/\").slice(-1)[0]\n               item[\"isLeaf\"] = !item.is_dir\n               return item\n           })\n           return root\n       }\n       return []\n    }\n    \n    isDir=(item)=>{\n      return item.permission.startsWith(\"d\")\n    }\n    \n     onLoadData = async (treeNode)=> {\n      treeNode.props.dataRef.children = await this.getFileList(treeNode.props.dataRef.path)\n      this.setState({root:[...this.state.root]})\n    }\n\n    renderTreeNodes = data =>{\n      return data.map(item=>{\n        if(item.children){\n          return <TreeNode title={item.title} key={item.key} isLeaf={item.isLeaf}  dataRef={item}>\n            {this.renderTreeNodes(item.children)}\n          </TreeNode>\n        }\n        return <TreeNode title={item.title} key={item.key} isLeaf={item.isLeaf} dataRef={item} />;\n      })\n    }\n\n    async reload(){      \n       this.setState({loading:true})\n       const root = await this.getFileList(\"/\")\n       this.setState({loading:false,root})\n    }\n\n    async componentDidMount(){\n       await this.reload()\n    }\n    \n    render(){\n      return (\n        <div>\n          <Spin tip=\"Loading...\" spinning={this.state.loading}>\n         <DirectoryTree loadData={this.onLoadData} >\n            {this.renderTreeNodes(this.state.root)}\n        </DirectoryTree>\n        </Spin>\n        </div>\n        \n        \n      )\n    }\n} ","const { SetStateActionHandler, SetStateAction } = require(\"../../app_console/admin/actions/SetStateAction\");\n\nconst CommonHandlers = {\n    setState: SetStateActionHandler,        \n}\nconst CommonActions = {\n    setState: SetStateAction,        \n}\n\nexport  {CommonHandlers,CommonActions}","import ActionMaker from \"../../ActionMaker\"\nimport { ActionProxy } from \"../../../backend_service/ActionProxy\"\nimport RemoteAction from \"../../../backend_service/RemoteAction\"\n\nexport const {handler:OpenScriptFileActionHandler,action:OpenScriptFileAction} = ActionMaker.buildHandler(async (action)=>{\n    const client = new ActionProxy()\n    const {node,consoleApp} = action.data\n    if(!node.isDir){\n        const res =  await client.get(RemoteAction.SCRIPT_FILE_GET,{id:node.id})\n        if(res.status!==200){\n            return {data:{\n                error: `Fail to get file ${node.label}. Reason: ${res.content}`                \n            }}\n        }\n        const scriptFile = res.content\n        consoleApp.openExistsOrNewEditor({id: node.id, content: scriptFile.content, name: scriptFile.name})\n      }\n    return {data:{}}\n})","import ActionMaker from \"../../ActionMaker\"\nimport { ActionProxy } from \"../../../backend_service/ActionProxy\"\nimport RemoteAction from \"../../../backend_service/RemoteAction\"\nimport Tools from \"../../../common/Tools\"\n\nexport const { handler: CreateFileActionHandler, action: CreateFileAction } = ActionMaker.buildHandler(async (action) => {\n    const client = new ActionProxy()\n    const { createType, consoleApp,form,scriptContent=\"\"} = action.data\n    const {fileName} = form.getFieldValue()\n    \n    if(!fileName){\n        return {data:{\n            createFileError: \"Please input the file name\"\n        }}\n    }\n\n    const { node } = action.__state\n    \n    let isDir = false\n    switch (createType) {\n        case \"file\": \n            isDir = false\n            if(!fileName.endsWith(\".mlsql\") \n            && !fileName.endsWith(\".nb\") \n            && !fileName.endsWith(\".py\")){\n                return {\n                    data: {                        \n                        createFileError: \"fileName should end with .mlsql or .nb or .py\"\n                    }\n                }\n            }\n            break;\n        case \"folder\":\n            isDir = true\n            break;\n    }\n\n    const saveParams = {\n        fileName: fileName,\n        isDir: isDir,\n        content: scriptContent,        \n        parentId: node.id\n    }\n\n    const res = await client.post(RemoteAction.SAVE_SCRIPT_FILE,saveParams)\n    \n    return {\n        data: {\n            ...action.data,\n            reloading: Tools.getJobName()\n        }\n    }\n})","import { ActionProxy } from \"../../../backend_service/ActionProxy\"\nimport RemoteAction from \"../../../backend_service/RemoteAction\"\nimport ActionMaker from \"../../ActionMaker\"\n\nexport const {handler:ExpandActionHandler,action:ExpandAction} = ActionMaker.buildHandler(async (action)=>{\n    const {expandedKeys} = action.data\n    const {expandedKeys:oldExpandedKeys} = action.__state\n    const newExpanedKeys = expandedKeys.filter(item=>!oldExpandedKeys.includes(item))\n    const newNoExpanedKeys = oldExpandedKeys.filter(item=>!expandedKeys.includes(item))\n    const client = new ActionProxy()    \n    newExpanedKeys.forEach(async element => {    \n        await client.post(RemoteAction.SAVE_SCRIPT_FILE,{\n            id: element,isExpanded:true \n        })\n    });\n\n    newNoExpanedKeys.forEach(async element => {        \n        await client.post(RemoteAction.SAVE_SCRIPT_FILE,{\n            id: element,isExpanded:false \n        })\n    });\n\n    return {        \n        data: {\n            expandedKeys\n        }\n    }\n})","import ActionMaker from \"../../ActionMaker\"\nimport { ActionProxy } from \"../../../backend_service/ActionProxy\"\nimport RemoteAction from \"../../../backend_service/RemoteAction\"\nimport Tools from \"../../../common/Tools\"\n\nexport const { handler: DeleteFileActionHandler, action: DeleteFileAction } = ActionMaker.buildHandler(async (action) => {\n    const { node } = action.data\n    await ActionProxy.client.post(RemoteAction.SCRIPT_FILE_REMOVE, {\n        id: node.id\n    })\n    return {\n        data: {\n            ...action.data,\n            reloading: Tools.getTempTableName()\n        }\n    }\n})","import { CommonHandlers,CommonActions} from '../../analysis/common/CommonHandlers'\nimport { OpenScriptFileActionHandler, OpenScriptFileAction } from './OpenScriptFileAction'\nimport { CreateFileActionHandler, CreateFileAction } from './CreateFileAction'\nimport { ExpandAction, ExpandActionHandler } from './ExpandAction'\nimport { DeleteFileActionHandler, DeleteFileAction } from './DeleteFileAction'\nclass ScriptTreeActionNames {\n    static openScriptFile=\"openScriptFile\"\n    static createScriptFile=\"createScriptFile\"\n    static deleteScriptFile=\"deleteScriptFile\"\n    static expand=\"expand\"\n}\nconst ScriptTreeHandlers = {\n    ...CommonHandlers,\n    [ScriptTreeActionNames.openScriptFile]:OpenScriptFileActionHandler,\n    [ScriptTreeActionNames.createScriptFile]:CreateFileActionHandler,\n    [ScriptTreeActionNames.expand]:ExpandActionHandler,\n    [ScriptTreeActionNames.deleteScriptFile]:DeleteFileActionHandler\n}\nconst ScriptTreeActions = {\n    ...CommonActions,\n    [ScriptTreeActionNames.openScriptFile]:OpenScriptFileAction,\n    [ScriptTreeActionNames.createScriptFile]:CreateFileAction,\n    [ScriptTreeActionNames.expand]:ExpandAction,\n    [ScriptTreeActionNames.deleteScriptFile]:DeleteFileAction\n}\n\nfunction ScriptTreeReducer(state, action) {\nreturn ScriptTreeActions[action.type](state, action.data)    \n}\nexport { ScriptTreeActionNames, ScriptTreeReducer, ScriptTreeHandlers }","import React, { useState, useCallback, useEffect } from 'react';\nimport { Tree, Spin,Menu,Dropdown } from 'antd';\nimport { DownOutlined, FileOutlined, FolderOutlined } from '@ant-design/icons';\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\nclass MLSQLTreeNodeBuilder {\n\n    /**\n     *\n     * Usage:\n     *\n     * convert flat array to tree structure\n     *\n     * input data：\n     * [{\"id\":1,\"icon\":null,\"label\":null,\"parentId\":0},\n     * {\"id\":2,\"icon\":\"document\",\"label\":\"jack\",\"parentId\":0},\n     * {\"id\":3,\"icon\":\"document\",\"label\":\"dafe\",\"parentId\":0}\n     * ]\n     *\n     * output:\n     *\n     * @param {[{id:number,icon:string,label:string,parentId:number,childNodes:[]}]} list\n     */\n    build = (list) => {\n\n        let tempMap = {}, node, roots = [], i;\n        for (i = 0; i < list.length; i += 1) {\n            tempMap[list[i].id] = i;\n            list[i].childNodes = [];\n        }\n        for (i = 0; i < list.length; i += 1) {\n            node = list[i];\n            if (node.parentId !== 0) {\n                try {\n                    list[tempMap[node.parentId]].childNodes.push(node);\n                } catch (e) {\n                    console.log(\"------------\")\n                    console.log(node)\n                    console.log(tempMap[node.parentId])\n                }\n\n            } else {\n                roots.push(node);\n            }\n        }\n        return roots;\n    }\n    convert = (item) => {                \n        if (item[\"childNodes\"] && item[\"childNodes\"].length > 0) {\n            item[\"children\"] = item[\"childNodes\"]\n            item[\"children\"].map((cn) => {\n                return this.convert(cn)\n            })\n        }\n        item[\"id\"] = String(item[\"id\"])\n        item[\"key\"] = item[\"id\"]\n        // item[\"title\"] = <span className=\"react-contextmenu-trigger\"><ContextMenuTrigger  id=\"scriptTreeContextMenu\">{item.label}</ContextMenuTrigger></span>\n        item[\"title\"] = <span>{item.label}</span>\n        item[\"isLeaf\"] = !item[\"isDir\"]\n        if (item[\"isDir\"]) {\n            item[\"icon\"] = <FolderOutlined />\n        } else {\n            item[\"icon\"] = <FileOutlined />\n        }\n\n        return item\n    }\n\n\n}\n\nexport default MLSQLTreeNodeBuilder","import React, { useState, useCallback, useEffect } from 'react';\n\nimport styled from 'styled-components'\nimport { Spin } from 'antd';\n\nconst SpinBoxW = styled.div`\n  width: 100%; \n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 30px 30px;\n`\nfunction SpinBox(){\n    return <SpinBoxW>\n        <Spin tip=\"Loading....\"/>\n    </SpinBoxW>\n}\n\nexport default SpinBox","import React, { useState, useCallback, useEffect } from 'react';\n\nconst useContextMenu = ({contextMenuRef,dispacher,onRender})=>{ \n    \n    const [rightClickNodeTreeItem, setRightClickNodeTreeItem] = useState(undefined)    \n    \n    const onRightClick = useCallback((params) => {        \n        const { event, node } = params\n        \n        let clickX =  event.clientX\n        let clickY = event.clientY                                      \n        const click = (evt) => {  \n            if(!contextMenuRef.current) return\n            const wasOutside =  !contextMenuRef.current.contains(evt.target)            \n            if (wasOutside) {\n                setRightClickNodeTreeItem(undefined)                \n            }\n        }\n        document.addEventListener('click', click);\n    \n        const scroll = () => {\n            setRightClickNodeTreeItem(undefined) \n        }\n        document.addEventListener('scroll', scroll);\n    \n        setRightClickNodeTreeItem({\n            pageX: clickX,\n            pageY: clickY,\n            id: node.id\n        })\n        return () => {\n            document.removeEventListener('click',click);\n            document.removeEventListener('scroll',scroll);\n        }\n    },[setRightClickNodeTreeItem])\n\n    const ui = useCallback(()=>{\n        if (!rightClickNodeTreeItem) {\n            return \n        }\n        const { pageX, pageY, id } = { ...rightClickNodeTreeItem };    \n        const tmpStyle = {\n            zIndex: 10000,\n            position: \"fixed\",\n            left: `${pageX}px`,\n            top: `${pageY}px`,\n            borderRadius: \"3px\",\n            boxShadow: \"0 0 0 1px rgba(16, 22, 26, 0.1), 0 2px 4px rgba(16, 22, 26, 0.2), 0 8px 24px rgba(16, 22, 26, 0.2)\"\n        };               \n        return <div ref={contextMenuRef} style={tmpStyle}>{onRender({rightClickNodeTreeItem,setRightClickNodeTreeItem,dispacher})}</div>\n    },[rightClickNodeTreeItem])\n    return {onRightClick,ui}\n}\n\nexport {useContextMenu}","import React, { useRef, useCallback, useEffect } from 'react';\nimport { Tree, Modal, Menu, Form, Input } from 'antd';\nimport { useReducerAsync } from 'use-reducer-async'\nimport { DownOutlined, FileOutlined, FolderOutlined, DeleteOutlined, FileAddOutlined, FolderAddOutlined } from '@ant-design/icons';\nimport { ScriptTreeReducer, ScriptTreeHandlers, ScriptTreeActionNames } from './actions/ScriptTreeReducer';\nimport { ActionProxy } from '../../backend_service/ActionProxy';\nimport RemoteAction from '../../backend_service/RemoteAction';\nimport MLSQLTreeNodeBuilder from '../../service/MLSQLTreeBuilder';\nimport SpinBox from '../SpinBox'\nimport { useContextMenuCallback, useContextMenu } from './pages/ContextMenu';\nimport Tools from '../../common/Tools';\nimport AlertBox from '../AlertBox'\n\nconst { DirectoryTree } = Tree\n\n\nconst initState = {\n    nodes: [],\n    error: undefined,\n    createFileError: undefined,\n    createType: undefined,\n    createTitle: undefined,\n    operateModal: false,\n    reloading: undefined,\n    loading: true,\n    expandedKeys: []\n\n}\n\nconst ScriptTreeContext = React.createContext()\n\nfunction ScriptTree(props) {\n    const { consoleApp } = props\n    const [state, dispacher] = useReducerAsync(ScriptTreeReducer, initState, ScriptTreeHandlers)\n    const { loading,\n        nodes,\n        error, createFileError,\n        createType,\n        operateModal,\n        createTitle,\n        reloading,\n        expandedKeys\n    } = state\n    const client = new ActionProxy()\n    const contextMenuRef = useRef()\n    const [form] = Form.useForm()\n\n    useEffect(() => {\n        const getList = async () => {\n            const res = await client.get(RemoteAction.SCRIPT_FILE_LIST, {})\n            if (res.status !== 200) {\n                return\n            }\n\n            const builder = new MLSQLTreeNodeBuilder()\n            const treeRes = builder.build(res.content).sort((a, b) => {\n                return a.id - b.id\n            })\n\n\n            const treeData = treeRes.map(item => {\n                return builder.convert(item)\n            })\n\n            Tools.visitDown(treeData[0], (item) => {\n                if (item.isExpanded) {\n                    expandedKeys.push(item.id)\n                }\n            })\n\n            dispacher({\n                type: \"setState\",\n                data: {\n                    nodes: treeData,\n                    loading: false,\n                    expandedKeys\n                }\n            })\n        }\n        getList()\n    }, [reloading])\n\n    const onRender = ({rightClickNodeTreeItem, setRightClickNodeTreeItem, dispacher}) => {\n        const { id } = rightClickNodeTreeItem\n        let target = undefined\n\n        Tools.visitDown(nodes[0], (item) => {\n            if (item.id === id) {\n                target = item\n            }\n        })\n        if (id === nodes[0].id) {\n            return <Menu >\n                <Menu.Item icon={<FolderAddOutlined />} onClick={\n                    () => {\n                        dispacher({\n                            type: \"setState\",\n                            data: {\n                                node: target,\n                                createType: \"folder\",\n                                createTitle: \"Create Project\",\n                                operateModal: true\n                            }\n                        })\n                    }\n                }>Create Project</Menu.Item>\n            </Menu>\n        }\n\n        if (!target.isDir) {\n            return <Menu >\n                <Menu.Item onClick={() => {                    \n                    dispacher({\n                        type: ScriptTreeActionNames.deleteScriptFile,\n                        data: {\n                            node: target\n                        }\n                    })\n                    setRightClickNodeTreeItem(undefined)\n                }} key={1}>Delete</Menu.Item>\n            </Menu>\n        }\n\n        return <Menu >\n            <Menu.Item icon={<FileAddOutlined />} onClick={() => {\n                dispacher({\n                    type: \"setState\",\n                    data: {\n                        node: target,\n                        createType: \"file\",\n                        createTitle: \"Create File\",\n                        operateModal: true\n                    }\n                })\n                setRightClickNodeTreeItem(undefined)\n            }} key={1}>Create Script</Menu.Item>\n            <Menu.Item icon={<FolderAddOutlined />} onClick={() => {\n                dispacher({\n                    type: \"setState\",\n                    data: {\n                        node: target,\n                        createType: \"folder\",\n                        createTitle: \"Create Folder\",\n                        operateModal: true\n                    }\n                })\n                setRightClickNodeTreeItem(undefined)\n            }} key={2}>Create Folder</Menu.Item>\n            <Menu.Item icon={<DeleteOutlined />} onClick={() => {\n                dispacher({\n                    type: ScriptTreeActionNames.deleteScriptFile,\n                    data: {\n                        node: target,\n                    }\n                })\n                setRightClickNodeTreeItem(undefined)\n            }} key={3}>Delete</Menu.Item>\n        </Menu>\n    }\n    const { onRightClick: popContextMenu, ui: contextMenu } = useContextMenu({ contextMenuRef, dispacher, onRender })\n\n\n    return (\n        <ScriptTreeContext.Provider value={{ dispacher }}>\n            {contextMenu()}\n            <Modal\n                title={createTitle}\n                visible={operateModal}\n                onCancel={() => {\n                    dispacher({\n                        type: \"setState\",\n                        data: { operateModal: false }\n                    })\n                }}\n                onOk={() => {\n                    dispacher({\n                        type: ScriptTreeActionNames.createScriptFile,\n                        data: {\n                            operateModal: false,\n                            consoleApp, createType,\n                            form\n                        }\n                    })\n                }}\n                cancelText=\"Cancel\"\n                OkText=\"Ok\"\n            >\n                {\n                    createFileError && <AlertBox message={createFileError}></AlertBox>\n                }\n                <Form form={form}>\n                    <Form.Item name=\"fileName\" label=\"File Name\">\n                        <Input />\n                    </Form.Item>\n                </Form>\n            </Modal>\n            {error && <AlertBox message={error}></AlertBox>}\n            {loading && <SpinBox></SpinBox>}\n            {!loading &&\n                <DirectoryTree\n                    onExpand={(expandedKeys) => {                        \n                        dispacher({\n                            type: ScriptTreeActionNames.expand,\n                            data: { expandedKeys }\n                        })\n                    }}\n                    autoExpandParent={true}\n                    expandedKeys={\n                        expandedKeys\n                    }\n                    onDoubleClick={(evt, node) => {\n                        dispacher({\n                            type: ScriptTreeActionNames.openScriptFile,\n                            data: { consoleApp, node }\n                        })\n                    }}\n                    expandAction=\"click\"\n                    onRightClick={popContextMenu}\n                    switcherIcon={<DownOutlined />}\n                    treeData={nodes}></DirectoryTree>}\n                    \n        </ScriptTreeContext.Provider>\n    )\n}\nexport { ScriptTree, ScriptTreeContext }","import * as React from \"react\";\nimport { Tabs } from 'antd';\nimport DeltaLakeTree from \"../detla_lake/DeltaLakeTree\";\nimport FileSystemTree from \"../file_system/FileSystemTree\";\nimport \"../../v1/analysis/leftview.scss\"\nimport { ScriptTree } from \"../script_console/ScriptTree\";\nconst { TabPane } = Tabs;\nexport default class LeftTreePane extends React.Component {\n    constructor(props){\n        super(props)\n        this.queryApp = props.parent\n    }\n    render(){\n       return <Tabs defaultActiveKey=\"1\" style={{maxWidth:\"350px\"}} onTabClick={(key)=>{\n        if(key===\"2\"){                            \n            if(this.deltaLakeTreeRef){\n                this.deltaLakeTreeRef.reload()\n            }\n        }                        \n        }}>\n        <TabPane tab=\"Script\" key=\"1\">\n       <div className=\"leftview-box\">\n           <ScriptTree consoleApp = {this.queryApp}></ScriptTree> \n       </div>\n       </TabPane>       \n       <TabPane tab=\"DeltaLake\" key=\"2\">\n       <div className=\"leftview-box\">\n           <DeltaLakeTree ref={(et)=> this.deltaLakeTreeRef = et} ></DeltaLakeTree>\n       </div>\n       </TabPane>\n       <TabPane tab=\"FileSystem\" key=\"3\">\n       <div className=\"leftview-box\">\n           <FileSystemTree ref={(et)=> this.fileSystemTreeRef = et}></FileSystemTree>\n       </div>\n       </TabPane> \n         \n     </Tabs>\n    }\n}","import React, {Component} from 'react';\nimport MLSQLAceEditor from './MLSQLAceEditor'\nimport './MLSQLQueryApp.scss'\nimport AceEditor from \"react-ace\";\nimport {MLSQLQueryDisplay} from \"./MLSQLQueryDisplay\";\nimport {MLSQLDash} from \"./query/MLSQLDash\";\nimport {TabEditor} from \"./editor/TabEditor\";\nimport {MLSQLETQuick} from \"./et/MLSQLETQuick\";\nimport {Resizable} from \"re-resizable\";\nimport ExecuteUnit from \"./notebook/ExecuteUnit\";\nimport LeftTreePane from '../v1/async_execute/LeftTreePane';\nimport '../v1/analysis/workshop.scss'\n\nclass MLSQLQueryApp extends Component {\n\n    constructor(props) {\n        super(props);\n        // create a ref to store the textInput DOM element\n        this.state = {sqlContent: \"\", displayEditor: \"normal\"}\n        \n        this.editorGroup = React.createRef()\n        this.messageBox = React.createRef()\n        this.display = React.createRef()\n        this.dash = React.createRef()\n        this.etRef = React.createRef()\n\n        // key is script id\n        // value is editor ref\n        this.fileToEditorMap = {}\n\n    }\n\n    openExistsOrNewEditor = (script) => {\n        const self = this\n\n        if (this.fileToEditorMap.hasOwnProperty(script.id)) {\n            const editorRef = this.fileToEditorMap[script.id]\n            editorRef.ref.text(script.content, script.id)\n            this.editorGroup.current.onChange(editorRef.activeKey)\n\n        } else {\n            this.editorGroup.current.addFull(script.name, (editorRef) => {\n                editorRef.ref.text(script.content, script.id)\n                self.fileToEditorMap[script.id] = editorRef\n            })\n\n        }\n\n        if (script.name.endsWith(\".nb\")) {\n            self.setState({displayEditor: \"notebook\"})\n        }else if (script.name.endsWith(\".py\")) {\n            self.setState({displayEditor: \"pythoneditor\"})\n        } else {\n            self.setState({displayEditor: \"normal\"})\n        }\n    }\n\n    closeEditor = (editorRef) => {\n        const tempFileToEditorMap = Object.keys(this.fileToEditorMap).filter(key => {\n            return this.fileToEditorMap[key].activeKey !== editorRef.activeKey\n        }).reduce((pre, key) => {\n            pre[key] = this.fileToEditorMap[key]\n            return pre\n        }, {})\n        this.fileToEditorMap = tempFileToEditorMap\n    }\n\n    getCurrentEditor = () => {\n        return this.editorGroup.current.getCurrentEditor()\n    }\n\n\n    setData = (data) => {\n        this.queryResData = data\n        this.dash.current.refresh()\n    }\n\n    tableAndDash = () => {\n        if (this.state.displayEditor !== \"notebook\" || this.state.displayEditor !== \"pythoneditor\") {\n            return <div>\n                <Resizable defaultSize={{height: \"300px\"}} onResize={() => {\n                    this.messageBox.current.editor.resize();\n                }}>\n                    <AceEditor\n                        height={\"100%\"}\n                        width={\"100%\"}\n                        ref={this.messageBox}\n                        mode=\"text\"\n                        theme=\"github\"\n                        name=\"message_box\"\n                    />\n                </Resizable>\n\n                <div>\n                    <MLSQLDash ref={this.dash} parent={this}/>\n                </div>\n                <div className=\"mlsql-query-display\">\n                    <MLSQLQueryDisplay ref={this.display} parent={this}/></div>\n            </div>\n        }\n\n    }\n\n\n    render() {\n        return (\n            <div className=\"ws-app\">\n\n               <div className=\"ws-left-pane\">\n               <Resizable  style={{ paddingRight: \"30px\", borderRight: \"solid\" }}>\n                <LeftTreePane  ref={(et)=>this.leftTreePaneRef = et} parent={this}></LeftTreePane>\n               </Resizable>\n                   \n               </div>\n                <div className=\"ws-right-pane\">\n                    <div style={{marginBottom: \"10px\"}}>\n                        <MLSQLETQuick ref={this.etRef} parent={this}/>\n                    </div>\n                    <TabEditor ref={this.editorGroup} parent={this}/>\n                    {this.tableAndDash()}\n                </div>\n\n            </div>\n        )\n    }\n}\n\nexport default MLSQLQueryApp","let mix = (superclass) => new MixinBuilder(superclass);\n\nclass MixinBuilder {\n  constructor(superclass) {\n    this.superclass = superclass;\n  }\n\n  with(...mixins) { \n    return mixins.reduce((c, mixin) => mixin(c), this.superclass);\n  }\n}\n\nexport default mix\n","import AnalysisWorkshop from \"./workshop\"\n\nexport const NewSessionOp = superclass=> class extends(superclass){\n      \n      toggleNewSession = ()=>{\n        this.setState({showNewSession:!this.state.showNewSession})\n      }\n      \n      showNewSession = (evt)=>{\n        if(!evt.node.props['table']){\n          return\n        }\n        const currentTable = {table: evt.node.props['table'],db: evt.node.props['db']}\n        this.setState({showNewSession:true,currentTable})\n      }\n    \n      currentTableName = ()=>{\n          if(!this.state.currentTable){\n              return \"\"\n          }\n        return this.state.currentTable.db + \".\" + this.state.currentTable.table\n      }\n    \n      showTable = async (prefix)=>{      \n          this.setState({showNewSession:false})           \n          const {db,table} = this.state.currentTable\n          AnalysisWorkshop.workshop.newSession(prefix,db,table)\n          this.workshop.newSession(prefix,db,table)                   \n      }\n}","import * as React from \"react\";\nimport { Form, Spin, Input, Modal,Tree } from 'antd';\nimport FileSystemTree from \"../file_system/FileSystemTree\";\nimport mix from \"../../common/mixin\"\nimport { NewSessionOp } from \"./NewSessionOp\";\nimport { ETPopLoad } from \"../../components/et/ETPopLoad\";\nconst { TreeNode, DirectoryTree } = Tree;\n\nexport default class AFileSystemTree extends mix(FileSystemTree).with(NewSessionOp) {\n    constructor(props) {\n        super(props)\n        this.workshop = props.parent.workshop        \n    }\n    \n    showNewSession = (evt)=>{\n        const currentTable = {table: evt.node.props.dataRef['path'],db: \"\"}\n        this.setState({showNewSession:true,currentTable})\n    }\n\n    showTable = async (prefix,tp,options)=>{\n        this.setState({showNewSession:false})        \n        const {db,table} = this.state.currentTable\n        this.workshop.newSession(prefix,tp,table,options)        \n    }\n\n    render = () => {\n        return <div>\n            <Modal\n                title={`Open Table: [${this.currentTableName()}]?`}\n                visible={this.state.showNewSession}\n                onCancel={this.toggleNewSession}\n                onOk={() => { this.showTable(\"file\",this.loadPopRef.data.sourceTypeV,this.loadPopRef.data.params) }}\n                cancelText=\"Cancel\"\n                OkText=\"Ok\">\n                    <ETPopLoad key={this.currentTableName()} ignorePath={true} ignoreTableName={true} ref={et=>this.loadPopRef=et}  parent={this}></ETPopLoad>\n                 </Modal>\n            <Spin tip=\"Loading...\" spinning={this.state.loading}>\n                <DirectoryTree loadData={this.onLoadData} expandAction=\"doubleClick\" onRightClick={this.showNewSession}>\n                    {this.renderTreeNodes(this.state.root)}\n                </DirectoryTree>\n            </Spin>\n        </div>\n    }\n}","import * as React from \"react\";\nimport { Tree, Spin, Menu, Modal } from 'antd';\nimport {TableOutlined} from '@ant-design/icons'\nimport DeltaLakeTree from \"../detla_lake/DeltaLakeTree\";\nimport mix from \"../../common/mixin\"\nimport { NewSessionOp } from \"./NewSessionOp\";\nconst { TreeNode, DirectoryTree } = Tree;\nexport default class ADeltaLakeTree extends mix(DeltaLakeTree).with(NewSessionOp) {\n    constructor(props) {\n        super(props)\n        this.workshop = props.parent.workshop        \n    }\n    tableClick = (evt) => {\n        this.setState({\n            rightClickNodeTreeItem: {\n                pageX: evt.event.pageX,\n                pageY: evt.event.pageY,\n                table: evt.node.props['table'],\n                db: evt.node.props['db']\n            }\n        })\n    }\n    show() {\n        return Object.entries(this.state.dbs).map(([key, value]) => {\n            return <TreeNode title={key} key={key}>\n                {value.map(item => {\n                    return <TreeNode icon={<TableOutlined />} title={item} table={item} db={key} key={`${key}.${item}`} isLeaf />\n                })}\n            </TreeNode>\n        })\n    }        \n\n    render() {\n\n        return (\n            <div>\n                 <Modal  \n                    title={`Open Table`}\n                    visible={this.state.showNewSession}\n                    onCancel={this.toggleNewSession}\n                    onOk={()=>{this.showTable(\"delta\")}}\n                    cancelText=\"Cancel\"                     \n                    OkText=\"Ok\">                    \n                   {`Open  ${this.currentTableName()}]?`}\n                 </Modal>                \n                <Spin tip=\"Loading...\" spinning={this.state.loading}>\n                    <DirectoryTree onRightClick={this.showNewSession}>\n                        {this.show()}\n                    </DirectoryTree>\n                </Spin>\n            </div>\n\n\n        )\n    }\n}","\nimport * as React from \"react\";\nimport { Tree, Spin, Menu, Icon, Modal } from 'antd';\nimport EngineService from \"../service/EngineService\";\nimport { NewSessionOp } from \"./NewSessionOp\";\nimport mix from \"../../common/mixin\"\nimport { TableOutlined } from '@ant-design/icons'\nconst { TreeNode, DirectoryTree } = Tree;\n\nexport default class WorkshopTableTree extends mix(React.Component).with(NewSessionOp) {  \n\n  constructor(props) {\n    super(props)\n    this.state = { dbs: {}, loading: false }    \n    this.workshop = props.parent.workshop\n  }\n\n  async reload() {\n    this.setState({ loading: true })\n    const res = await EngineService.tablesInWorkshop()\n    if (res.status === 200) {\n      const dbs = {}\n      res.content.forEach(item => {\n        if (!dbs[item.sessionId]) {\n          dbs[item.sessionId] = [item.tableName]\n        } else {\n          dbs[item.sessionId].push(item.tableName)\n        }\n      })\n      this.setState({ dbs })\n    }\n    this.setState({ loading: false })\n  }\n\n  show() {\n    return Object.entries(this.state.dbs).flatMap(([key, value]) => {\n      return value.map(item => {\n          return <TreeNode icon={<TableOutlined />} table={item} db={key} title={item} key={item} isLeaf />\n        })\n    })\n  }\n\n  async componentDidMount() {\n    await this.reload()\n  }\n\n  render() {\n    return (\n      <div>\n        <Modal\n          title={`Open Table`}\n          visible={this.state.showNewSession}\n          onCancel={this.toggleNewSession}\n          onOk={() => { this.showTable(\"temp\") }}\n          cancelText=\"Cancel\"\n          OkText=\"Ok\">\n            {`Open  ${this.currentTableName()}]?`}\n        </Modal>\n        <Spin tip=\"Loading...\" spinning={this.state.loading}>\n          <DirectoryTree onRightClick={this.showNewSession}>\n            {this.show()}\n          </DirectoryTree>\n        </Spin>\n      </div>\n\n\n    )\n  }\n}","import * as React from \"react\";\nimport { Tabs } from 'antd';\nimport AFileSystemTree from \"./AFileSystemTree\";\nimport ADeltaLakeTree from \"./ADeltaLakeTree\";\nimport WorkshopTableTree from \"./WorkshopTableTree\";\nimport \"./leftview.scss\"\nimport {FormattedMessage} from 'react-intl'\n\nconst { TabPane } = Tabs;\nexport default class LeftView extends React.Component {    \n    constructor(props){   \n        super(props)            \n        this.workshop = props.parent\n    }\n    render(){              \n       return <Tabs defaultActiveKey=\"1\"  onTabClick={(key)=>{\n        if(key===\"2\"){                            \n            if(this.deltaLakeTreeRef){\n                this.deltaLakeTreeRef.reload()\n            }\n        }                        \n    }}>\n       <TabPane tab={<FormattedMessage id=\"table_workshop\" />} key=\"1\">\n       <div className=\"leftview-box\" >           \n           <WorkshopTableTree ref={(et)=> this.workshopTableTreeRef = et} parent={this}></WorkshopTableTree>\n       </div>\n       </TabPane>\n\n       <TabPane tab={<FormattedMessage id=\"delta_lake\" />} key=\"2\">\n       <div className=\"leftview-box\" >           \n           <ADeltaLakeTree ref={(et)=> this.deltaLakeTreeRef = et} parent={this}></ADeltaLakeTree>\n       </div>\n       </TabPane>\n       <TabPane tab={<FormattedMessage id=\"file_system\"/>} key=\"3\">\n       <div className=\"leftview-box\">\n           <AFileSystemTree ref={(et)=> this.fileSystemTreeRef = et} parent={this}></AFileSystemTree>\n       </div>\n       </TabPane> \n                       \n     </Tabs>\n    }\n}","import Tools from '../../common/Tools';\nimport EngineService from '../service/EngineService';\n\nconst uuidv4 = require('uuid/v4');\nexport const WorkshopOp = (superclass) => class extends superclass {\n\n    newSession = async (prefix, db, table, options) => {\n        this.showTable(prefix, db, table, options)\n        return this\n    }\n    showTable = async (prefix, db, table, options) => {\n        let tableName = Tools.getTempTableName()\n\n        let dbPrefix = `${db}.`\n\n        if (!db) {\n            dbPrefix = \"\"\n        }\n\n        let sql = `select * from ${dbPrefix}${table} as ${tableName};`\n        if (prefix === \"delta\") {\n            sql = `load delta.\\`${db}.${table}\\` as ${tableName};`\n        }\n\n        if (prefix === \"temp\") {\n            const res = await EngineService.tableInfo(table)\n            const tableInfo = res.content\n            if (tableInfo.status === 2) {\n                sql = `load parquet.\\`/__persisted__/${tableInfo.tableName}\\`  as ${tableInfo.tableName};\n                select * from ${tableInfo.tableName} as ${tableName};`\n            } else {\n                sql = `${tableInfo.content} \n                select * from ${tableInfo.tableName} as ${tableName};`\n            }\n        }\n\n        if (prefix === \"file\") {\n            let whereBlock = \"where \"\n            if (options) {\n                whereBlock = whereBlock + Object.keys(options).map(k => {\n                    const v = options[k]\n                    return `${k.replace(/\\[group\\]/g, '0')}='''${v}'''`\n                }).join(\" and \")\n            } else whereBlock = \"\"\n\n            sql = `load ${db}.\\`${table}\\` ${whereBlock}  as ${tableName};`\n        }\n\n        this.sqls.push({ tableName, sql })\n        this.setState({loadingTable:true})\n        const res = await this.client.runScript(\n            sql,\n            Tools.getJobName(),\n            Tools.robotFetchParam())\n        this.setState({loadingTable:false})\n        if (res.status !== 200) {\n            this.toggleMessage(`Fail to load ${tableName}: ${res.content}`)\n            return\n        }\n        const { schema, data } = res.content\n        this.setCurrentTable(\"\", \"\", tableName, schema, data)\n        this.sessionId = Tools.getJobName()\n        this.setState({ sessionId:this.sessionId })\n    }\n\n    setCurrentTable = (prefix, db, table, schema, data) => {\n        this.currentTable = { prefix, db, table, schema, data }\n        this.updateDisplay(data,schema)\n    }\n\n}","import * as React from \"react\";\nimport { Menu, Button, Modal, Form, Input, FuncDesc, Switch } from 'antd';\nimport './ApplyOrSave.scss'\n\nconst { SubMenu } = Menu;\nexport default class ApplyOrSave extends React.Component {\n    constructor(props) {\n        super(props)\n        this.props = props\n        this.state = { applyLoading: false,saveDiagram:false }\n        this.workshop = props.parent.workshop\n    }\n    enter = () => {        \n        this.setState({ applyLoading: true })\n        this.workshop.setState({tableLoading:true})\n    }\n    exit = () => {\n        this.setState({ applyLoading: false })\n        this.workshop.setState({tableLoading:false})\n    }\n\n    showSaveDiagram = ()=>{\n      this.toggle()\n    }\n\n    toggle = () => {\n        this.setState({ saveDiagram: !this.state.saveDiagram })\n    }\n    \n    handleTableInput = ()=>{}\n    handlePersit = ()=>{}\n\n    render() {\n        return <div style={this.props.style} className={this.props.className || \"aos-box\"}>\n            <Modal title={\"View\"}\n                visible={this.state.saveDiagram}\n                onCancel={this.toggle}\n                onOk={this.props.onSave}\n                cancelText=\"Cancel\"\n                width=\"50%\"\n                OkText=\"Ok\">\n                <Form className=\"login-form\">\n                    <Form.Item><Input addonBefore=\"tableName\" onChange={this.props.handleTableInput || this.handleTableInput} placeholder=\"\" /></Form.Item>\n                    <Form.Item label=\"Persist table(take more space):\"><Switch onChange={this.props.handlePersit || this.handlePersit}></Switch></Form.Item>\n                </Form>\n            </Modal>\n            <div className=\"aos-button\"><Button loading={this.state.applyLoading} onClick={this.props.onApply} type=\"primary\">Apply</Button></div>\n            <div className=\"aos-button\"><Button disabled={this.state.applyLoading} onClick={this.toggle} type=\"primary\">Save As</Button></div>\n            <div className=\"aos-button\"><Button disabled={this.state.applyLoading} onClick={this.props.onRollback} >Rollback</Button></div>\n        </div>\n    }\n}","export const StationCommonOp = (superclass) => class extends superclass {\n    onSave = async ()=>{               \n        const status = await this.workshop.save(this.tableNameForSave,this.persistForSave)   \n        if(status===200){\n            this.workshop.refreshOperateStation()\n            this.workshop.refreshTableWorkshop()\n        }\n     }\n\n     onRollback = async ()=>{         \n      this.ApplyOrSaveRef.enter()              \n      const status = await this.workshop.rollback()   \n      if(status===200){\n          this.workshop.refreshOperateStation()\n          this.workshop.refreshTableWorkshop()\n      }\n      this.ApplyOrSaveRef.exit()\n    }\n\n     handleTableInput = (tableName)=>{         \n        this.tableNameForSave = tableName.target.value\n     }\n     handlePersit=(checked)=>{\n        this.persistForSave = checked\n     }\n\n     \n}","import * as React from \"react\";\nimport { Form, Select, Button } from 'antd'\nimport EngineService from \"../../service/EngineService\";\nconst { Option } = Select;\nexport default class SelectJoinField extends React.Component {\n    constructor(props) {\n        super(props)\n        this.workshop = props.parent.workshop\n        this.joinStation = props.parent\n        this.currentTable = this.joinStation.joinInfo.currentTable.table\n        this.joinTable = this.joinStation.joinInfo.joinTable\n        this.state = {\n            currentTableFields: [],\n            joinTableFields: []\n        }\n    }\n    reload = async () => {\n        const currentTableSchema = this.joinStation.joinInfo.currentTable.schema\n        const joinTable = await EngineService.tableInfo(this.joinTable)\n        if (joinTable.status === 200) {\n            this.setState({\n                currentTableFields: currentTableSchema.fields,\n                joinTableFields: JSON.parse(joinTable.content.tableSchema).fields\n            })\n        }\n    }\n    componentDidMount = async () => {\n        await this.reload()\n    }\n\n    next = (values) => {\n        this.joinStation.joinInfo = Object.assign(this.joinStation.joinInfo, values)\n        this.joinStation.next()\n    }\n    render = () => {\n        return <Form className=\"login-form\" onFinish={this.next}>\n            <Form.Item name=\"leftField\" rules={[{ required: true, message: 'Please select condition field!' }]}>\n                <Select\n                    label=\"Current Table\"\n                    showSearch\n                    style={{ width: 200 }}\n                    placeholder={this.currentTable}\n                    optionFilterProp=\"children\"\n                    filterOption={(input, option) =>\n                        option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                    }\n                >\n                    {this.state.currentTableFields.map(item => {\n                        return <Option key={item.name} value={item.name}>{item.name}</Option>\n                    })}\n                </Select>\n            </Form.Item>\n            <Form.Item name=\"rightField\" rules={[{ required: true, message: 'Please select condition field!' }]}>\n                <Select\n                    label=\"Join Table\"\n                    showSearch\n                    style={{ width: 200 }}\n                    placeholder={this.joinTable}\n                    optionFilterProp=\"children\"\n                    filterOption={(input, option) =>\n                        option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                    }\n                >\n                    {this.state.joinTableFields.map(item => {\n                        return <Option key={item.name} value={item.name}>{item.name}</Option>\n                    })}\n                </Select>\n            </Form.Item>\n            <Form.Item>\n                <Button type=\"primary\" htmlType=\"submit\">\n                    Next\n                </Button>\n            </Form.Item>\n        </Form>\n\n    }\n}","import * as React from \"react\";\nimport { Transfer,Input } from 'antd';\nexport default class SelectFields extends React.Component {\n  constructor(props) {\n    super(props)\n    this.workshop = props.parent.workshop       \n    this.state = this.wow(props)\n  }\n   \n  \n  wow(props){\n    const schemaFields = props.schemaFields.map(item=>{\n      return {\n        title:item.name,\n        key: item.name,                     \n      }\n    })\n    const targetKeys = [];\n    const data = schemaFields; \n    return {data,targetKeys}\n  }\n\n  componentDidUpdate(prevProps) {\n    // Typical usage (don't forget to compare props):\n    if (this.props.schemaFields !== prevProps.schemaFields) {\n        this.setState({...this.wow(this.props)})\n    }\n  }\n\n  filterOption = (inputValue, option) => option.title.indexOf(inputValue) > -1;\n\n  handleChange = targetKeys => {\n    this.setState({ targetKeys });\n    if(this.props.handleChange){\n      this.props.handleChange({ targetKeys })\n    }\n  }\n\n  getSelectFields = ()=>{\n    return this.state.targetKeys || []\n  }\n\n \n  render() {\n    return <Transfer\n    dataSource={this.state.data}\n    showSearch\n    filterOption={this.filterOption}\n    targetKeys={this.state.targetKeys}\n    onChange={this.handleChange}\n    // onSearch={this.handleSearch}    \n    render={item => item.title}\n  />\n  }\n}","import * as React from \"react\";\nimport SelectFields from \"../project/SelectFields\"\nimport EngineService from \"../../service/EngineService\";\nimport { Button, Form } from \"antd\";\n\nexport default class SelectProjectFields  extends React.Component{\n    constructor(props) {\n        super(props)\n        this.workshop = props.parent.workshop        \n        this.joinStation = props.parent\n        this.currentTable = this.joinStation.joinInfo.currentTable.table        \n        this.joinTable = this.joinStation.joinInfo.joinTable\n        this.state = {\n            currentTableFields:[],\n            joinTableFields:[] \n        }\n    }\n\n    reload = async () => {\n        const currentTableSchema = this.joinStation.joinInfo.currentTable.schema                \n        const joinTable = await EngineService.tableInfo(this.joinTable)    \n        if (joinTable.status === 200) {\n            this.setState({\n                currentTableFields: currentTableSchema.fields,\n                joinTableFields: JSON.parse(joinTable.content.tableSchema).fields\n            })            \n        }\n    }\n\n    componentDidMount = async () => {\n        await this.reload()\n    }\n    \n    handleLeft = (targetKeys)=>{        \n        this.joinStation.joinInfo = Object.assign(this.joinStation.joinInfo, {\n            leftProjectFields: targetKeys.targetKeys\n        })        \n    }\n\n    handleRight = (targetKeys)=>{                \n        this.joinStation.joinInfo = Object.assign(this.joinStation.joinInfo, {\n            rightProjectFields:targetKeys.targetKeys\n        })        \n    }\n\n    reset = ()=>{\n        this.joinStation.parent.reload()\n    } \n\n    render = () => {        \n        return <Form  labelCol={ { span: 6 }}>            \n            <Form.Item name=\"leftProjectFields\" label=\"currentTable\">\n            <SelectFields handleChange={this.handleLeft} schemaFields={this.state.currentTableFields} ref={(et) => this.leftProjectFields = et} parent={this}></SelectFields>\n            </Form.Item>\n                        \n            <Form.Item name=\"rightProjectFields\" label={this.joinTable+\"\"}>\n            <SelectFields  handleChange={this.handleRight}  schemaFields={this.state.joinTableFields} ref={(et) => this.rightProjectFields = et} parent={this}></SelectFields>\n            </Form.Item>\n            \n            <Form.Item>            \n            <Form.Item> <Button danger>Reset</Button></Form.Item>\n            </Form.Item>\n        </Form>\n    }\n}","import * as React from \"react\";\nimport { Form, Select, Button } from 'antd'\nimport EngineService from \"../../service/EngineService\"\n\nconst { Option } = Select;\nexport default class SelectJoinTable extends React.Component {\n    constructor(props) {\n        super(props)\n        this.workshop = props.parent.workshop\n        this.joinStation = props.parent\n        this.state = {\n            tables: []\n        }\n    }\n\n    reload = async () => {\n        const res = await EngineService.tablesInWorkshop()\n        let tables = []\n        if (res.status === 200) {\n            tables = res.content.map(item => {\n                return {\n                    name: item.tableName,\n                    value: item.tableName\n                }\n            })\n        }\n        this.setState({ tables })\n    }\n\n    componentDidMount = async () => {\n        await this.reload()\n    }\n\n    next = (values)=>{\n\n        this.joinStation.joinInfo = Object.assign(this.joinStation.joinInfo,values) \n        this.joinStation.next()\n    }\n   \n\n    render = () => {\n        return (<Form className=\"login-form\" onFinish={this.next}>\n            <Form.Item name=\"joinType\" rules={[{ required: true, message: 'Please select join type!' }]}>\n                <Select                    \n                    showSearch\n                    style={{ width: 200 }}\n                    placeholder=\"Select Join Type\"\n                    optionFilterProp=\"children\"\n                    filterOption={(input, option) =>\n                        option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                    }\n                >\n                    <Option key=\"inner\" value=\"inner join\">Inner Join</Option>\n                    <Option key=\"left\" value=\"left join\">Left Join</Option>\n                    <Option key=\"right\" value=\"right join\">Right Join</Option>\n                    <Option key=\"full\" value=\"full join\">Full Join</Option>\n                </Select>\n            </Form.Item>\n\n            <Form.Item name=\"joinTable\" rules={[{ required: true, message: 'Please select join table!' }]}>\n                <Select                    \n                    showSearch\n                    style={{ width: 200 }}\n                    placeholder=\"Choose Join Table\"\n                    optionFilterProp=\"children\"\n                    filterOption={(input, option) =>\n                        option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                    }\n                >\n                    {this.state.tables.map((item) => {\n                        return <Option key={item.name} value={item.value}>{item.name}</Option>\n                    })}\n                </Select>\n            </Form.Item>\n            \n            <Form.Item>\n                <Button type=\"primary\" htmlType=\"submit\">\n                    Next\n                </Button>\n            </Form.Item>\n        </Form>)\n    }\n}","import * as React from \"react\";\nimport mix from \"../../../common/mixin\"\nimport { Form, Select, Steps } from 'antd';\nimport ApplyOrSave from \"../ApplyOrSave\";\n\nimport { StationCommonOp } from \"../commonops/StationCommonOp\";\nimport \"./JoinStation.scss\"\nimport SelectJoinField from \"./SelectJoinField\";\nimport SelectProjectFields from \"./SelectProjectFields\";\nimport SelectJoinTable from \"./SelectJoinTable\"\nimport styled from \"styled-components\"\nimport Tools from \"../../../common/Tools\";\nimport EngineService from \"../../service/EngineService\";\n\nconst { Step } = Steps;\nconst StepContent = styled.div`\nborder: 1px dashed #e9e9e9;\nborder-radius: 6px;\nbackground-color: #fafafa;\nmin-height: 200px;\ntext-align: center;\npadding-top: 80px;\nwidth: 100%;\n`\n\nclass JoinStation extends mix(React.Component).with(\n    StationCommonOp\n) {\n    constructor(props) {\n        super(props)\n        this.workshop = props.parent.workshop\n        this.joinInfo = { currentTable: this.workshop.currentTable }\n        this.state = {\n            currentStep: 0,\n            steps: [\n                <SelectJoinTable parent={this}></SelectJoinTable>,\n                <SelectJoinField parent={this}></SelectJoinField>,\n                <SelectProjectFields parent={this}></SelectProjectFields>]\n        }\n    }\n\n    onApply = async () => {\n        const currentTableName = this.workshop.currentTable.table\n        const { joinTable, joinType, leftField, rightField, leftProjectFields, rightProjectFields } = this.joinInfo\n         \n        if(!leftProjectFields && !rightProjectFields){ \n            this.workshop.toggleMessage(\"Fields are not selected.\")                                \n            return\n        }\n\n        this.ApplyOrSaveRef.enter()                \n        const tableRes = await EngineService.tableInfo(joinTable)        \n        const joinTableInfo = tableRes.content\n        const leftProjectFieldsStr = leftProjectFields && leftProjectFields.map(item => `${currentTableName}.\\`${item}\\``).join(\",\")\n        const rightProjectFieldsStr = rightProjectFields && rightProjectFields.map(item => `${joinTable}.\\`${item}\\``).join(\",\")\n\n        const leftFieldStr = `${currentTableName}.\\`${leftField}\\``\n        const rightFieldStr = `${joinTable}.\\`${rightField}\\``\n\n        const joinStr = `${joinType} ${joinTable} on ${leftFieldStr} = ${rightFieldStr}`\n\n\n        let projectStr = \"\"\n        if (leftProjectFieldsStr && rightProjectFieldsStr) {\n            projectStr = leftProjectFieldsStr + \",\" + rightProjectFieldsStr\n        }\n\n        if (leftProjectFieldsStr && !rightProjectFieldsStr) {\n            projectStr = leftProjectFieldsStr\n        }\n\n        if (!leftProjectFieldsStr && rightProjectFieldsStr) {\n            projectStr = rightProjectFieldsStr\n        }\n\n        const tableName = Tools.getTempTableName()\n        \n        const sql = `${joinTableInfo.content} \\n select ${projectStr} from ${currentTableName} ${joinStr} as ${tableName};`\n        console.log(sql)\n        await this.workshop.apply({ tableName, sql })\n        this.ApplyOrSaveRef.exit()\n        this.workshop.refreshOperateStation()\n    }\n\n    next = () => {\n        this.setState({ currentStep: this.state.currentStep + 1 })\n    }\n    preview = () => {\n        this.setState({ currentStep: this.state.currentStep - 1 })\n    }\n\n    render() {\n        return <div className=\"join-app\">\n            <div className={\"station-menu\"}>\n                <ApplyOrSave parent={this} onRollback={this.onRollback}\n                    handleTableInput={this.handleTableInput} ref={(et) => this.ApplyOrSaveRef = et}\n                    onSave={this.onSave}\n                    onApply={this.onApply}\n                    style={{ marginBottom: \"30px\" }}></ApplyOrSave>\n            </div>\n            <div>\n                <Steps current={this.state.currentStep}>\n                    <Step key={0} title=\"Table\" description=\"Choose the table you wanna join from workshop\" />\n                    <Step key={1} title=\"Join Condition \" description=\"Choose the join condition in both tables\" />\n                    <Step key={2} title=\"Fields\" description=\"Choose the fields you want from both tables\" />\n                </Steps>\n            </div>\n            <div className=\"join-app-form\"> <StepContent>\n                {this.state.steps[this.state.currentStep]}\n            </StepContent></div>\n        </div>\n    }\n}\n\nexport default  JoinStation\nexport {StepContent}","import * as React from \"react\";\nimport {Table,Modal} from 'antd';\n\n\nconst ReactMarkdown = require('react-markdown')\n\nexport default class ColumnOperate extends React.Component {\n    constructor(props) {\n        super(props)\n        this.tableStyle = props.style || {}\n        this.state = {columns: [], rows: [], view: {enabled: false}}\n        this.config = {}\n        this.workshop = props.parent\n    }\n\n    setRender = (keyColumn, data) => {\n\n        const value = data[0][keyColumn.key]\n\n        if (this.config && this.config[\"render\"]) {            \n            Object.keys(this.config).map(k=>{\n                const v = this.config[k][keyColumn.key] \n                if(v){\n                    keyColumn[k] = v\n                }\n            })\n            return\n        }\n\n        try {\n            if (React.Component.isPrototypeOf(value.type)) {\n                keyColumn[\"render\"] = value => <span>{value}</span>\n                return\n            }\n        }\n        catch (e) {\n        }\n\n        if (keyColumn.key == \"html\") {            \n            keyColumn[\"render\"] = value => <pre>{value.substring(0,300)}</pre>\n            return\n        }\n\n        if ((typeof value) === 'object') {\n            keyColumn[\"render\"] = value => <span>{JSON.stringify(value).substring(0, 300)}</span>\n            return\n        }\n        if ((typeof value) === 'array') {\n            keyColumn[\"render\"] = value => <span>{value.join(\",\").substring(0, 300)}</span>\n            return\n        }\n        if ((typeof value) === 'boolean') {\n            keyColumn[\"render\"] = value => <span>{value.toString()}</span>\n            return\n        }\n        if (keyColumn.key == \"fileSystem\" || keyColumn.key == \"message\" || keyColumn.key == \"info\") {\n            keyColumn[\"render\"] = value => <pre>{value.toString()}</pre>\n            return\n        }\n\n\n    }\n\n    update = (data, config) => {\n        // e.g. [{\"a\":1}]\n        this.config=config\n        let keys = []\n        let basket = {}\n        let rows = []\n        const self = this\n        //collect all keys\n        data.forEach(function (item) {\n            for (let key in item) {\n                if (!basket[key]) {\n                    const keyColumn = {\n                        title: key,\n                        dataIndex: key,\n                        key: key,\n                    }\n                    self.setRender(keyColumn, data)\n                    keys.push(keyColumn)\n                    basket[key] = true\n                }\n            }\n        })\n\n        // collect data\n        data.forEach(function (item, index) {\n            let new_item = {}\n            keys.forEach(function (key) {\n                new_item[key.key] = item[key.key]\n            })\n            new_item[\"key\"] = index\n            rows.push(new_item)\n        })\n\n        this.setState({columns: keys, data: rows})\n    }\n\n    rowDoubleClick = (row, index, event) => {\n        if (row.name === \"codeExample\" || row.name === \"doc\") {\n            this.setState({\n                view: {\n                    enabled: true,\n                    content: row.value\n                }\n            })\n        }\n    }\n\n    disablePreview = () => {\n        this.setState({\n            view: {\n                enabled: false\n            }\n        })\n    }\n\n    render() {\n        const self = this\n        return (<div style={this.tableStyle}>\n                <Table    \n                    size ='default'\n                    columns={this.state.columns}\n                    dataSource={this.state.data}\n                    scroll = {{x:true}}                                      \n                    />\n                <Modal\n                    title={\"View\"}\n                    visible={this.state.view.enabled}\n                    onCancel={this.disablePreview}\n                    onOk={this.disablePreview}\n                    cancelText=\"Cancel\"\n                    OkText=\"Ok\"\n                >\n                    <ReactMarkdown source={this.state.view.content || \"\"}/>\n                </Modal>\n            </div>\n        )\n    }\n\n}","import * as React from \"react\";\nimport { Select, List, Input } from 'antd';\nconst { Option } = Select;\n\nexport default class FuncDesc extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {...props}\n    }\n    show = (func) => {\n        this.setState({ func })\n    }\n\n    funcValue = () => {\n        return <List.Item key=\"Func\" >\n            <List.Item.Meta title=\"Func\" description={this.state.func.funcValue.extra.zhDoc}>\n            </List.Item.Meta>\n        </List.Item>\n    }\n\n    returnValue = () => {\n        return <List.Item key=\"Return value\" >\n            <List.Item.Meta title=\"Return value\" description={this.state.func.returnValue.extra.zhDoc}>\n            </List.Item.Meta>\n        </List.Item>\n    }\n  \n    parameters = () => {\n        return this.state.func.params.map(item => {\n            return <List.Item key={item.name} >\n                <List.Item.Meta title={item.name} description={item.extra.zhDoc}>                    \n                </List.Item.Meta>\n            </List.Item>\n        })\n    }\n\n    render() {\n        if (this.state.func) {\n            return <List\n                size=\"large\"\n                header={<div>{`Function [${this.state.func.value}] Info`}</div>}\n                footer={<div></div>}\n                bordered\n            >\n                {this.funcValue()}\n                {this.returnValue()}\n                {this.parameters()}\n            </List>\n        } else {\n            return <div></div>\n        }\n    }\n}","import * as React from \"react\";\nimport { Select, Form, Input, Switch } from 'antd';\nimport mix from \"../../common/mixin\"\nimport EngineService from \"../service/EngineService\";\nimport FuncDesc from \"./FuncDesc\";\nimport Tools from \"../../common/Tools\";\nconst { Option } = Select;\n\nexport default class ApplyFuncToField extends React.Component {\n    constructor(props) {\n        super(props)\n        this.parent = props.parent\n        this.operateField = props.operateField\n        this.funcParams = {}\n        this.state = {\n            data: [],\n            value: undefined,\n            funcPopUp: false,\n            func: {},\n            key: Math.random()\n        }\n    }\n\n    handleSearch = async value => {\n        if (value) {\n            const res = await EngineService.showFunctions()\n            const data = res.content.map((item) => {\n                return {\n                    value: item.key.table,\n                    text: item.key.table,\n                    funcValue: item.columns[0],\n                    returnValue: item.columns[1],\n                    params: item.columns.slice(2, item.columns.length)\n                }\n            })\n            this.setState({ data })\n        } else {\n            this.setState({ data: [] })\n        }\n    }\n    handleChange = value => {\n        const currentFunc = this.state.data.filter(item => item.value === value)[0]\n        this.setState({ currentFunc })\n        this.funcDescRef.show(currentFunc)\n    }\n\n    handleOperateInput = evt => {\n        this.manuallyTransform = evt.target.value\n    }\n\n    isAggChecked = checked =>{\n        this.manuallyIsAgg = checked\n    }\n\n    handleNewName = evt => {\n        this.newFuncName = evt.target.value\n    }\n\n    handleField = (evt) => {\n        const name = evt.target.getAttribute(\"name\")\n        this.funcParams[name] = evt.target.value\n    }\n\n    showColumn = (item) => {\n        this.funcParams[item.name] = this.operateField\n        if (item.extra.column === \"yes\") {\n            return this.operateField\n        } else return \"\"\n    }\n\n    getTransform = () => {\n        if(this.manuallyTransform){\n            return {\n                field:this.operateField,\n                isAgg:this.manuallyIsAgg, \n                transformCode: this.manuallyTransform, \n                columnName: this.newFuncName \n            }\n        }\n        const params = []        \n        this.state.currentFunc.params.forEach(item => {\n            const v = this.funcParams[item.name]\n            if (v) {\n                if (item.extra.column === \"yes\") {\n                    params.push(Tools.getField(v))\n                }else if(item.dataType == \"number\" ||item.dataType == \"boolean\" ){\n                    params.push(v)\n                }\n                else {\n                    params.push(`\"${v}\"`)\n                }\n            }\n        })\n        const field = this.operateField\n        const isAgg = this.state.currentFunc.funcValue.extra.agg === \"yes\"\n        return {field,isAgg, transformCode: `${this.state.currentFunc.value}(${params.join(\",\")})`, columnName: this.newFuncName }\n    }\n    reload = () => {\n        this.setState({\n            key: Math.random(),\n            data: [],\n            value: undefined,\n            funcPopUp: false,\n            currentFunc: undefined\n        })\n        this.collect = {}\n    }\n\n    render() {\n        const options = this.state.data.map(d => <Option key={d.value}>{d.text}</Option>)\n        return <Form className=\"login-form\" key={this.state.key}>\n            <Form.Item>\n                <Select\n                    showSearch\n                    value={this.state.value}\n                    placeholder={\"Search function\"}\n                    defaultActiveFirstOption={false}\n                    showArrow={false}\n                    style={{ width: \"200px\" }}\n                    filterOption={false}\n                    onSearch={this.handleSearch}\n                    onChange={this.handleChange}\n                    notFoundContent={\"type function name\"}\n                >\n                    {options}\n                </Select>\n            </Form.Item>\n\n            <Form.Item><FuncDesc ref={(et) => this.funcDescRef = et}></FuncDesc></Form.Item>\n            {\n                this.state.currentFunc ? this.state.currentFunc.params.map(item => {\n                    return <Form.Item key={item.name}><Input name={item.name} onChange={this.handleField} addonBefore={item.name} defaultValue={this.showColumn(item)} />\n                    </Form.Item>\n                }) : <div></div>\n            }\n            <Form.Item><Input addonBefore=\"Mannual Transform\" onChange={this.handleOperateInput} placeholder=\"\" /></Form.Item>\n            <Form.Item label=\"Is Agg Function\"><Switch  onChange={this.isAggChecked}></Switch></Form.Item>\n            <Form.Item><Input addonBefore=\"New fieldName\" onChange={this.handleNewName} placeholder=\"\" /></Form.Item>\n        </Form>\n    }\n}","import * as React from \"react\";\nimport mix from \"../../../common/mixin\"\nimport { Tabs, Switch, Menu, Button, Modal } from 'antd';\nimport ApplyOrSave from \"../ApplyOrSave\";\nimport ColumnOperate from \"../ColumnOperate\";\nimport { AggStationOp } from \"./AggStationOp\";\nimport ApplyFuncToField from \"../ApplyFuncToField\";\nimport { StationCommonOp } from \"../commonops/StationCommonOp\";\n\nconst { SubMenu } = Menu;\n\n\nexport default class AggStation extends mix(React.Component).with(StationCommonOp,AggStationOp) {\n    constructor(props) {\n        super(props)\n        this.workshop = props.parent.workshop\n        this.state = { funcPopUp: false }\n        this.groupByFields = []\n        // {name,newName}   \n        this.aggFields = []\n    }\n\n    showAggFuncsAndApply = (record) => {\n        this.operateField = record.field\n        this.setState({ funcPopUp: true })        \n    }\n\n    reload = () => {\n        const fields = this.workshop.currentTable.schema.fields\n        const result = fields.map(item => {\n            return { field: item.name, groupby: \"\", agg: \"\" }\n        })\n        const config = {\n            render: {\n                groupby: (value, record) => {\n                    return <Switch onChange={(checked)=>this.enableGroupByField(checked,record)} dataref={record} />\n                },\n                agg: (value, record) => {\n                    return <Button dataref={record} onClick={() => { this.showAggFuncsAndApply(record) }}>Choose function</Button>\n                }\n            }\n        }\n        this.columnsRef.update(result, config)\n    }\n\n    componentDidMount() {\n        this.reload()\n    }\n    \n    handleFunc = ()=>{\n      const { field, transformCode, columnName } = this.applyFuncToFieldRef.getTransform()\n      this.generateProjectField(transformCode,columnName)\n      this.setState({ funcPopUp: false })\n      this.applyFuncToFieldRef.reload()\n    }    \n\n    render() {\n        return <div>\n            <div>\n                <Modal\n                    title={`Apply function to [${this.operateField}]`}\n                    visible={this.state.funcPopUp}\n                    onCancel={() => { \n                        this.setState({ funcPopUp: false }) \n                        this.applyFuncToFieldRef.setState({key:Math.random()})\n                    }}\n                    onOk={\n                        this.handleFunc\n                    }\n                    cancelText=\"Cancel\"\n                    width=\"50%\"\n                    OkText=\"Ok\">\n                    <ApplyFuncToField parent={this} ref={(et)=>this.applyFuncToFieldRef=et} operateField={this.operateField}></ApplyFuncToField>\n                </Modal>\n                \n                <div className=\"station-menu\">\n                   <ApplyOrSave parent={this} onRollback={this.onRollback} handlePersit={this.handlePersit} handleTableInput={this.handleTableInput} ref={(et)=>this.ApplyOrSaveRef=et} onSave={this.onSave} onApply={this.onApply} style={{marginBottom:\"30px\"}}></ApplyOrSave>\n                </div>\n            </div>\n            <div>\n                <ColumnOperate parent={this} ref={et => this.columnsRef = et}></ColumnOperate>\n            </div>\n        </div>\n    }\n}","import AggStation from \"./AggStation\";\nimport Tools from \"../../../common/Tools\";\nexport const AggStationOp = (superclass) => class extends superclass {\n    enableGroupByField = (checked, record) => {\n        const fieldName = record.field\n        if (checked) {\n            this.groupByFields.push(fieldName)\n        } else {\n            this.groupByFields = this.groupByFields.filter((item) => {\n                return item.name !== fieldName\n            })\n        }\n    }\n    generateProjectField = (name,newName)=>{\n       this.aggFields.push({name,newName})\n    }\n    onApply = async ()=>{\n         this.ApplyOrSaveRef.enter()\n         const tableName = Tools.getTempTableName()\n         \n         let newFields = this.aggFields.map(item=>{\n            return `${item.name} as \\`${item.newName}\\``\n         })\n\n         let groupByFields = \"\"\n         \n         if(this.groupByFields.length !==0 ){\n            groupByFields = `group by ${this.groupByFields.map(item=>`\\`${item}\\``).join(\",\")}`            \n            newFields = this.groupByFields.map(item=>`\\`${item}\\``).concat(newFields)\n         }\n\n         const sql = `select ${newFields.join(\",\")} from ${this.workshop.getLastApplyTable().tableName} ${groupByFields} as ${tableName};`        \n         const status = await this.workshop.apply({tableName,sql})\n         this.ApplyOrSaveRef.exit()\n         if(status === 200){\n            this.workshop.refreshOperateStation()\n         }         \n    }\n    \n    \n}","import * as React from \"react\";\nimport { Transfer, Input, Form } from 'antd';\nexport default class RenameFields extends React.Component {\n  constructor(props) {\n    super(props)\n    this.workshop = props.parent.workshop\n    this.state = this.wow(props)\n  }\n  getSelectFields = () => {\n    return this.formRef.getFieldValue()\n  }\n  wow(props) {\n    const schemaFields = props.schemaFields.map(item => {\n      return {\n        title: item.name,\n        key: item.name,\n      }\n    })\n    const targetKeys = [];\n    const data = schemaFields;\n    return { data, targetKeys }\n  }\n\n  componentDidUpdate(prevProps) {\n    // Typical usage (don't forget to compare props):\n    if (this.props.schemaFields !== prevProps.schemaFields) {\n      this.setState({ ...this.wow(this.props) })\n    }\n  }\n\n  render() {\n    return <Form labelCol={{ span: 6 }} ref={(et) => { this.formRef = et }}>\n      {this.state.data.map(item => {\n        return <Form.Item key={item.key} name={item.key} label={item.key} value={item.key}><Input placeholder={\"input the new name here\"} /></Form.Item>\n      })}\n    </Form>\n  }\n}","import * as React from \"react\";\nimport { Tabs, Switch, Menu, Button, Modal, Input } from 'antd';\nimport ApplyFuncToField from \"../ApplyFuncToField\";\nimport ColumnOperate from \"../ColumnOperate\";\nimport AlertBox from \"../../AlertBox\";\nexport default class FunctionField extends React.Component {\n    constructor(props) {\n        super(props)\n        this.workshop = props.parent.workshop\n        this.state = this.wow(props)\n    }\n\n    componentDidUpdate(prevProps) {\n        // Typical usage (don't forget to compare props):\n        if (this.props.schemaFields !== prevProps.schemaFields) {\n          this.setState({ ...this.wow(this.props) },()=>{\n            this.reload()\n          })\n        }\n      }\n\n      wow = (props)=>{\n        const fields = props.schemaFields\n\n        const data = fields.map(item => {\n            return { field: item.name, func: \"\", transformCode: \"\", \"columnName\": \"\" }\n        })\n\n        const config = {\n            render: {\n                func: (value, record) => {\n                    return <Button dataref={record} onClick={() => { this.showAggFuncsAndApply(record) }}>Choose function</Button>\n                },\n                transformCode: (value, record) => {                \n                    return value\n                },\n                columnName: (value, record) => {                \n                    return value\n                }\n            }\n        }\n        return { funcPopUp: false, data, config }\n      }\n\n    showAggFuncsAndApply = (record) => {\n        this.operateField = record.field\n        this.setState({ funcPopUp: true })\n    }\n\n    reload = () => {        \n        this.columnsRef.update(this.state.data, this.state.config)\n    }\n\n    componentDidMount() {\n        this.reload()\n    }\n\n    handleFunc = () => {\n        const { field, transformCode, columnName,isAgg } = this.applyFuncToFieldRef.getTransform()\n        if(!columnName){\n           this.setState({\"error\":\"New fieldName is required.\"}) \n           return \n        }\n        const data = this.state.data.map(item => {\n            if (item.field === field) {\n                return { field, func: \"\", transformCode, columnName,isAgg}\n            }\n            return item\n        })        \n        this.setState({ funcPopUp: false, data,error:undefined }, () => { this.reload() })\n        this.applyFuncToFieldRef.reload()\n    }\n\n    getSelectFields = ()=>{        \n        return this.state.data\n    }\n\n    render = () => {\n        return <div >\n            \n            <Modal\n                title={`Apply function to [${this.operateField}]`}\n                visible={this.state.funcPopUp}\n                onCancel={() => {\n                    this.applyFuncToFieldRef.reload()\n                    this.setState({ funcPopUp: false,error:undefined })\n                }}\n                onOk={\n                    this.handleFunc\n                }\n                cancelText=\"Cancel\"\n                width=\"50%\"\n                OkText=\"Ok\">\n                {this.state.error && <AlertBox message={this.state.error}></AlertBox>}\n                <ApplyFuncToField parent={this} ref={(et) => this.applyFuncToFieldRef = et} operateField={this.operateField}></ApplyFuncToField>\n            </Modal>\n            <ColumnOperate ref={et => this.columnsRef = et}></ColumnOperate>\n        </div>\n    }\n}","import ActionMaker from \"../../../ActionMaker\"\n\nexport const { handler: RemoveFieldActionHandler, action: RemoveFieldAction } = ActionMaker.buildHandler(async (action) => {\n    const fields = action.data.fields\n    const operateFileds = action.__state.operateFileds.filter(item => fields !== item.field)\n    return {\n        data: {\n            operateFileds\n        }\n    }\n})","import { Form, Tag, Divider, Select } from \"antd\"\nimport ActionMaker from \"../../../ActionMaker\"\n\nexport const { handler: AddFieldActionHandler, action: AddFieldAction } = ActionMaker.buildHandler(async (action) => {    \n    const operateFileds = action.data.fields.map(field=>{\n        return {field}\n    })\n    \n    return {\n        data: {\n            operateFileds\n        }\n    }\n})","import Tools from \"../../../common/Tools\"\n\nclass ApplyActionUtils {\n     static async apply(action, validateInput, genSQL) {\n        const { workshop, values } = action.data\n        const { applySaveRollbackDispacher } = action.__state\n        const msg = validateInput(values)\n        if (msg) {\n            applySaveRollbackDispacher({\n                type: \"setState\",\n                data: {\n                    loading: false\n                }\n            })\n            return {\n                data: {\n                    ...action.data,\n                    error: msg,\n                    loading: false\n                }\n            }\n        }\n\n        const { tableName, sql } = genSQL(workshop, values)\n\n        const status = await workshop.apply({\n            tableName,\n            sql\n        })\n        if (status === 200) {\n            workshop.refreshOperateStation()\n        }\n        applySaveRollbackDispacher({\n            type: \"setState\",\n            data: {\n                loading: false\n            }\n        })\n        return {\n            data: {\n                ...action.data,\n                loading: false\n            }\n        }\n    }\n}\n\nexport default ApplyActionUtils\n","import ActionMaker from \"../../../ActionMaker\"\nimport Tools from \"../../../../common/Tools\"\nimport ApplyActionUtils from \"../../common/ApplyActionUtils\"\n\nexport const {handler:CastActionHandler,action:CastAction} = ActionMaker.buildHandler(async (action)=>{\n    return ApplyActionUtils.apply(action,\n        (values) => {\n            if (Object.keys(values).length === 0) {\n                return \"Please configure cast fields then click apply\"\n            }\n            return undefined\n        },\n        \n        (workshop, values) => {\n            const tableName = Tools.getTempTableName()\n            const newCastFields = Object.keys(values).map(key => {\n                return `cast(${Tools.getField(key)} as ${values[key]}) as ${Tools.getField(key)}`\n            })\n\n            const newFields = Object.keys(values)\n            const fields = workshop.currentTable.schema.fields\n            const oldFieldNames = fields.filter(item=>{\n                return !newFields.includes(item.name)\n            }).map(item=>{\n                return Tools.getField(item.name)\n            })\n\n            const selectStr = (newCastFields.concat(oldFieldNames)).join(\",\")\n\n            const sql = `select ${selectStr} from ${workshop.getLastApplyTable().tableName}            \n            as ${tableName};`\n            return { tableName, sql }\n        })\n})","import { CommonHandlers,CommonActions} from '../../common/CommonHandlers'\nimport { RemoveFieldAction, RemoveFieldActionHandler } from '../../order/actions/RemoveFieldAction'\nimport { AddFieldAction, AddFieldActionHandler } from '../../order/actions/AddFieldAction'\nimport { CastAction, CastActionHandler } from './CastAction'\n\nclass CastFieldsActionNames {\n    static ADD_FIELD = \"addField\"\n    static REMOVE_FIELD = \"removeField\"\n}\nconst CastFieldsHandlers = {\n    ...CommonHandlers,\n    [CastFieldsActionNames.ADD_FIELD]: AddFieldActionHandler,\n    [CastFieldsActionNames.REMOVE_FIELD]: RemoveFieldActionHandler,\n    apply: CastActionHandler\n}\nconst CastFieldsActions = {\n    ...CommonActions,\n    [CastFieldsActionNames.ADD_FIELD]: AddFieldAction,\n    [CastFieldsActionNames.REMOVE_FIELD]: RemoveFieldAction,\n    apply: CastAction\n}\n\nfunction CastFieldsReducer(state, action) {\nreturn CastFieldsActions[action.type](state, action.data)    \n}\nexport { CastFieldsActionNames, CastFieldsReducer, CastFieldsHandlers }","import ActionMaker from \"../../ActionMaker\"\n\nexport const {handler:RollbackActionHandler,action:RollbackAction} = ActionMaker.buildHandler(async (action)=>{\n    const {workshop} = action.data\n    await workshop.rollback()\n    return {        \n        data: action.data\n    }\n})","import ActionMaker from \"../../ActionMaker\"\n\nexport const {handler:SaveActionHandler,action:SaveAction} = ActionMaker.buildHandler(async (action)=>{\n    const {workshop} = action.data\n    const {saveTablePersisted,saveTableName} = action.__state\n    if(!saveTableName) return {\n        data:{error:\"table name is required\"}\n    }    \n    await workshop.save(saveTableName,saveTablePersisted)\n    workshop.refreshTableWorkshop()\n    return {        \n        data: {...action.data,loading:false}\n    }\n})","import { SetStateAction, SetStateActionHandler } from \"../../app_console/admin/actions/SetStateAction\";\nimport { RollbackAction, RollbackActionHandler } from './RollbackAction'\nimport { SaveAction, SaveActionHandler } from './SaveAction'\n\nclass ApplySaveRollbackActionNames { }\nconst ApplySaveRollbackHandlers = {\n    setState: SetStateActionHandler,\n    rollback: RollbackActionHandler,\n    save: SaveActionHandler\n}\n\nfunction ApplySaveRollbackReducer(state, action) {\n    switch (action.type) {\n        case \"setState\":\n            return SetStateAction(state, action.data)\n        case \"rollback\":\n            return RollbackAction(state, action.data)\n        case \"save\":\n            return SaveAction(state, action.data)\n        default:\n            return state;\n    }\n}\nexport { ApplySaveRollbackActionNames, ApplySaveRollbackReducer, ApplySaveRollbackHandlers }","import React, { useState, useCallback, useEffect, useContext } from 'react';\nimport { Form, Tag, Divider, Select, Button, Modal, Input, Switch } from 'antd'\nimport { useReducerAsync } from 'use-reducer-async'\nimport { ApplySaveRollbackReducer, ApplySaveRollbackHandlers } from './actions/ApplySaveRollbackReducer.js';\nimport AlertBox from '../AlertBox.js';\nimport Tools from '../../common/Tools.js';\n\n\nconst initState = {\n    saveDiagram: false,\n    saveTablePersisted: false,\n    loading: false,\n    saveTableName: undefined,\n    error: undefined\n}\n\nconst ApplySaveRollbackContext = React.createContext()\n\nfunction ApplySaveRollback(props) {\n    //dispacher parent \n    const workshop = props.workshop\n    const { dispacher: parentDispacher } = useContext(props.context)\n    const [state, dispacher] = useReducerAsync(ApplySaveRollbackReducer, initState, ApplySaveRollbackHandlers)\n    const { saveDiagram, saveTablePersisted, loading,error } = state\n    return (\n        <ApplySaveRollbackContext.Provider value={{ dispacher }}>\n            {\n                error && <AlertBox message={error}></AlertBox>\n            }\n            <Modal title={\"View\"}\n                visible={saveDiagram}\n                onCancel={\n                    () => {\n                        dispacher({\n                            type: \"setState\",\n                            data: { saveDiagram: false }\n                        })\n                    }\n                }\n                onOk={() => {\n                    dispacher({\n                        type: \"save\",\n                        data: {\n                            saveDiagram: false,\n                            workshop\n                        }\n                    })\n                }}\n                cancelText=\"Cancel\"\n                width=\"50%\"\n                OkText=\"Ok\">\n                <Form className=\"login-form\">\n                    <Form.Item><Input addonBefore=\"tableName\" onChange={(value) => {\n                        dispacher({\n                            type: \"setState\",\n                            data: { saveTableName: value.target.value }\n                        })\n                    }} placeholder=\"\" /></Form.Item>\n                    <Form.Item label=\"Persist table(take more space):\"><Switch onChange={\n                        (checked) => {\n                            dispacher({\n                                type: \"setState\",\n                                data: { saveTablePersisted: checked }\n                            })\n                        }\n                    }></Switch></Form.Item>\n                </Form>\n            </Modal>\n            <Button loading={loading} type=\"primary\" onClick={\n                () => {\n                    dispacher({\n                        type: \"setState\",\n                        data: {\n                            loading: true\n                        }\n                    })\n                    parentDispacher({\n                        type: \"setState\",\n                        data: { applySaveRollbackDispacher: dispacher,applyToken:Tools.getJobName() }\n                    })\n                }\n            } >Apply</Button>\n            <Divider type=\"vertical\" />\n            <Button disabled={loading} onClick={() => {\n                dispacher({\n                    type: \"setState\",\n                    data: {\n                        saveDiagram: true\n                    }\n                })\n            }}>Save As</Button>\n            <Divider type=\"vertical\" />\n            <Button disabled={loading} onClick={() => {\n                dispacher({\n                    type: \"setState\",\n                    data: { loading: true }\n                })\n                dispacher({\n                    type: \"rollback\",\n                    data: { workshop, loading: false }\n                })\n            }} >Rollback</Button>\n        </ApplySaveRollbackContext.Provider>\n    )\n}\nexport { ApplySaveRollback, ApplySaveRollbackContext }","import ActionMaker from \"../../../ActionMaker\"\nimport Tools from \"../../../../common/Tools\"\nimport ApplyActionUtils from \"../../common/ApplyActionUtils\"\n\nexport const { handler: OrderApplyActionHandler, action: OrderApplyAction } = ActionMaker.buildHandler(async (action) => {\n    return ApplyActionUtils.apply(action,\n        (values) => {\n            if (Object.keys(values).length === 0) {\n                return \"Please configure order fields then click apply\"\n            }\n            return undefined\n        },\n        (workshop, values) => {\n            const tableName = Tools.getTempTableName()\n            const orderStr = Object.keys(values).map(key => {\n                return ` ${Tools.getField(key)} ${values[key]} `\n            }).join(\",\")\n\n            const sql = `select * from ${workshop.getLastApplyTable().tableName}\n            order by  ${orderStr}\n            as ${tableName};`\n            return { tableName, sql }\n        })\n})","import { AddFieldActionHandler, AddFieldAction } from \"./AddFieldAction\";\nimport { RemoveFieldActionHandler, RemoveFieldAction } from \"./RemoveFieldAction\";\nimport { SetStateAction, SetStateActionHandler } from \"../../../app_console/admin/actions/SetStateAction\";\nimport { OrderApplyActionHandler, OrderApplyAction } from \"./OrderApplyAction\";\n\nclass OrderStationActionNames {\n    static ADD_FIELD = \"addField\"\n    static REMOVE_FIELD = \"removeField\"\n}\n\nconst OrderStationHandlers = {\n    [OrderStationActionNames.ADD_FIELD]: AddFieldActionHandler,\n    [OrderStationActionNames.REMOVE_FIELD]: RemoveFieldActionHandler,\n    setState: SetStateActionHandler,    \n    apply: OrderApplyActionHandler\n}\n\nconst OrderStationActions = {\n    [OrderStationActionNames.ADD_FIELD]: AddFieldAction,\n    [OrderStationActionNames.REMOVE_FIELD]: RemoveFieldAction,\n    setState: SetStateAction,    \n    apply: OrderApplyAction\n}\n\nfunction OrderStationReducer(state, action) {\n    return OrderStationActions[action.type](state, action.data)    \n}\nexport { OrderStationActionNames, OrderStationReducer, OrderStationHandlers }","import React, { useState, useCallback, useEffect } from 'react';\nimport { useReducerAsync } from 'use-reducer-async'\nimport { Form, Tag, Divider, Select, Button,Modal,Input,Switch } from 'antd'\nimport { CastFieldsReducer, CastFieldsHandlers, CastFieldsActionNames } from './actions/CastFieldsReducer';\nimport { ApplySaveRollback } from '../../apply_save_rollback/ApplySaveRollback';\nimport { OrderStationActionNames } from '../order/actions/OrderStationReducer';\nimport AlertBox from '../../AlertBox';\nconst { Option } = Select;\n\n\nconst initState = {\n    error: undefined,\n    //为了回调applySaveRollback组件  \n    applySaveRollbackDispacher: undefined,\n    operateFileds:[]\n}\n\nconst CastFieldsContext = React.createContext()\n\nfunction CastFields(props) {\n    const {workshop} = props\n    const [form] = Form.useForm()\n    const fields = workshop.currentTable.schema.fields\n    const [state, dispacher] = useReducerAsync(CastFieldsReducer, initState, CastFieldsHandlers)\n    const { operateFileds, error,applySaveRollbackDispacher} = state\n    const children = fields.map(item => {\n        return <Option key={item.name}>{item.name}</Option>\n    })\n\n    useEffect(()=>{\n        if(applySaveRollbackDispacher){\n            form.submit()\n        }       \n    },[applySaveRollbackDispacher])\n    \n    return (\n        <CastFieldsContext.Provider value={{ dispacher }}>\n            <div style={{ marginTop: \"10px\", \"width\": \"400px\" }}>\n                {\n                    error && <AlertBox message={error}></AlertBox>\n                }\n                <Form form={form} onFinish={(values) => {                    \n                    dispacher({\n                        type: \"apply\",\n                        data: {\n                            workshop,\n                            values                                                    \n                        }\n                    })\n                }} className=\"login-form\" >\n                    <Form.Item>\n                        <ApplySaveRollback context={CastFieldsContext} workshop={workshop}/>\n                    </Form.Item>\n                    <Form.Item label=\"Choose fields\" >\n                        <Select\n                            mode=\"multiple\"\n                            onDeselect={value => {\n                                dispacher({\n                                    type: CastFieldsActionNames.REMOVE_FIELD,\n                                    data: { fields: value }\n                                })\n                            }}\n                            onChange={(value) => {\n                                dispacher({\n                                    type: CastFieldsActionNames.ADD_FIELD,\n                                    data: { fields: value }\n                                })\n                            }}\n                        >\n                            {children}\n                        </Select>\n                    </Form.Item>\n\n                    {operateFileds.map(item => {\n                        return <Form.Item key={item.field} label={`Cast ${item.field} to`} name={item.field}>\n                            <Select>\n                                <Select.Option value=\"int\">int</Select.Option>\n                                <Select.Option value=\"long\">long</Select.Option>\n                                <Select.Option value=\"double\">double</Select.Option>\n                                <Select.Option value=\"string\">string</Select.Option>\n                            </Select>\n                        </Form.Item>\n                    })}\n                </Form>\n            </div>\n        </CastFieldsContext.Provider>\n    )\n}\nexport { CastFields, CastFieldsContext }","import * as React from \"react\";\nimport { Tabs, Radio } from 'antd';\nimport '../common.scss'\nimport ApplyOrSave from \"../ApplyOrSave\";\nimport SelectFields from \"./SelectFields\"\nimport mix from \"../../../common/mixin\"\nimport { StationCommonOp } from \"../commonops/StationCommonOp\";\nimport RenameFields from \"./RenameFields\";\nimport FunctionField from \"./FunctionField\";\nimport { ProjectStationSQLOp } from \"./ProjectStationSQLOp\";\nimport { CastFields } from \"./CastFields\";\nimport {FormattedMessage} from 'react-intl'\n\nconst { TabPane } = Tabs;\n\nexport default class ProjectStation extends mix(React.Component).with(StationCommonOp,ProjectStationSQLOp) {\n    constructor(props) {\n        super(props)\n        this.workshop = props.parent.workshop\n    }\n\n\n    render() {\n        return <div>\n            <div className={\"station-menu\"}>                \n                <Tabs defaultActiveKey=\"1\" className={\"station-tabs\"}>\n                    <TabPane tab={<FormattedMessage id=\"select_columns\"/>} key=\"1\">\n                    <ApplyOrSave parent={this} onRollback={this.onRollback} handlePersit={this.handlePersit} handleTableInput={this.handleTableInput} ref={(et)=>this.ApplyOrSaveRef=et} onSave={this.onSave} onApply={this.onSelectApply} style={{marginBottom:\"30px\"}}></ApplyOrSave>                        \n                        <SelectFields schemaFields={this.workshop.currentTable.schema.fields} ref={(et)=>this.selectFieldsRef=et} parent={this}></SelectFields>\n                    </TabPane>\n                    <TabPane tab={<FormattedMessage id=\"rename_columns\"/>} key=\"2\">\n                    <ApplyOrSave parent={this} onRollback={this.onRollback}  handlePersit={this.handlePersit} handleTableInput={this.handleTableInput} ref={(et)=>this.ApplyOrSaveRef=et} onSave={this.onSave} onApply={this.onRenameApply} style={{marginBottom:\"30px\"}}></ApplyOrSave>\n                        <RenameFields schemaFields={this.workshop.currentTable.schema.fields} ref={(et)=>this.renameFieldsRef=et} parent={this}></RenameFields>\n                    </TabPane>\n                    <TabPane tab={<FormattedMessage id=\"transform_columns\"/>} key=\"3\">\n                       <ApplyOrSave parent={this} onRollback={this.onRollback}  handlePersit={this.handlePersit} handleTableInput={this.handleTableInput} ref={(et)=>this.ApplyOrSaveRef=et} onSave={this.onSave} onApply={this.onFuncApply} style={{marginBottom:\"30px\"}}></ApplyOrSave>                        \n                       <FunctionField  schemaFields={this.workshop.currentTable.schema.fields} ref={(et)=>this.functionFieldRef=et} parent={this}></FunctionField>\n                    </TabPane>\n                    <TabPane tab={<FormattedMessage id=\"cast_columns_type\"/>} key=\"4\"> \n                       <CastFields workshop={this.workshop}></CastFields>                                         \n                    </TabPane>\n                </Tabs>\n            </div>\n            <div>\n\n            </div>\n        </div>\n    }\n}","import Tools from \"../../../common/Tools\";\nexport const ProjectStationSQLOp = superclass => class extends(superclass) {\n    onSelectApply = async ()=>{\n        this.ApplyOrSaveRef.enter()\n        const fields = this.selectFieldsRef.getSelectFields().map(item=>{\n            return `\\`${item}\\``\n        })\n        if(fields.length === 0){\n            this.workshop.showInfo(\"No fields are selected.\")\n            this.ApplyOrSaveRef.exit()\n            return\n        }\n        const tableName = Tools.getTempTableName()\n        \n        const sql = `select ${fields.join(\",\")} from ${this.workshop.getLastApplyTable().tableName} as ${tableName};`\n        await this.workshop.apply({tableName,sql})\n        this.ApplyOrSaveRef.exit()\n        this.workshop.refreshOperateStation()\n     }\n \n     onFuncApply = async ()=>{\n         this.ApplyOrSaveRef.enter()\n         const fields = this.functionFieldRef.getSelectFields()        \n         if(fields.length === 0){\n             this.workshop.toggleMessage(\"No fields are renamed.\")\n             this.ApplyOrSaveRef.exit()\n             return\n         }\n\n         let isAggExists = fields.filter(item=>item.isAgg).length > 0         \n         let newFields = []\n         \n         if(!isAggExists){\n            newFields = fields.map(item=>{                        \n                if(item[\"transformCode\"]){\n                    return `${item[\"transformCode\"]} as \\`${item[\"columnName\"]}\\``\n                } else return `\\`${item[\"field\"]}\\` as \\`${item[\"field\"]}\\``\n                \n            }) \n         }else {\n            newFields = fields.filter(item=>item.isAgg).map(item=>`${item[\"transformCode\"]} as \\`${item[\"columnName\"]}\\``)\n         }\n         \n         \n         \n         const tableName = Tools.getTempTableName()  \n         const sql = `select ${newFields.join(\",\")} from ${this.workshop.getLastApplyTable().tableName} as ${tableName};`        \n         await this.workshop.apply({tableName,sql})\n         this.ApplyOrSaveRef.exit()\n         this.workshop.refreshOperateStation()\n      }\n \n      onRenameApply = async ()=>{\n         this.ApplyOrSaveRef.enter()\n         const fields = this.renameFieldsRef.getSelectFields()    \n         const currentFields = this.workshop.currentTable.schema.fields.map(item=>`\\`${item.name}\\``)\n         \n         if(fields.length === 0){\n             this.workshop.toggleMessage(\"No fields are renamed.\")\n             this.ApplyOrSaveRef.exit()\n             return\n         }\n         const newFields = Object.keys(fields).map(item=>{\n             return `\\`${item}\\` as \\`${fields[item]}\\``\n         })\n         \n        //  const tempC = Object.keys(fields)\n         //const leftFieds = currentFields.filter(item=> !tempC.includes(item))\n         const tableName = Tools.getTempTableName()  \n         const sql = `select ${currentFields.concat(newFields).join(\",\")} from ${this.workshop.getLastApplyTable().tableName} as ${tableName};`        \n         await this.workshop.apply({tableName,sql})\n         this.ApplyOrSaveRef.exit()\n         this.workshop.refreshOperateStation()\n \n \n      }\n}","import React, { useState, useCallback, useEffect } from 'react';\nimport { Select, Input, Form } from 'antd';\nimport { ActionProxy } from '../../../backend_service/ActionProxy';\nimport Tools from '../../../common/Tools';\n\nconst ExpressionConst = {\n    EQUAL: \"=\",\n    NON_EQUAL: \"!=\",\n    IN: \"in\",\n    CONTAINS: \"contains\",\n    STARTS_WITH: \"startsWith\",\n    ENDS_WITH: \"endsWith\",\n    LIKE: \"like\",\n    IS_NULL: \"is null\",\n    IS_NOT_NULL: \"is not null\",\n    IS_EMPTY: \"is empty\",\n    IS_NOT_EMPTY: \"is not empty\",\n\n}\n\nconst buildExpression = (item) => {\n    const { field, dataType, compare, condition } = item\n    if (compare === ExpressionConst.IN) {\n\n        let conTemp = \"\"\n\n        switch (dataType) {\n            case \"integer\": case \"long\": case \"float\": case \"double\":\n                conTemp = condition.map(cond => {\n                    return cond\n                }).join(\",\")\n                break\n            default:\n                conTemp = condition.map(cond => {\n                    return `\"${Tools.escapeQuote(cond)}\"`\n                }).join(\",\")\n        }\n        const con = `(${conTemp})`\n        return `${Tools.getField(field)} ${compare} ${con}`\n    }\n\n    if (compare === ExpressionConst.IS_NOT_NULL || compare === ExpressionConst.IS_NULL) {\n        return `${Tools.getField(field)} ${compare}`\n    }\n\n    if (compare === ExpressionConst.IS_EMPTY) {\n        return `${Tools.getField(field)} = \"\"`\n    }\n\n    if (compare === ExpressionConst.IS_NOT_EMPT) {\n        return `${Tools.getField(field)} != \"\"`\n    }\n\n    if (compare === ExpressionConst.LIKE) {\n        return `${Tools.getField(field)} like \"${Tools.escapeQuote(condition)}\"`\n    }\n\n    if (compare === ExpressionConst.STARTS_WITH) {\n        return `${Tools.getField(field)} like \"${Tools.escapeQuote(condition)}%\"`\n    }\n\n    if (compare === ExpressionConst.ENDS_WITH) {\n        return `${Tools.getField(field)} like \"%${Tools.escapeQuote(condition)}\"`\n    }\n\n    let con = \"\"\n    switch (dataType) {\n        case \"string\":\n            con = `\"${Tools.escapeQuote(condition)}\"`\n            break\n        default: con = condition;\n    }\n    return `${Tools.getField(field)} ${compare} ${con}`\n}\nfunction FilterCondition(props) {\n    const { record, workshop } = props\n    const [compare, setCompare] = useState(undefined)\n    const { dataType, field } = record\n    const [inCandidate, setInCandidate] = useState([])\n    const [inCandidateLoading, setInCandidateLoading] = useState(false)\n    const [form] = Form.useForm()\n    props.forms[field] = form\n\n    const fetch = async () => {\n        if (inCandidate.length === 0 && compare === \"in\") {\n            setInCandidateLoading(true)\n            const proxy = new ActionProxy()\n            const res = await proxy.runScript(\n                `select distinct(${Tools.getField(field)}) as name \n                from ${workshop.getLastApplyTable().tableName} \n                as output;`,\n                Tools.getJobName(),\n                { ...Tools.robotFetchParam(), outputSize: 1000, timeout: 10000 })\n            if (res.status === 200) {\n                setInCandidate(res.content.data)\n            }\n            setInCandidateLoading(false)\n        }\n    }\n\n    useEffect(() => {\n        fetch()\n    }, [compare])\n\n    const condition = () => {\n        switch (compare) {\n            case ExpressionConst.IS_NULL:\n                return <></>\n            case ExpressionConst.IS_NOT_NULL:\n                return <></>\n            case ExpressionConst.IN:\n                return <Select loading={inCandidateLoading} mode=\"tags\" style={{ width: '300px' }}>\n                    {inCandidate.map(item => {\n                        return <Select.Option key={item.name} value={item.name}>{item.name}</Select.Option>\n                    })}\n                </Select>\n\n            case ExpressionConst.LIKE:\n                return <><Input/><span>LIKE 'a%o' means Finds any values that start with 'a' and ends with 'o' </span></>\n\n            default:\n                return <Input />\n        }\n    }\n\n    const ui = () => {\n        return <Form form={form} layout={\"inline\"}>\n            <Form.Item name=\"compare\">\n                <Select initialValue={\"=\"}\n                    onChange={(value) => {\n                        setCompare(value)\n                    }}\n                    placeholder=\"compare\" style={{width:\"200px\"}}>\n                    <Select.Option value=\"=\">=</Select.Option>\n                    <Select.Option value=\"<\">{'<'}</Select.Option>\n                    <Select.Option value=\">\">{'>'}</Select.Option>\n                    <Select.Option value=\">=\">{'>='}</Select.Option>\n                    <Select.Option value=\"<=\">{'<='}</Select.Option>\n                    <Select.Option value=\"!=\">{'!='}</Select.Option>\n                    <Select.Option value={ExpressionConst.LIKE}>{'like'}</Select.Option>\n                    <Select.Option value={ExpressionConst.STARTS_WITH}>{'startsWith'}</Select.Option>\n                    <Select.Option value={ExpressionConst.ENDS_WITH}>{'endsWith'}</Select.Option>\n                    <Select.Option value={ExpressionConst.IN}>{'in'}</Select.Option>\n                    <Select.Option value={ExpressionConst.IS_NULL}>{'is null'}</Select.Option>\n                    <Select.Option value={ExpressionConst.IS_NOT_NULL}>{'is not null'}</Select.Option>\n                    <Select.Option value={ExpressionConst.IS_EMPTY}>{'is empty'}</Select.Option>\n                    <Select.Option value={ExpressionConst.IS_NOT_EMPTY}>{'is not empty'}</Select.Option>\n                </Select>\n            </Form.Item>\n            <Form.Item name=\"condition\">\n                {condition()}\n            </Form.Item>\n        </Form>\n    }\n    return ui()\n}\nexport { FilterCondition, ExpressionConst, buildExpression }","import * as React from \"react\";\nimport { Form, Table, Button, Modal, Input, Select, Divider } from 'antd';\nimport ApplyOrSave from \"../ApplyOrSave\";\nimport { FilterCondition } from \"./FilterCondition\";\nexport default class Compare extends React.Component {\n    constructor(props) {\n        super(props)\n        this.fitlerStation = props.parent\n        this.workshop = props.parent.workshop\n        this.state = this.wow(props.schemaFields)\n        this.forms = {}\n    }\n\n    reload = (data) => {\n        this.setState({ ...this.wow(data) })\n    }\n\n    wow = (schemaFields) => {\n        const fields = schemaFields\n        const data = fields.map(item => {\n            return { key: item.name, field: item.name, dataType: item.type, compare: \"=\", condition: \"\", command: \"\" }\n        })\n\n        const columns = [\n            {\n                title: \"field\",\n                dataIndex: \"field\"\n            },\n            {\n                title: \"dataType\",\n                dataIndex: \"dataType\",\n                render: (value, record) => {\n\n                    switch ((typeof value)) {\n                        case 'object':\n                            return <span>{value.type}</span>\n                        default:\n                            return <span>{value}</span>\n                    }\n                }\n            },\n            {\n                title: \"\",\n                dataIndex: \"compare\",\n                render: (value, record) => {\n                    return <FilterCondition forms={this.forms} record={record} workshop ={this.workshop}/>\n                }\n            }\n\n        ]\n        return { funcPopUp: false, data, columns }\n    }\n\n    buildSelectedRows = ()=>{\n        const fieldToDataType = {}\n        this.state.data.forEach(item=>{\n            fieldToDataType[item.field] = item.dataType\n        })\n\n        const params = Object.entries(this.forms).map(([key,value])=>{\n            const {compare,condition} = value.getFieldsValue()\n            if(compare){\n                return {field:key,compare,condition,dataType:fieldToDataType[key]}\n            }\n            return {}\n        })\n        if(!this.selectedRowKeys) {\n            return []\n        }\n        return params.filter(item => this.selectedRowKeys.includes(item.field))\n    }\n\n    addGroup = (values) => {        \n        const { groupName, groupType } = values\n        if (!groupName || !groupType) {\n            this.workshop.showInfo(\"Error: groupName and groupType is required.\")\n            return\n        }\n        if(!this.selectedRowKeys){\n            this.workshop.showInfo(\"Please select fields\")\n            return\n        }\n        \n        const selectedRows = this.buildSelectedRows()\n\n        this.fitlerStation.conGroups[groupName] = { groupName, groupType, tp: \"basic\", data: selectedRows }\n        if (this.fitlerStation.applyGroup) {\n            this.fitlerStation.applyGroup.reload({ data: this.fitlerStation.conGroups })\n        }\n        if (this.fitlerStation.groupGroup) {\n            this.fitlerStation.groupGroup.reload({ data: this.fitlerStation.conGroups })\n        }        \n        this.workshop.showInfo(\"Add successfully\")\n    }\n\n\n    render = () => {\n        const rowSelection = {\n            onChange: (selectedRowKeys, selectedRows) => {\n                this.selectedRowKeys = selectedRowKeys\n            },\n            getCheckboxProps: record => ({\n                name: record.field\n            })\n        }\n        return <div >\n            <Form onFinish={this.addGroup}>\n                <Form.Item name={\"groupName\"} label=\"Group Name\"><Input></Input></Form.Item>\n                <Form.Item name={\"groupType\"} label=\"Group Type\" defaultValue={\"and\"}><Select >\n                    <Select.Option value=\"and\">and</Select.Option>\n                    <Select.Option value=\"or\">or</Select.Option>\n                </Select></Form.Item>\n                <Form.Item >\n                    <Button type=\"primary\" htmlType=\"submit\">Add selected conditions to group</Button>                    \n                </Form.Item>\n            </Form>\n            <Divider/>  \n            <ApplyOrSave parent={this} onRollback={this.fitlerStation.onRollback} handlePersit={this.fitlerStation.handlePersit} handleTableInput={this.fitlerStation.handleTableInput} ref={(et) => this.fitlerStation.ApplyOrSaveRef = et} onSave={this.fitlerStation.onSave} onApply={()=>{\n                const selectedRows = this.buildSelectedRows()\n                this.fitlerStation.onNonGroupFilterApply(selectedRows)\n            }} style={{ marginBottom: \"30px\" }}></ApplyOrSave>                                  \n            <Table rowSelection={{\n                type: \"checkbox\",\n                ...rowSelection,\n            }} columns={this.state.columns}\n                dataSource={this.state.data}>\n\n            </Table>\n        </div>\n    }\n}","import * as React from \"react\";\nimport { Divider, Form, Table, Button, Modal, Input, Select } from 'antd';\nimport Tools from \"../../../common/Tools\";\nexport default class GroupGroup extends React.Component {\n    constructor(props) {\n        super(props)\n        this.fitlerStation = props.parent\n        this.workshop = props.parent.workshop\n        this.state = this.wow(props)\n    }\n\n    reload = (data) => {\n        this.setState({ ...this.wow(data) })\n    }\n\n    wow = (props) => {\n        const fields = Object.keys(props.data).map(item => { return { groupName: item } })\n\n        const data = fields.map(item => {\n            return { key: item.groupName, groupName: item.groupName }\n        })\n\n        const columns = [\n            {\n                title: \"groupName\",\n                dataIndex: \"groupName\"\n            }\n        ]\n        return { funcPopUp: false, data, columns }\n    }\n\n    addGroup = (values) => {\n        const { groupName, groupType } = values\n        if (!groupName || !groupType) {\n            this.workshop.showInfo(\"Error: groupName and groupType is required.\")\n            return\n        }\n        const selectedRows = this.selectedRowKeys.map(groupName => {\n            return this.fitlerStation.conGroups[groupName]\n        })\n        this.fitlerStation.conGroups[groupName] = { groupName, groupType, tp: \"group\", data: selectedRows }\n        if (this.fitlerStation.applyGroup) {\n            this.fitlerStation.applyGroup.reload({ data: this.fitlerStation.conGroups })\n        }\n        if (this.fitlerStation.groupGroup) {\n            this.fitlerStation.groupGroup.reload({ data: this.fitlerStation.conGroups })\n        }\n        this.workshop.showInfo(\"Add successfully\")\n    }\n\n\n    render = () => {\n        const rowSelection = {\n            onChange: (selectedRowKeys, selectedRows) => {\n                this.selectedRowKeys = selectedRowKeys\n            },\n            getCheckboxProps: record => ({\n                name: record.title\n            })\n        }\n        return <div >\n            <Form onFinish={this.addGroup}>\n                <Form.Item name={\"groupName\"} label=\"Group Name\"><Input></Input></Form.Item>\n                <Form.Item name={\"groupType\"} label=\"Group Type\" defaultValue={\"and\"}><Select >\n                    <Select.Option value=\"and\">and</Select.Option>\n                    <Select.Option value=\"or\">or</Select.Option>\n                </Select></Form.Item>\n                <Form.Item >\n                    <Button type=\"primary\" htmlType=\"submit\">Add selected</Button>\n                </Form.Item>\n            </Form>\n            <Table rowSelection={{\n                type: \"checkbox\",\n                ...rowSelection,\n            }} columns={this.state.columns}\n                dataSource={this.state.data}>\n            </Table>\n        </div>\n    }\n}","import * as React from \"react\";\nimport {  Form,  Select } from 'antd';\nimport Tools from \"../../../common/Tools\";\nexport default class ApplyGroup extends React.Component {\n    constructor(props) {\n        super(props)\n        this.fitlerStation = props.parent\n        this.workshop = props.parent.workshop        \n        this.state = this.wow(props)        \n    }\n\n    reload = (data)=>{\n       this.setState({...this.wow(data)}) \n    }\n      \n    wow = (props) => {        \n        const fields = Object.keys(props.data).map(item => { return { groupName: item } })\n\n        const data = fields.map(item => {\n            return { key: item.groupName, groupName: item.groupName }\n        })              \n        return { data,refresh:Math.random()}\n    }\n\n    onChange = (value) => {\n        this.groupName = value\n    }\n\n    render = () => {\n\n        return <div >\n            <Form key={this.state.refresh}>                \n                <Form.Item label=\"Select group name to apply:\">\n                    <Select onChange={this.onChange} >\n                        {this.state.data.map(item => {                            \n                            return <Select.Option key={item.key} value={item.groupName}>\n                                {item.groupName}\n                            </Select.Option>\n                        })}\n                    </Select>\n                </Form.Item>\n            </Form>\n        </div>\n    }\n}","import * as React from \"react\";\nimport { Tabs, Divider } from 'antd';\nimport ApplyOrSave from \"../ApplyOrSave\";\nimport '../common.scss'\nimport mix from \"../../../common/mixin\"\nimport { StationCommonOp } from \"../commonops/StationCommonOp\";\nimport Compare from \"./Compare\"\nimport GroupGroup from \"./GroupGroup\";\nimport ApplyGroup from \"./ApplyGroup\";\nimport Tools from \"../../../common/Tools\";\nimport { buildExpression } from \"./FilterCondition\";\n\nconst { TabPane } = Tabs;\n\n\nexport default class FilterStation extends mix(React.Component).with(StationCommonOp) {\n    constructor(props) {\n        super(props)\n        this.workshop = props.parent.workshop\n        this.conGroups = {}\n        this.currentConditions = {}\n    }\n\n    static buildCondition = (items) => {\n        return items.map(item => {\n            return buildExpression(item)\n        })\n    }\n\n    onNonGroupFilterApply = async (selectedRows) => {\n        if (selectedRows.length === 0) {\n            this.workshop.showInfo(\"Please select fields\")\n            return\n        }\n        const filterStr = selectedRows.flatMap(item => {\n            return FilterStation.buildCondition([item])\n        }).join(\" and \")\n\n        this.ApplyOrSaveRef.enter()\n        const tableName = Tools.getTempTableName()\n        const sql = `select * from ${this.workshop.getLastApplyTable().tableName} \n        where ${filterStr}\n        as ${tableName};`\n\n        await this.workshop.apply({ tableName, sql })\n        this.ApplyOrSaveRef.exit()\n        // this.workshop.refreshOperateStation()\n    }\n    onFilterApply = async () => {\n        const groupName = this.applyGroup.groupName\n        if (!groupName) {\n            this.workshop.showInfo(\"Choose the group name to apply.\")\n            return\n        }\n        const group = this.conGroups[groupName]\n\n        function buildFilter(group) {\n            if (group.tp === \"basic\") {\n                if (group.groupType === \"and\") {\n                    return `(${FilterStation.buildCondition(group.data).join(\" and \")})`\n                } else return `(${FilterStation.buildCondition(group.data).join(\" or \")})`\n            } else {\n                if (group.groupType === \"and\") {\n                    const temp = group.data.flatMap(item => {\n                        return buildFilter(item)\n                    }).join(\" and \")\n                    return `(${temp})`\n                } else {\n                    const temp = group.data.flatMap(item => {\n                        return buildFilter(item)\n                    })\n                    return `(${temp.join(\" or \")})`\n                }\n\n            }\n\n        }\n        const filterStr = buildFilter(group)\n\n        this.ApplyOrSaveRef.enter()\n        const tableName = Tools.getTempTableName()\n        const sql = `select * from ${this.workshop.getLastApplyTable().tableName} \n        where ${filterStr}\n        as ${tableName};`\n\n        await this.workshop.apply({ tableName, sql })\n        this.ApplyOrSaveRef.exit()\n        //this.workshop.refreshOperateStation()\n    }\n\n    render() {\n        return <div>\n            <div className={\"station-menu\"}>\n                <Tabs defaultActiveKey=\"1\" className={\"station-tabs\"}>\n\n                    <TabPane tab=\"Add Conditions to Group\" key=\"1\">\n                        <Compare ref={(et) => this.compare = et} parent={this} schemaFields={this.workshop.currentTable.schema.fields}></Compare>\n                    </TabPane>\n                    <TabPane tab=\"Apply Group\" key=\"2\">\n                        <ApplyOrSave parent={this} onRollback={this.onRollback} handlePersit={this.handlePersit} handleTableInput={this.handleTableInput} ref={(et) => this.ApplyOrSaveRef = et} onSave={this.onSave} onApply={this.onFilterApply} style={{ marginBottom: \"30px\" }}></ApplyOrSave>\n                        <Divider />\n                        <ApplyGroup ref={(et) => this.applyGroup = et} parent={this} data={this.conGroups}></ApplyGroup>\n                    </TabPane>\n                    <TabPane tab=\"Add Groups to Group\" key=\"3\">\n                        <GroupGroup ref={(et) => this.groupGroup = et} parent={this} data={this.conGroups}></GroupGroup>\n                    </TabPane>\n\n                </Tabs>\n            </div>\n            <div>\n\n            </div>\n        </div>\n    }\n}","import React, { useState, useCallback, useEffect } from 'react';\nimport { Form, Tag, Divider, Select, Button,Modal,Input,Switch } from 'antd'\nimport { useReducerAsync } from 'use-reducer-async'\nimport { OrderStationReducer, OrderStationHandlers, OrderStationActionNames } from './actions/OrderStationReducer';\nimport AlertBox from '../../AlertBox';\nimport { ApplySaveRollback } from '../../apply_save_rollback/ApplySaveRollback';\n\n\n\nconst initState = {\n    operateFileds: [],\n    error: undefined,  \n    //为了回调applySaveRollback组件  \n    applySaveRollbackDispacher:undefined\n}\n\nconst OrderStationContext = React.createContext()\nconst { Option } = Select;\nfunction OrderStation(props) {\n    const workshop = props.parent.workshop\n    const fields = workshop.currentTable.schema.fields\n    const [state, dispacher] = useReducerAsync(OrderStationReducer, initState, OrderStationHandlers)\n    const { operateFileds, error,applySaveRollbackDispacher} = state\n    const [form] = Form.useForm()\n\n    const children = fields.map(item => {\n        return <Option key={item.name}>{item.name}</Option>\n    })\n    \n    useEffect(()=>{\n        if(applySaveRollbackDispacher){\n            form.submit()\n        }       \n    },[applySaveRollbackDispacher])\n\n    return (\n        <OrderStationContext.Provider value={{ dispacher }}>\n            <div style={{ marginTop: \"10px\", \"width\": \"400px\" }}>\n                {\n                    error && <AlertBox message={error}></AlertBox>\n                }\n                <Form form={form} onFinish={(values) => {                    \n                    dispacher({\n                        type: \"apply\",\n                        data: {\n                            workshop,\n                            values                                                    \n                        }\n                    })\n                }} className=\"login-form\" >\n                    <Form.Item>\n                        <ApplySaveRollback context={OrderStationContext} workshop={workshop}/>\n                    </Form.Item>\n                    <Form.Item label=\"Choose fields\" >\n                        <Select\n                            mode=\"multiple\"\n                            onDeselect={value => {\n                                dispacher({\n                                    type: OrderStationActionNames.REMOVE_FIELD,\n                                    data: { fields: value }\n                                })\n                            }}\n                            onChange={(values) => {\n                                dispacher({\n                                    type: OrderStationActionNames.ADD_FIELD,\n                                    data: { fields: values }\n                                })\n                            }}\n                        >\n                            {children}\n                        </Select>\n                    </Form.Item>\n\n                    {operateFileds.map(item => {\n                        return <Form.Item initialValue={\"desc\"} key={item.field} label={item.field} name={item.field}>\n                            <Select>\n                                <Select.Option value=\"desc\">desc</Select.Option>\n                                <Select.Option value=\"asc\">asc</Select.Option>\n                            </Select>\n                        </Form.Item>\n                    })}\n                </Form>\n            </div>\n        </OrderStationContext.Provider>\n    )\n}\nexport { OrderStation, OrderStationContext }","import ActionMaker from \"../../../ActionMaker\"\nimport Tools from \"../../../../common/Tools\"\nimport ApplyActionUtils from '../../common/ApplyActionUtils'\n\nexport const {handler:LimitApplyActionHandler,action:LimitApplyAction} = ActionMaker.buildHandler(async (action)=>{\n    return ApplyActionUtils.apply(action,\n        (values)=>{\n            if(Object.keys(values).length == 0){\n                return \"Please configure limit size then click apply.\"\n            }\n            if(!values.limitSize){\n                return \"Please configure limit size then click apply.\"\n            }\n            return undefined\n        },\n        (workshop,values)=>{\n            const tableName = Tools.getTempTableName()\n            const limitStr = values.limitSize\n            \n            const sql = `select * from ${workshop.getLastApplyTable().tableName}\n            limit  ${limitStr}\n            as ${tableName};`\n            return {tableName,sql}\n        })    \n})","import { CommonHandlers,CommonActions} from \"../../common/CommonHandlers\"\nimport { LimitApplyAction, LimitApplyActionHandler } from \"./LimitApplyAction\"\n\nclass LimitStationActionNames {}\nconst LimitStationHandlers = {\n    ...CommonHandlers,apply:LimitApplyActionHandler\n}\nconst LimitStationActions = {\n    ...CommonActions,apply:LimitApplyAction\n}\n\nfunction LimitStationReducer(state, action) {\n    return LimitStationActions[action.type](state, action.data)\n}\nexport { LimitStationActionNames, LimitStationReducer, LimitStationHandlers }","import React, { useState, useCallback, useEffect } from 'react';\nimport { useReducerAsync } from 'use-reducer-async'\nimport { LimitStationReducer, LimitStationHandlers } from './actions/LimitStationReducer';\nimport AlertBox from '../../AlertBox';\nimport { Form, Tag, Divider, Select, Button,Modal,Input,Switch } from 'antd'\nimport { ApplySaveRollback } from '../../apply_save_rollback/ApplySaveRollback';\n\n\nconst initState = {\n    limitSize: undefined,\n    error: undefined,\n    //为了回调applySaveRollback组件  \n    applySaveRollbackDispacher: undefined\n}\n\nconst LimitStationContext = React.createContext()\n\nfunction LimitStation(props) {\n    const workshop = props.parent.workshop\n    const [state, dispacher] = useReducerAsync(LimitStationReducer, initState, LimitStationHandlers)\n    const { limitSize, error, applySaveRollbackDispacher } = state\n    const [form] = Form.useForm()\n\n    useEffect(()=>{\n        if(applySaveRollbackDispacher){\n            form.submit()\n        }       \n    },[applySaveRollbackDispacher])\n\n    return (\n        <LimitStationContext.Provider value={{ dispacher }}>\n            <div style={{ marginTop: \"10px\", \"width\": \"400px\" }}>\n                {\n                    error && <AlertBox message={error}></AlertBox>\n                }\n                <Form form={form} onFinish={(values) => {\n                    dispacher({\n                        type: \"apply\",\n                        data: {\n                            workshop,\n                            values\n                        }\n                    })\n                }} className=\"login-form\" >\n                    <Form.Item>\n                        <ApplySaveRollback context={LimitStationContext} workshop={workshop} />\n                    </Form.Item>\n                    <Form.Item name=\"limitSize\">\n                        <Input/>\n                    </Form.Item>\n                </Form>\n            </div>\n\n        </LimitStationContext.Provider>\n    )\n}\nexport { LimitStation, LimitStationContext }","import ActionMaker from \"../../../ActionMaker\"\n\nexport const {handler:BuildGroupActionHandler,action:BuildGroupAction} = ActionMaker.buildHandler(async (action)=>{\n    const result = action.__state.result\n    result.groupFields = action.data.groupFields\n    return {        \n        data: {\n            current: action.__state.current + 1,\n            result  \n        }\n    }\n})","import ActionMaker from \"../../../ActionMaker\"\n\nexport const {handler:BuildOrderActionHandler,action:BuildOrderAction} = ActionMaker.buildHandler(async (action)=>{\n    const result = action.__state.result\n    result.orderFields = action.data.orderFields\n    return {        \n        data: {\n            current: action.__state.current + 1,\n            result \n        }\n    }\n})","import ActionMaker from \"../../../ActionMaker\"\n\nexport const {handler:BuildRowWindowsActionHandler,action:BuildRowWindowsAction} = ActionMaker.buildHandler(async (action)=>{\n    const result = action.__state.result\n    result.rowWindows = action.data.rowWindows\n    return {        \n        data: {\n            current: action.__state.current + 1,\n            result  \n        }\n    }\n})","import ActionMaker from \"../../../ActionMaker\"\nimport Tools from \"../../../../common/Tools\"\n\nexport const { handler: WindowApplyActionHandler, action: WindowApplyAction } = ActionMaker.buildHandler(async (action) => {\n    const { groupFields,\n        orderFields,\n        rowWindows\n         } = action.__state.result\n    const {workshop,functions} = action.data\n\n    const partitionByStr = groupFields.map(item => {\n        return Tools.getField(item.field)\n    }).join(\",\")\n\n    const orderBy = orderFields.map(item => {\n        return `${Tools.getField(item.field)} ${item.value}`\n    })\n\n    let orderByStr = \"\"\n    if (orderBy.length > 0) {\n        orderByStr = `order by ${orderBy.join(\",\")}`\n    }\n\n    const { windowType, preceding, following } = rowWindows\n    let windowStr = \"\"\n    \n    //UNBOUNDED /CURRENT ROW\n    let precedingStr = (preceding  && `${preceding} PRECEDING`) || \"UNBOUNDED PRECEDING\"\n    let followingStr = (following && `${following} FOLLOWING`) || \"UNBOUNDED FOLLOWING\"\n\n    if(precedingStr === \"UNBOUNDED PRECEDING\" && followingStr===\"UNBOUNDED FOLLOWING\"){\n        followingStr = \"CURRENT ROW\"\n    }\n   \n    if (windowType) {\n        switch (windowType) {\n            case \"row window\":\n                windowStr = `ROWS BETWEEN ${precedingStr}  and ${followingStr} `\n                break;\n            case \"range window\":\n                windowStr = `RANGE BETWEEN ${precedingStr}  and ${followingStr} `\n                break;\n        }\n    }\n\n    const selectStr = functions.map(item=>{\n        const { field, isAgg, transformCode, columnName } = item\n        return `${transformCode} over w as ${columnName}`\n    }).join(\",\")\n\n    const oldFields = workshop.currentTable.schema.fields.map(item=>Tools.getField(item.name)).join(\",\")\n    const tableName = Tools.getTempTableName()\n    const sql = `\n     select ${oldFields},${selectStr}\n     from ${workshop.getLastApplyTable().tableName} \n     window w as (\n         partition by ${partitionByStr} ${orderByStr} ${windowStr}\n     ) as ${tableName};\n    `\n    // console.log(sql)\n    \n    await workshop.apply({tableName,sql})\n    // setLoading(false)\n    workshop.refreshOperateStation()\n    return {\n        data: {}\n    }\n})","import { CommonHandlers, CommonActions } from '../../common/CommonHandlers'\nimport { BuildGroupAction, BuildGroupActionHandler } from './BuildGroupAction'\nimport { BuildOrderAction, BuildOrderActionHandler } from './BuildOrderAction'\nimport { BuildRowWindowsAction, BuildRowWindowsActionHandler } from './BuildRowWindowsAction'\nimport { WindowApplyActionHandler, WindowApplyAction } from './WindowApplyAction'\nclass WindowStationActionNames {\n    static buildGroup = \"buildGroup\"\n    static buildOrder = \"buildOrder\"\n    static buildRowWindows = \"buildRowWindows\"\n    static apply = \"apply\"\n}\nconst WindowStationHandlers = {\n    ...CommonHandlers,\n    [WindowStationActionNames.buildGroup]: BuildGroupActionHandler,\n    [WindowStationActionNames.buildOrder]: BuildOrderActionHandler,\n    [WindowStationActionNames.buildRowWindows]: BuildRowWindowsActionHandler, \n    apply: WindowApplyActionHandler   \n}\nconst WindowStationActions = {\n    ...CommonActions,\n    [WindowStationActionNames.buildGroup]: BuildGroupAction,\n    [WindowStationActionNames.buildOrder]: BuildOrderAction,\n    [WindowStationActionNames.buildRowWindows]: BuildRowWindowsAction,\n    apply: WindowApplyAction \n}\n\nfunction WindowStationReducer(state, action) {\n    return WindowStationActions[action.type](state, action.data)\n}\nexport { WindowStationActionNames, WindowStationReducer, WindowStationHandlers }","import React, { useState, useCallback, useEffect } from 'react';\nimport { Form, Tag, Divider, Select, Button, Modal, Input, Switch } from 'antd'\nimport AlertBox from '../../../AlertBox';\nimport { ApplySaveRollback } from '../../../apply_save_rollback/ApplySaveRollback';\nconst { Option } = Select;\nfunction useSelectFields(props) {\n    const { workshop,\n        dispacher,\n        context,\n        enableApply = false,\n        fieldWrapper,submit,selectFields,\n        selectFieldsLabel=\"Choose fields\",\n        selectFieldsMode=\"multiple\"\n    } = props\n    const fields = selectFields || workshop.currentTable.schema.fields\n    const [operateFields, setOperateFields] = useState([])\n    const [error, setError] = useState(undefined)\n    const [form] = Form.useForm()\n\n    const children = fields.map(item => {\n        return <Option key={item.name}>{item.name}</Option>\n    })\n\n    const ui = (commands) => {\n        return <Form form={form} className=\"login-form\" onFinish={submit} >\n                {\n                  error && <AlertBox onClose={()=>{setError(undefined)}} message={error}></AlertBox>\n                }\n                {enableApply && <Form.Item>\n                    <ApplySaveRollback context={context} workshop={workshop} />\n                </Form.Item>\n                }\n                <Form.Item label={selectFieldsLabel} name=\"selectFieldsName\">\n                    <Select\n                        style={{\"minWidth\":\"200px\"}}                        \n                        mode={selectFieldsMode}\n                        onDeselect={value => {                            \n                            setOperateFields(operateFields.filter(item => value !== item.field))\n                        }}\n                        onChange={(values) => {  \n                            if(selectFieldsMode===\"multiple\"){\n                                setOperateFields(values.map(field => {\n                                    return { field }\n                                }))\n                            }else {\n                                setOperateFields([{ field:values }])\n                            }\n                            \n                        }}\n                    >\n                        {children}\n                    </Select>\n                </Form.Item>\n\n                {operateFields.map(item => {\n                    return fieldWrapper(item)\n                })}\n\n                {commands}\n\n            </Form>        \n    }\n\n    return { ui, operateFields, form, setError }\n\n}\n\nexport default useSelectFields\n\n","import React, { useState, useCallback, useEffect, useContext } from 'react';\nimport useSelectFields from '../../common/pages/SelectFieldsToOperate';\nimport {Form,Button, Divider} from 'antd';\nimport { WindowStationContext } from '../WindowStation';\nimport { WindowStationActionNames } from '../actions/WindowStationReducer';\n\n\nfunction BuildGroup(props) {  \n    const {dispacher} = useContext(WindowStationContext)  \n    const {ui,operateFields,setError} = useSelectFields({\n        workshop:props.workshop,\n        fieldWrapper:(item)=>{return <></>}\n    })    \n    return (\n        ui([<Form.Item key={\"button\"}>\n            <Button type=\"primary\" onClick={\n                ()=>{   \n                    if(operateFields.length===0){\n                        setError(\"Fields are required.\")\n                        return \n                    }                 \n                    dispacher({\n                        type: WindowStationActionNames.buildGroup,\n                        data: {groupFields:operateFields}\n                    })                    \n                }\n            }>\n                Next\n            </Button>\n        </Form.Item>])\n    )\n}\nexport {BuildGroup}","import React, { useContext} from 'react';\nimport { WindowStationContext } from '../WindowStation';\nimport useSelectFields from '../../common/pages/SelectFieldsToOperate';\nimport {Form,Button,Select,Divider} from 'antd';\nimport { WindowStationActionNames } from '../actions/WindowStationReducer';\n\nfunction SetupGroupRowOrder(props) {\n    const {dispacher} = useContext(WindowStationContext)  \n    const {ui,operateFields,setError,form} = useSelectFields({\n        workshop:props.workshop,\n        fieldWrapper:(item)=>{return <Form.Item initialValue={\"desc\"} key={item.field} label={item.field} name={item.field}>\n        <Select>\n            <Select.Option value=\"desc\">desc</Select.Option>\n            <Select.Option value=\"asc\">asc</Select.Option>\n        </Select>\n    </Form.Item>}\n    })    \n    return (\n        ui([<Form.Item>\n            <Button type=\"primary\" onClick={\n                ()=>{                     \n                    const orderFieldsObj = form.getFieldValue() \n                    const orderFields = operateFields.map(item=>{\n                        return {field:item.field, value:orderFieldsObj[item.field]}\n                    })                   \n                    dispacher({\n                        type: WindowStationActionNames.buildOrder,\n                        data: {orderFields:orderFields}\n                    })                    \n                }\n            }>\n                Next\n            </Button>\n            <Divider type=\"vertical\"/>\n            <Button  onClick={\n                ()=>{   \n                                                         \n                    dispacher({\n                        type: \"setState\",\n                        data: {current:0}\n                    })                    \n                }\n            }>\n                Previous\n            </Button>\n        </Form.Item>])\n    )\n}\nexport {SetupGroupRowOrder}","import React, { useState, useCallback, useEffect, useContext } from 'react';\nimport useSelectFields from '../../common/pages/SelectFieldsToOperate';\nimport { Form, Button, Divider, Input } from 'antd';\nimport { WindowStationContext } from '../WindowStation';\nimport { WindowStationActionNames } from '../actions/WindowStationReducer';\n\n\nfunction BuildWindowOnGroup(props) {\n    const { dispacher } = useContext(WindowStationContext)\n    const { ui, operateFields, setError, form } = useSelectFields({\n        workshop: props.workshop,\n        fieldWrapper: (item) => {\n            switch (item.field) {\n                case \"row window\":\n                    return <>\n                        <Form.Item label=\"Preceding\" name=\"preceding\">\n                            <Input placeholder={\"number\"} />\n                        </Form.Item>\n                        <Form.Item label=\"Following\" name=\"following\">\n                            <Input placeholder={\"number\"} />\n                        </Form.Item>\n                    </>\n                case \"range window\":\n                    return <>\n                        <Form.Item label=\"Preceding\" name=\"preceding\">\n                            <Input placeholder={\"number\"} />\n                        </Form.Item>\n                        <Form.Item label=\"Following\" name=\"following\">\n                            <Input placeholder={\"number\"} />\n                        </Form.Item>\n                    </>\n            }\n        },\n        selectFields: [{ name: \"row window\" }, { name: \"range window\" }],\n        selectFieldsLabel: \"Window Type\", selectFieldsMode: \"single\"\n    })\n    return (\n        ui([<Form.Item>\n            <Button type=\"primary\" onClick={\n                () => {\n                    const { selectFieldsName } = form.getFieldValue()\n                    const rowWindows = { ...form.getFieldValue(), windowType: selectFieldsName }                \n                    dispacher({\n                        type: WindowStationActionNames.buildRowWindows,\n                        data: { rowWindows }\n                    })\n                }\n            }>\n                Next\n            </Button><Divider type=\"vertical\"/>\n            <Button  onClick={\n                ()=>{   \n                                                         \n                    dispacher({\n                        type: \"setState\",\n                        data: {current:1}\n                    })                    \n                }\n            }>\n                Previous\n            </Button>\n        </Form.Item>])\n    )\n}\nexport { BuildWindowOnGroup }","import React, { useState, useCallback, useEffect } from 'react';\nimport { Select, Form, Input, Switch, Divider,Collapse } from 'antd';\nimport EngineService from '../../../service/EngineService';\nimport FuncDesc from '../../FuncDesc';\nimport Tools from '../../../../common/Tools';\nimport AlertBox from '../../../AlertBox';\n\nconst { Panel } = Collapse;\n\nfunction useFieldTransform(props) {\n    const { operateField } = props\n    const [funcs, setFuncs] = useState([])\n    const [currentFunc, setCurrentFunc] = useState(undefined)\n    const [form] = Form.useForm()\n    const [error, setError] = useState(undefined)\n\n    const fetchFuncs = async () => {\n        const res = await EngineService.showFunctions()\n        const data = res.content.map((item) => {\n            return {\n                value: item.key.table,\n                text: item.key.table,\n                funcValue: item.columns[0],\n                returnValue: item.columns[1],\n                params: item.columns.slice(2, item.columns.length)\n            }\n        })\n        setFuncs(data)\n    }\n    useEffect(() => {\n        fetchFuncs()\n    }, [])\n\n    const handleChange = useCallback(async (value) => {\n        const currentFunc = funcs.filter(item => item.value === value)[0]\n        setCurrentFunc(currentFunc)\n    }, [funcs])\n\n    const showColumn = (item) => {\n        if (item.extra.column === \"yes\") {\n            return operateField\n        } else return \"\"\n    }\n\n    const getTransform = () => {\n        const { mannualTransform, isMannualAgg, newFieldName } = form.getFieldValue()\n        if (mannualTransform) {\n            return {\n                field: operateField,\n                isAgg: isMannualAgg || false,\n                transformCode: mannualTransform,\n                columnName: newFieldName\n            }\n        }\n        if(!currentFunc){\n            setError(\"Operate is required.\")\n            return {}\n        }\n        const params = []\n        currentFunc.params.forEach(item => {\n            let v = form.getFieldValue()[item.name]\n            if (!v && item.extra.column === \"yes\") {\n                v = operateField\n            }\n            if (v) {\n                if (item.extra.column === \"yes\") {\n                    params.push(Tools.getField(v))\n                } else if (item.dataType == \"number\" || item.dataType == \"boolean\") {\n                    params.push(v)\n                }\n                else {\n                    params.push(`\"${v}\"`)\n                }\n            }\n        })\n        const field = operateField\n        const isAgg = currentFunc.funcValue.extra.agg === \"yes\"\n        return { field, isAgg, transformCode: `${currentFunc.value}(${params.join(\",\")})`, columnName: newFieldName }\n    }\n\n\n    const ui = (commands,extra) => {\n        return <Form form={form} className=\"login-form\">\n            {\n                error && <AlertBox onClose={() => { setError(undefined) }} message={error}></AlertBox>\n            }\n            <Form.Item label={\"Search function\"}>\n                <Select\n                    showSearch\n                    defaultActiveFirstOption={false}\n                    showArrow={true}\n                    style={{ width: \"200px\" }}\n                    filterOption={true}\n                    onChange={handleChange}\n                    notFoundContent={\"type function name\"}\n                >\n                    {funcs.map(d => <Select.Option key={d.value}>{d.text}</Select.Option>)}\n                </Select>\n            </Form.Item>\n\n            {\n                currentFunc && <Form.Item key={currentFunc.value}><FuncDesc func={currentFunc}></FuncDesc></Form.Item>\n            }\n            {\n                currentFunc && currentFunc.params.map(item => {\n                    return <Form.Item initialValue={showColumn(item)} key={item.name} name={item.name} label={item.name}><Input  />\n                    </Form.Item>\n                })\n            }            \n            <Form.Item>\n                <Collapse>\n                    <Panel header=\"Mannually Apply Function\">\n                    <Divider type=\"horizontal\" />\n                    <Form.Item name=\"mannualTransform\" label=\"Mannual Transform\"><Input /></Form.Item>\n                    <Form.Item name=\"isMannualAgg\" label=\"Is Agg Function\"><Switch></Switch></Form.Item>\n                    </Panel>\n                </Collapse>\n            </Form.Item>\n            {extra}\n            <Form.Item name=\"newFieldName\" label=\"New Field Name\" required><Input /></Form.Item>\n            {commands}\n            \n        </Form>\n    }\n    return {\n        ui, form, getTransform, setError\n    }\n}\nexport { useFieldTransform }","import React, { useState, useCallback, useEffect, useContext } from 'react';\nimport { WindowStationContext } from '../WindowStation';\nimport { ApplyFunc, useFieldTransform } from '../../common/pages/ApplyFunc';\nimport { Form, Button, Collapse, Divider,List,Typography } from 'antd';\nimport { WindowStationActionNames } from '../actions/WindowStationReducer';\nconst { Panel } = Collapse;\n\n\nfunction ApplyFunction(props) {\n    const { workshop } = props\n    const { dispacher } = useContext(WindowStationContext)\n    const { ui, form, getTransform, setError } = useFieldTransform({\n        operateField: \"\"\n    })\n    const [loading, setLoading] = useState(false)    \n    const [funcs, setFuncs] = useState([])\n\n    return <>        \n        {\n            ui([\n                <Form.Item>\n                    <Button type=\"primary\" loading={loading} onClick={\n                        () => {\n                            let functions = []  \n                            if(funcs.length === 0){\n                                const { field, isAgg, transformCode, columnName } = getTransform()\n                                functions.push({ field, isAgg, transformCode, columnName })                            \n                                if (!columnName) {\n                                    setError(\"New Field Name is required.\")\n                                    return\n                                }\n                            } else {\n                                functions = funcs\n                            }                                                      \n                            setLoading(true)\n                            dispacher({\n                                type: WindowStationActionNames.apply,\n                                data: {\n                                    setLoading,\n                                    workshop,\n                                    functions\n                                }\n                            })\n                        }\n                    }>\n                        Apply\n                </Button><Divider type=\"vertical\"/> \n                <Button loading={loading} onClick={\n                        () => {\n                            const { field, isAgg, transformCode, columnName } = getTransform()\n                            if (!columnName) {\n                                setError(\"New Field Name is required.\")\n                                return\n                            }\n                            setFuncs(funcs.concat([{ field, isAgg, transformCode, columnName }]))\n                            form.resetFields()\n                        }\n                    }>\n                        Add\n                </Button><Divider type=\"vertical\"/>\n            <Button  onClick={\n                ()=>{   \n                                                         \n                    dispacher({\n                        type: \"setState\",\n                        data: {current:2}\n                    })                    \n                }\n            }>\n                Previous\n            </Button>\n                </Form.Item>\n            ])\n        }\n        {\n            funcs.length >0 &&  <List style={{width:\"500px\"}}\n            header={<div>Added Functions</div>}            \n            bordered\n            dataSource={funcs.map(item=>`${item.transformCode} as ${item.columnName}`)}\n            renderItem={item => (\n              <List.Item>\n                <Typography.Text mark>Func</Typography.Text> {item}\n              </List.Item>\n            )}\n          />\n        }\n    </>\n}\nexport { ApplyFunction }","import React, { useState, useCallback, useEffect } from 'react';\nimport { useReducerAsync } from 'use-reducer-async'\nimport { WindowStationReducer, WindowStationHandlers } from './actions/WindowStationReducer';\nimport \"../join/JoinStation.scss\"\nimport { Form, Select, Steps } from 'antd';\nimport styled from 'styled-components'\nimport { BuildGroup } from './pages/BuildGroup';\nimport { SetupGroupRowOrder } from './pages/SetupGroupRowOrder';\nimport { BuildWindowOnGroup } from './pages/BuildWindowOnGroup';\nimport { ApplyFunction } from './pages/ApplyFunction';\nconst { Step } = Steps;\n\nconst StepContent = styled.div`\nborder: 1px dashed #e9e9e9;\nborder-radius: 6px;\nbackground-color: #fafafa;\nmin-height: 200px;\npadding: 30px 30px;\nwidth: 100%;\ndisplay:flex;\nalign-items:center;\njustify-content:center;\nflex-direction: column;\n`\n\n\nconst WindowStationContext = React.createContext()\n\nfunction WindowStation(props) {\n    const workshop = props.parent.workshop\n    const initState = {\n        steps: [<BuildGroup workshop={workshop}/>,\n        <SetupGroupRowOrder workshop={workshop}/>,\n        <BuildWindowOnGroup workshop={workshop}/>,\n        <ApplyFunction workshop={workshop}/>\n    ],\n        current: 0,\n        result:{\n            groupFields: [],\n            orderFields: [],\n            rowWindows: []            \n        }\n    }\n    const [state, dispacher] = useReducerAsync(WindowStationReducer, initState, WindowStationHandlers)\n    const { steps, current } = state\n    return (\n        <WindowStationContext.Provider value={{ dispacher }}>\n            <div className=\"join-app\">               \n                <div style={{marginTop:\"30px\"}}>\n                    <Steps current={current}>\n                        <Step key={0} title=\"Build Group\" description=\"Choose fields to group data\" />\n                        <Step key={1} title=\"Setup Group Row Order\" description=\"Choose fields to order the data in group\" />\n                        <Step key={2} title=\"Build Window\" description=\"Build window on every row of every group\" />\n                        <Step key={3} title=\"Apply Function\" description=\"Apply functions to all windows we have created\" />\n                    </Steps>\n                </div>\n                <div className=\"join-app-form\"> \n                    <StepContent>{steps[current]} </StepContent> \n                </div>\n            </div>\n        </WindowStationContext.Provider>\n    )\n}\nexport { WindowStation, WindowStationContext }","import { CommonHandlers,CommonActions} from '../../common/CommonHandlers'\nclass DashStationActionNames {}\nconst DashStationHandlers = {\n    ...CommonHandlers\n}\nconst DashStationActions = {\n    ...CommonActions\n}\n\nfunction DashStationReducer(state, action) {\nreturn DashStationActions[action.type](state, action.data)    \n}\nexport { DashStationActionNames, DashStationReducer, DashStationHandlers }","import React, { useState, useCallback, useEffect } from 'react';\nimport { useReducerAsync } from 'use-reducer-async'\nimport { DashStationReducer, DashStationHandlers } from './actions/DashStationReducer';\nimport './DashStation.scss'\nimport { Form, Input, Select, Divider } from 'antd';\nimport { useDataConfig } from './pages/useDataConfig';\nimport { useDashConfig } from './pages/useDashConfig';\nimport { ActionProxy } from '../../../backend_service/ActionProxy';\nimport RemoteAction from '../../../backend_service/RemoteAction';\nimport Tools from '../../../common/Tools';\nimport { ApplySaveRollback } from '../../apply_save_rollback/ApplySaveRollback';\n\n\nconst initState = {\n    applySaveRollbackDispacher: undefined,\n    scriptContent:undefined,\n    applyToken: Tools.getJobName()\n}\n\nconst DashStationContext = React.createContext()\n\nfunction DashStation(props) {\n    const workshop = props.parent.workshop\n    const [state, dispacher] = useReducerAsync(DashStationReducer, initState, DashStationHandlers)\n    const { ui: dataUi, form: dataForm, vType, setPlugins } = useDataConfig(props)\n    const { ui: dashUi, form: dashForm, setPluginConfigs,setImagePreview } = useDashConfig(props)\n    const proxy = new ActionProxy()\n    const { applySaveRollbackDispacher,scriptContent ,applyToken} = state\n\n\n    const fetchDashPlugins = async () => {\n\n        const res = await proxy.get(RemoteAction.PLUGIN_LIST, {})\n        if (res.status !== 200) {\n            return\n        }\n        const dashPlugins = res.content.map(item => item.name)\n        setPlugins(dashPlugins)\n    }\n\n    const fetchPlugin = async () => {\n        if (vType) {\n            const res = await proxy.get(RemoteAction.PLUGIN_GET, { pluginName: vType })\n            const scriptContent = res.content.content\n            \n            const analyzedScriptContent = await proxy.runScript(scriptContent, Tools.getJobName(), { executeMode: \"analyze\" })\n            if (analyzedScriptContent.status !== 200) {\n                return\n            }\n            const pluginConfigs = analyzedScriptContent.content.filter(sql => {\n                return sql.mode && (sql.mode === \"defaultParam\")\n            })\n            dispacher({\n                type:\"setState\",\n                data:{scriptContent}\n            })\n            \n            setImagePreview(res.content.image)\n            setPluginConfigs(pluginConfigs)\n        }\n    }\n    useEffect(() => {\n        fetchPlugin()\n    }, [vType])\n\n    useEffect(() => {\n        fetchDashPlugins()\n    }, [])\n\n    const apply = async () => {\n        if (applySaveRollbackDispacher) {\n            const dataValues = dataForm.getFieldValue()\n            const dashValues = dashForm.getFieldValue()\n            \n            const tableName = dashValues.tableName || Tools.getTempTableName()\n            const sql = `\n             select ${Tools.getField(dataValues.xColumn)} as x,${Tools.getField(dataValues.yColumn)} as y \n             from ${workshop.getLastApplyTable().tableName} as ${tableName};\n             ${scriptContent}\n            `\n            await workshop.apply({tableName,sql})            \n            \n            applySaveRollbackDispacher({\n                type: \"setState\",\n                data: { loading: false }\n            })\n        }\n    }\n    useEffect(()=>{\n        apply()\n    }, [applyToken])\n\n    return (\n        <DashStationContext.Provider value={{ dispacher }}>\n            <ApplySaveRollback workshop={workshop} context={DashStationContext} />\n            <div className=\"dash-station\">\n                <div className=\"dash-station-data-page\">\n                    {dataUi()}\n                </div>\n                <Divider type=\"vertical\" style={{ height: \"300px\" }} />\n                <div className=\"dash-station-dash-page\">\n                    {dashUi()}\n                </div>\n            </div>\n        </DashStationContext.Provider>\n    )\n}\nexport { DashStation, DashStationContext }","import React, { useState, useCallback, useEffect } from 'react';\nimport { Form, Card, Select, Divider, Button } from 'antd';\n\nfunction useDataConfig(props) {\n    const workshop = props.parent.workshop\n    const fields = workshop.currentTable.schema.fields.map(item => item.name)\n    const [form] = Form.useForm()\n    const [vType, setVtype] = useState()\n    const [plugins, setPlugins] = useState([])\n\n    const columns = fields.map(item => {\n        return <Select.Option value={item}>{item}</Select.Option>\n    })\n\n\n    const onFieldsChange = useCallback((changeFields) => {\n        changeFields.forEach(item => {\n            if (item.name[0] === \"vType\") {\n                setVtype(item.value)\n            }\n        })\n    }, [])\n\n    const ui = () => {\n        return <Card title=\"Generic\">\n            <Form form={form} onFieldsChange={onFieldsChange}>\n                <Form.Item label=\"Visulizaiton Plugin\" name=\"vType\">\n                    <Select >\n                        {\n                            plugins.map(item => {\n                                return <Select.Option value={item}>{item}</Select.Option>\n                            })\n                        }\n                    </Select>\n                </Form.Item>\n\n                <Form.Item label=\"X Column\" name=\"xColumn\">\n                    <Select >\n                        {columns}\n                    </Select>\n                </Form.Item>\n\n                <Form.Item label=\"Y Column\" name=\"yColumn\">\n                    <Select >\n                        {columns}\n                    </Select>\n                </Form.Item>\n            </Form>\n        </Card>\n    }\n    return { ui, form, vType, setPlugins }\n}\nexport { useDataConfig }","import React, { useState, useCallback, useEffect } from 'react';\nimport { Form, Input,  Divider, Card } from 'antd';\nimport RetinaImage from 'react-retina-image'\nimport Tools from '../../../../common/Tools';\nimport '../../../image.scss'\n\n\nfunction useDashConfig(props) {\n    const [form] = Form.useForm()\n    const [pluginConfigs, setPluginConfigs] = useState([])\n    const [imagePreview, setImagePreview] = useState()\n    \n    const ui = () => {\n        return <Card title=\"Plugin Parameters\">\n            {imagePreview && <div className=\"image-wrapper\" style={{width:\"400px\"}}>\n                 <RetinaImage  src={imagePreview}/>\n            </div>}\n            <Form form={form}>\n                {pluginConfigs.map(item => {\n                    return <Form.Item key={item.key} name={item.key} label={item.option.label || item.key} initialValue={Tools.unQuote(item.command)}>\n                        <Input />\n                    </Form.Item>\n                })}\n            </Form>                        \n        </Card>\n    }\n    return { ui, form, setPluginConfigs, pluginConfigs,setImagePreview }\n}\nexport { useDashConfig }","import * as React from \"react\";\nimport mix from \"../../common/mixin\"\nimport \"./OperateStation.scss\"\nimport { Tabs, Radio } from 'antd';\nimport JoinStation from \"./join/JoinStation\";\nimport AggStation from \"./agg/AggStation\";\nimport ProjectStation from \"./project/ProjectStation\";\nimport FilterStation from \"./filter/FilterStation\";\nimport { OrderStation } from \"./order/OrderStation\";\nimport {LimitStation} from \"./limit/LimitStation\"\nimport { WindowStation } from \"./window/WindowStation\";\nimport { DashStation } from \"./dash/DashStation\";\nimport {FormattedMessage} from 'react-intl'\nconst { TabPane } = Tabs;\n\nexport default class OperateStation extends React.Component {\n    constructor(props) {\n        super(props)\n        this.workshop = props.parent\n        this.state = { key: Math.random() }\n    } \n\n    reload = ()=>{\n        this.setState({key:Math.random()})\n    }\n       \n    render() {\n        return <div className=\"os-pane\">\n            <div className=\"os-tabs\">\n                <Tabs defaultActiveKey=\"1\" tabPosition=\"left\" key={this.state.key}>                \n                <TabPane tab={<FormattedMessage id=\"project\"/>}  key={1} >\n                    <ProjectStation parent={this}></ProjectStation>\n                </TabPane>\n                <TabPane tab={<FormattedMessage id=\"filter\"/>}  key={2} >\n                    <FilterStation parent={this}></FilterStation>\n                </TabPane>\n                <TabPane tab={<FormattedMessage id=\"join\"/>}  key={3}>\n                    <JoinStation  parent={this}></JoinStation>\n                </TabPane>\n                <TabPane tab={<FormattedMessage id=\"agg\"/>} key={4} >\n                    <AggStation parent={this}></AggStation>\n                </TabPane>\n                <TabPane tab={<FormattedMessage id=\"order\"/>} key={5} >\n                    <OrderStation parent={this}></OrderStation>\n                </TabPane>\n                <TabPane tab={<FormattedMessage id=\"limit\"/>} key={6} >\n                    <LimitStation parent={this}></LimitStation>\n                </TabPane>\n                <TabPane tab={<FormattedMessage id=\"window\"/>} key={7} >\n                    <WindowStation parent={this}></WindowStation>\n                </TabPane>\n                <TabPane tab={<FormattedMessage id=\"dash\"/>} key={8} >\n                    <DashStation parent={this}></DashStation>\n                </TabPane>\n                </Tabs>\n                </div>\n            \n        </div>\n    }\n}","import * as React from \"react\";\nimport { Table, Modal } from 'antd';\nimport mix from \"../../common/mixin\";\nimport { SearchOp } from \"./real_time_view_table/SearchOp\";\nimport { DropdownMenuUI } from \"./real_time_view_table/DropdownMenuUI\";\nimport MLSQLHTML from \"../../components/dash/MLSQLHTML\";\n\n\nconst ReactMarkdown = require('react-markdown')\n\nexport default class RealTimeViewTable extends mix(React.Component).with(\n    SearchOp,\n    DropdownMenuUI\n) {\n    constructor(props) {\n        super(props)\n        this.tableStyle = props.style || {}\n        this.state = {\n            columns: [],\n            rows: [],\n            view: { enabled: false },\n            searchText: '',\n            searchedColumn: '',\n            loading: false,\n            isDash: false\n        }\n        this.config = {}\n        this.workshop = props.parent\n    }\n\n    getDefaultRender = item => {\n        const { name, type } = item\n        switch (type) {\n            case \"string\": return (value, record) => {\n                return value\n            }\n            case \"array\": return (value, record) => {\n                return JSON.stringify(value)\n            }\n            case \"map\": return (value, record) => {\n                return JSON.stringify(value)\n            }\n            default:\n                return (value, record) => { return value }\n\n        }\n    }\n\n    getDefaultSearch = item => {\n        const { name, type } = item\n        switch (type) {\n            case \"string\": return this.getColumnSearchProps(name)\n            case \"array\": return {}\n            case \"map\": return {}\n            default:\n                return {}\n        }\n    }\n\n    getDefaultTitleRender = item => {\n        return this.dropdown(item)\n    }\n\n    update = (rows, columns) => {\n        let isDash = false\n        if (columns[0] && columns[0].name === \"html\" && columns[1] && columns[1].name === \"dash\") {\n            isDash = true\n        } \n        const newColumns = columns.map(item => {\n            return {\n                ...item,\n                dataIndex: item.name,\n                title: this.getDefaultTitleRender(item),\n                render: this.getDefaultRender(item),\n                ...this.getDefaultSearch(item)\n            }\n        })\n\n        this.setState({ columns: newColumns, data: rows ,isDash})\n    }\n\n    disablePreview = () => {\n        this.setState({\n            view: {\n                enabled: false\n            }\n        })\n    }\n\n    render() {\n        const self = this\n        if (this.state.isDash) {\n            return MLSQLHTML.render(this.state.data)\n        }\n        return (<div style={this.tableStyle}>\n            <Table\n                loading={this.state.loading}\n                size='default'\n                columns={this.state.columns}\n                dataSource={this.state.data}\n                scroll={{ x: true }}\n            />\n            <Modal\n                title={\"View\"}\n                visible={this.state.view.enabled}\n                onCancel={this.disablePreview}\n                onOk={this.disablePreview}\n                cancelText=\"Cancel\"\n                OkText=\"Ok\"\n            >\n                <ReactMarkdown source={this.state.view.content || \"\"} />\n            </Modal>\n        </div>\n        )\n    }\n\n}","import * as React from \"react\";\nimport { Table, Input, Button, Space } from 'antd';\nimport Highlighter from 'react-highlight-words';\nimport { SearchOutlined } from '@ant-design/icons';\nimport Tools from \"../../../common/Tools\";\nexport const SearchOp = (superclass) => class extends superclass {\n    getColumnSearchProps = dataIndex => ({\n        filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\n            <div style={{ padding: 8 }}>\n                <Input\n                    ref={node => {\n                        this.searchInput = node;\n                    }}\n                    placeholder={`Search ${dataIndex}`}\n                    value={selectedKeys[0]}\n                    onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\n                    onPressEnter={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\n                    style={{ width: 188, marginBottom: 8, display: 'block' }}\n                />\n                <Space>\n                    <Button\n                        type=\"primary\"\n                        onClick={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\n                        icon={<SearchOutlined />}\n                        size=\"small\"\n                        style={{ width: 90 }}\n                    >\n                        Search\n              </Button>\n                    <Button onClick={() => this.handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\n                        Reset\n              </Button>\n                </Space>\n            </div>\n        ),\n        filterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\n        onFilter: (value, record) => true,\n        onFilterDropdownVisibleChange: visible => {\n            if (visible) {\n                setTimeout(() => this.searchInput.select());\n            }\n        },\n        render: text =>\n            this.state.searchedColumn === dataIndex ? (\n                <Highlighter\n                    highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\n                    searchWords={[this.state.searchText]}\n                    autoEscape\n                    textToHighlight={text ? text.toString() : ''}\n                />\n            ) : (\n                    text\n                ),\n    });\n\n    handleSearch = async (selectedKeys, confirm, dataIndex) => {\n        const tableName = Tools.getTempTableName()\n        const searchText = selectedKeys[0]\n        const searchedColumn = Tools.getField(dataIndex)\n        const params = {\n            tableName,\n            sql: `select * from ${this.workshop.getLastApplyTable().tableName} \n            where ${searchedColumn} like '%${searchText}%' as ${tableName};`\n        }\n        confirm();\n        this.setState({\n            loading: true\n        })        \n        await this.workshop.apply(params)    \n        this.setState({\n            loading: false,\n            searchText: selectedKeys[0],\n            searchedColumn: dataIndex,\n        });\n    };\n\n    handleReset = clearFilters => {\n        clearFilters();\n        this.setState({ searchText: '' });\n    };\n}","import * as React from 'react';\nimport {Menu,Dropdown, Divider} from 'antd';\nimport {DownOutlined,BarChartOutlined} from '@ant-design/icons'\nimport Tools from '../../../common/Tools';\n\nexport const DropdownMenuUI = (superclass) => class extends superclass {\n    dropdownStat = async (type,columnName)=>{\n        this.setState({\n            loading: true\n        })\n        const tableName = Tools.getTempTableName()\n        switch(type){\n            case \"count\":                                 \n                await this.workshop.apply({\n                    tableName: tableName,\n                    sql: `select count(${Tools.getField(columnName)}) \n                    from ${this.workshop.getLastApplyTable().tableName}\n                    as ${tableName}\n                    ;`\n                })\n                this.setState({\n                    loading: false\n                }) \n                return\n                \n            case \"count(distinct)\":\n                await this.workshop.apply({\n                    tableName: tableName,\n                    sql: `select count(distinct ${Tools.getField(columnName)}) \n                    from ${this.workshop.getLastApplyTable().tableName}\n                    as ${tableName}\n                    ;`\n                })\n                this.setState({\n                    loading: false\n                }) \n                return\n\n        } \n        this.setState({\n            loading: false\n        })        \n\n     }\n     dropdown = (item)=>{\n        const menu = (\n            <Menu onClick={(evt)=>{\n                this.dropdownStat(evt.key,item.name)\n            }}>\n              <Menu.Item key=\"count\" icon={<BarChartOutlined />}>\n                Count\n              </Menu.Item>\n              <Menu.Item key=\"count(distinct)\" icon={<BarChartOutlined />}>\n                Count&distinct\n              </Menu.Item>              \n            </Menu>\n          );\n          return <Dropdown overlay={menu}>\n          <span>{item.name}<Divider type=\"vertical\"/><DownOutlined/></span>\n        </Dropdown>\n     }\n}","import * as React from \"react\";\nimport { Modal, Result, Tabs, Divider } from \"antd\"\nimport './workshop.scss'\nimport LeftView from \"./leftview\";\nimport SpinBox from \"../SpinBox\"\nimport { WorkshopOp } from \"./WorkshopOp\";\nimport { WorkshopAutoSql } from \"./WorkshopAutoSql\";\nimport mix from \"../../common/mixin\"\nimport { ActionProxy } from \"../../backend_service/ActionProxy\";\nimport OperateStation from \"./OperateStation\";\nimport AceEditor from 'react-ace';\nimport { WorkshopMessageOp } from \"./WorkshopMessageOp\";\nimport { WorkshopUIOp } from \"./WorkshopUIOp\";\nimport { Resizable } from \"re-resizable\";\nimport RealTimeViewTable from \"./RealTimeViewTable\";\n\n\nclass AnalysisWorkshop extends mix(React.Component).\n    with(WorkshopOp,\n        WorkshopAutoSql,\n        WorkshopMessageOp,\n        WorkshopUIOp) {\n    static workshop = undefined\n    constructor(props) {\n        super(props)\n        this.client = new ActionProxy()\n        this.state = { tableLoading: false }\n        // {tableName:...  sql:...}\n        this.sqls = []\n        AnalysisWorkshop.workshop = this\n    }\n\n    componentDidMount() {\n        // for testing should remove\n        // this.newSession(\"delta\", \"public\", \"simpleData\", { header: \"true\" })\n    }\n\n    operateStationView() {\n        if (this.state.loadingTable) {\n            return <SpinBox></SpinBox>\n        }\n        if (this.sessionId) {\n            return <OperateStation ref={(et) => this.stationRef = et} parent={this}></OperateStation>\n        } else {\n            return <Result style={{ width: \"100%\" }}\n                title=\"No Aanalysis Session Is Opened\"\n                subTitle=\"Right click the table in the left panel(DeltaLake/FileSystem) to begin your analysis\"\n            />\n        }\n    }\n\n    render() {\n        return <div className=\"ws-app\">\n            <div className=\"ws-left-pane\">\n                <Resizable style={{ paddingRight: \"30px\", borderRight: \"solid\" }}>\n                    <LeftView ref={(et) => this.leftTreePaneRef = et} parent={this}></LeftView>\n                </Resizable>\n            </div>\n            <div className=\"ws-right-pane\">\n                <Modal\n                    title={\"Message\"}\n                    visible={this.state.showMessage || false}\n                    onCancel={this.toggleMessage}\n                    onOk={this.toggleMessage}\n                    cancelText=\"Cancel\"\n                    width=\"60%\"\n                    OkText=\"Ok\"\n\n                >\n                    <AceEditor\n                        height={\"300px\"}\n                        width={\"100%\"}\n                        mode=\"text\"\n                        theme=\"github\"\n                        name=\"detail_box\"\n                        value={this.state.consoleMessage || \"\"}\n                    ></AceEditor>\n                </Modal>\n                <Modal\n                    title={\"Message\"}\n                    visible={this.state.showInfoMessage || false}\n                    onCancel={() => { this.setState({ showInfoMessage: false }) }}\n                    onOk={() => { this.setState({ showInfoMessage: false }) }}\n                    cancelText=\"Cancel\"\n                    OkText=\"Ok\"\n                >\n                    {this.state.infoMessage}\n                </Modal>\n                <div className=\"ws-operate-pane\">\n                    {this.operateStationView()}\n                </div>\n                <Divider></Divider>\n                <div className=\"ws-table-pane\">\n                    <RealTimeViewTable style={{ width: \"90%\" }} ref={(et) => this.displayRef = et} parent={this} />\n                </div>\n            </div>\n        </div>\n    }\n}\nexport default AnalysisWorkshop","import Tools from \"../../common/Tools\"\nimport RemoteAction from \"../../backend_service/RemoteAction\"\n\nexport const WorkshopAutoSql = (superclass) => class extends superclass {\n   getLastApplyTable = () => {\n      return this.sqls[this.sqls.length - 1]\n   }\n\n   rollback = async (params)=>{\n      if(this.sqls.length<2){\n         this.toggleMessage(\"No apply to rollback.\")\n         return\n      }\n      const removeTable = this.sqls.pop()\n      const currentTable = this.sqls.pop()\n      const res = await this.client.get(RemoteAction.APPLY_GET,{name:currentTable.tableName})      \n      if(res.status === 200){\n         const {data,schema} = JSON.parse(res.content.response)\n         await this.apply({...currentTable,_data:data,_schema:schema})\n      }\n      else {\n         await this.apply(currentTable)\n      }\n      \n   }\n\n   /**\n   * generate sql\n   */\n   apply = async (params) => {\n      const { tableName, sql,_data,_schema} = params\n      this.sqls.push(params)\n\n      if(_data && _schema){         \n         this.setCurrentTable(\"\", \"\", tableName, _schema, _data)\n         return 200\n      }\n\n      const view = this.sqls.map(item => item.sql).join(\"\")\n      try{\n         const res = await this.client.runScript(view, Tools.getJobName(), {...Tools.robotFetchParam(),\n            queryType: \"analysis_workshop_apply_action\",\n            analysis_workshop_table_name: tableName,\n            analysis_workshop_sql: JSON.stringify(this.sqls)\n         })\n         if (res.status !== 200) {\n            this.sqls.pop()\n            this.toggleMessage(res.content)\n            return 500\n         }\n         const { data, schema } = res.content\n         this.setCurrentTable(\"\", \"\", tableName, schema, data)\n         return 200\n      }catch(e) {\n         this.toggleMessage(\"Execute job fail;(Job is killed)\")\n         return 500\n      }      \n   }\n\n   save = async (tableName, persist) => {\n      if (this.sqls.length === 0) {\n         this.toggleMessage(\"Sorry, current session have no applies.\")\n         return 500\n      }\n      const sql = `select * from ${this.getLastApplyTable().tableName} as ${tableName};`\n      this.sqls.push({ tableName, sql })\n      const finalSql = this.sqls.map(item => item.sql).join(\"\\n\")\n\n      const persistJobName = Tools.getJobName()\n      let extraParams = { status: 5 }// 5 view\n      if (persist) {\n         const persistSQL = `${finalSql}\n         save overwrite ${tableName} as parquet.\\`/__persisted__/${tableName}\\`;`\n         \n         await this.client.runScript(persistSQL, persistJobName, {\n            persistJobName,\n            async: true\n         })\n         extraParams = { jobName: persistJobName, status: 1 }// 1 running\n      }\n\n      const res = await this.client.post(RemoteAction.ANALYSIS_SAVE, Object.assign({\n         tableName,\n         sql: finalSql,\n         sessionId: this.sessionId,\n         schema: JSON.stringify(this.currentTable.schema),\n      }, extraParams))\n\n      return res.status\n   }\n}","import EditorOp from \"../comp_op/EditorOp\"\nexport const WorkshopMessageOp = (superclass) => class extends superclass {\n    toggleMessage  = (msg)=>{\n        const showMessage = this.state.showMessage\n        if(showMessage){\n            this.setState({showMessage:!this.state.showMessage})        \n        }else {\n            this.setState({showMessage:!this.state.showMessage,consoleMessage:msg})        \n        }\n        \n    }\n\n    showInfo = (msg)=> {\n        this.setState({showInfoMessage:true,infoMessage:msg})\n    }\n}","import Tools from \"../../common/Tools\"\nexport const WorkshopUIOp = (superclass) => class extends superclass {\n    updateDisplay = async (data,schema) =>{\n        this.setState({tableLoading:true})\n        this.displayRef.update(data,schema.fields)\n        this.setState({tableLoading:false}) \n    }    \n\n    refreshOperateStation = ()=>{        \n        this.stationRef.setState({ key: Math.random() })\n    }\n\n    refreshTableWorkshop = ()=>{\n        this.leftTreePaneRef.workshopTableTreeRef.reload()\n    }\n    \n}","import ActionMaker from \"../../../ActionMaker\"\nimport { ActionProxy } from \"../../../../backend_service/ActionProxy\"\nimport RemoteAction from \"../../../../backend_service/RemoteAction\"\n\nexport const { handler: LRActionHandler, action: LRAction } = ActionMaker.buildHandler(async (action) => {\n\n    const { enableRegister = false, enableLogin = false } = action.data\n    const client = new ActionProxy()\n    const res = await client.post(RemoteAction.APP_SAVE, {\n        login: enableLogin,\n        register: enableRegister\n    })\n\n    if (res.status === 200) {\n        return {\n            data: {\n                applySuccess: true\n            }\n        }\n    }\n    return {\n        data: {\n            error: res.content\n        }\n    }\n\n})","import { AdminSetting } from \"../AdminSetting\";\nimport { LRActionHandler, LRAction } from \"./LRAction\";\nimport { SetStateActionHandler, SetStateAction } from \"./SetStateAction\";\n\nclass AdminSettingActionNames {\n    static LR_CONTROL = \"lrControl\"\n    static SET_STATE = \"setState\"\n}\nconst AdminSettingHandlers = {\n    [AdminSettingActionNames.LR_CONTROL]: LRActionHandler,\n    [AdminSettingActionNames.SET_STATE]: SetStateActionHandler\n}\n\nfunction AdminSettingReducer(state, action) {\n    switch (action.type) {\n        case AdminSettingActionNames.LR_CONTROL:            \n            return LRAction(state, action.data)\n        case AdminSettingActionNames.SET_STATE:\n            return SetStateAction(state, action.data)\n        default:\n            return state;\n    }\n}\nexport { AdminSettingActionNames, AdminSettingReducer, AdminSettingHandlers }","import React, { useState, useCallback, useEffect } from 'react';\nimport { Steps, Spin, Switch, Alert, Form, Card, Button } from 'antd';\nimport { useReducerAsync } from 'use-reducer-async'\nimport UIMaker from '../../../UIMaker'\nimport { AdminSettingReducer, AdminSettingHandlers, AdminSettingActionNames } from '../actions/AdminSettingReducer';\nimport ActionMaker from '../../../ActionMaker';\nimport {ActionProxy} from '../../../../backend_service/ActionProxy'\nimport RemoteAction from '../../../../backend_service/RemoteAction';\nimport SpinBox from '../../../SpinBox';\n\nconst initState = {\n    enableLogin: false,\n    enableRegister: false,\n    applySuccess: false,\n    error: undefined,\n    loading: true\n}\n\nconst LRSettingsContext = React.createContext()\n\nfunction LRSettings() {\n    const [state, dispacher] = useReducerAsync(AdminSettingReducer, initState, AdminSettingHandlers)\n    const { formItemLayout, tailLayout } = UIMaker.formLayout1()\n\n    const { enableLogin, enableRegister,applySuccess,error,loading} = state\n\n    async function getAppInfo() {        \n        const client = new ActionProxy()\n        const appInfo = await client.get(RemoteAction.APP_INFO, {})\n        if (appInfo.status === 200) {             \n            dispacher({\n                type: AdminSettingActionNames.SET_STATE,\n                data: {\n                    enableLogin: Boolean(appInfo.content.login),\n                    enableLogin: Boolean(appInfo.content.register),\n                    loading: false\n                }\n            })\n        }    \n    }\n\n    useEffect(()=>{\n        getAppInfo()\n    },[applySuccess,error])\n\n\n    return (\n        <LRSettingsContext.Provider value={{ dispacher }}>            \n            {applySuccess && <Alert\n                closable\n                message=\"Success\"\n                description=\"Apply Success\"\n                type=\"success\"\n                showIcon\n            />}\n            {error && <Alert\n                closable\n                message=\"Fail\"\n                description={error}\n                type=\"error\"\n                showIcon\n            />}\n            {                \n                loading && <SpinBox></SpinBox>\n            }\n            {!loading && <Card title=\"Control Website Register/Login\">\n                <Form {...formItemLayout} className=\"login-form\" onFinish={(values) => {\n                    dispacher(ActionMaker.buildEvent(AdminSettingActionNames.LR_CONTROL, values))\n                }}>\n                    <Form.Item\n                        label=\"Allow Register New User\"\n                        name=\"enableRegister\"\n                    >\n                        <Switch defaultChecked={enableRegister} checkedChildren=\"enable\" unCheckedChildren=\"shutdown\" />\n                    </Form.Item>\n\n                    <Form.Item\n                        label=\"Allow User Login\"\n                        name=\"enableLogin\"\n                    >\n                        <Switch defaultChecked={enableLogin} checkedChildren=\"enable\" unCheckedChildren=\"shutdown\" />\n                    </Form.Item>\n\n                    <Form.Item {...tailLayout}>\n                        <Button type=\"primary\" htmlType=\"submit\">\n                            Apply\n        </Button>\n                    </Form.Item>\n                </Form>\n            </Card>}            \n        </LRSettingsContext.Provider>\n    )\n}\nexport { LRSettings, LRSettingsContext }","import React, { useState, useCallback, useEffect } from 'react';\nimport { useDynamicList } from 'ahooks'\nimport { Form, Button, Input, Table } from 'antd';\nimport ReactDragListView from 'react-drag-listview';\nimport AlertBox from '../../AlertBox';\n\nfunction useCrudTable(props) {\n    const { renderConfig, createInitRow, submit: externalSubmit } = props\n    const [form] = Form.useForm()\n    const [schema, setSchema] = useState([])\n    const [data, setData] = useState([])\n    const [result, setResult] = useState({})\n    const [loading, setLoading] = useState(false)\n    const [editorMode, setEditorMode] = useState(false)\n    const [error,setError] = useState(undefined)\n\n    const { list, remove, getKey, move, push, sortForm, resetList } = useDynamicList(data);\n    const { getFieldsValue } = form;\n\n    useEffect(() => {\n        resetList(data)\n    }, [data])\n\n    const _columns = schema.filter(item => item !== \"id\").map(item => {\n        if (renderConfig && renderConfig[item]) return renderConfig[item]({ getKey })\n        return {\n            title: item,\n            dataIndex: item,\n            key: item,\n            render: (text, row, index) => (\n                <>\n                    <Form.Item name={`params[${getKey(index)}].${item}`} initialValue={text}>\n                        <Input\n                            style={{\n                                width: 120,\n                                marginRight: 16,\n                            }}\n                        />\n                    </Form.Item>\n                </>)\n\n        }\n    })\n    const columns = _columns.concat([{\n        key: 'operate',\n        title: '',\n        dataIndex: 'operate',\n        render: (text, row, index) => (\n\n            <>\n                <Form.Item name={`params[${getKey(index)}].operate`}>\n                    <Button.Group>\n                        <Button type=\"danger\" onClick={() => remove(index)}>\n                            Delete\n                    </Button>\n                    </Button.Group>\n                </Form.Item>\n\n            </>\n        ),\n    }])\n\n    const createRow = () => {\n        if (createInitRow) {\n            return createInitRow(columns)\n        }\n        const tempRow = {}\n        columns.map(item => {\n            tempRow[item] = \"\"\n        })\n        return tempRow\n    }\n\n    const submitNow = useCallback((values) => {\n        setResult(values)\n        var REG = /params\\[(\\d+)\\]\\.(\\D+)/;\n        const submit = async () => {\n            const params = []\n            Object.entries(values).map(([fieldName, fieldValue]) => {\n                const matchFF = REG.exec(fieldName)\n                const index = Number(matchFF[1])\n                const field = matchFF[2]\n                if (!params[index]) {\n                    params[index] = {}\n                }\n                if (fieldValue) {\n                    params[index][field] = fieldValue\n                }\n            })\n            if (externalSubmit) {\n                externalSubmit({ params, setLoading })\n            }\n        }\n        submit()\n    }, [setLoading])\n\n    const ui = () => {  \n        if(!editorMode){\n            const newColumns = columns.map(item=>{\n                item[\"render\"] = (text, row, index)=>{\n                    return <span>{text}</span>\n                }\n                return item\n            })\n            return <Table\n            columns={newColumns}\n            dataSource={data}            \n            pagination={false}\n        />\n        }      \n        return <>\n            <Form form={form}>\n                <ReactDragListView\n                    onDragEnd={(oldIndex, newIndex) => move(oldIndex, newIndex)}\n                    handleSelector={'i[aria-label=\"icon: drag\"]'}\n                >\n                    {error && <AlertBox message={error}/>}\n                    <Table\n                        columns={columns}\n                        dataSource={list}\n                        rowKey={(r, index) => getKey(index).toString()}\n                        pagination={false}\n                    />\n                </ReactDragListView>\n                <Button\n                    style={{\n                        marginTop: 8,\n                    }}\n                    block\n                    type=\"dashed\"\n                    onClick={() =>\n                        push(createRow())\n                    }\n                >\n                    + Add Row\n          </Button>\n                <Button\n                    type=\"primary\"\n                    style={{\n                        marginTop: 16,\n                    }}\n                    loading={loading}\n                    onClick={() => {\n                        submitNow(getFieldsValue())\n                    }}\n                >\n                    Submit\n          </Button>\n                {props.debug && <div\n                    style={{\n                        whiteSpace: 'pre',\n                    }}\n                >\n                    {result && `content: ${JSON.stringify(result, null, 2)}`}\n                </div>}\n            </Form>\n        </>\n    }\n    return { ui, data, schema, setData, setSchema, setLoading,setEditorMode ,setError}\n}\n\nexport { useCrudTable }","import React, { useState, useCallback, useEffect } from 'react';\nimport { useCrudTable } from '../../../analysis/common/CrudTable';\nimport { Select, Form, Button, Switch, Divider } from 'antd';\nimport { ActionProxy } from '../../../../backend_service/ActionProxy';\nimport RemoteAction from '../../../../backend_service/RemoteAction';\nimport Tools from '../../../../common/Tools';\n\n\nfunction Engines(props) {\n\n    const [reload, setReload] = useState(undefined)\n    const proxy = new ActionProxy()\n    const { ui, setData, setSchema, setEditorMode ,setError} = useCrudTable({\n        submit: async ({ params, setLoading }) => {\n            setLoading(true)\n            setError(undefined)\n            for (let i = 0; i < params.length; i++) {\n                const res = await proxy.post(RemoteAction.ENGINE_ADD, params[i])\n                if(res.status !== 200){\n                    setLoading(false)\n                    setError(res.content)\n                    return\n                }\n            }\n            setReload(Tools.getJobName())\n            setLoading(false)\n        },\n        renderConfig: {\n            skipAuth: ({ getKey }) => {\n                return {\n                    title: \"skipAuth\",\n                    dataIndex: \"skipAuth\",\n                    key: \"skipAuth\",\n                    render: (text, row, index) => {\n                        let value = true\n                        if (text === 2) {\n                            value = false\n                        }\n                        return <>\n                            <Form.Item name={`params[${getKey(index)}].skipAuth`} initialValue={String(value)}>\n                                <Select>\n                                    <Select.Option value=\"true\">true</Select.Option>\n                                    <Select.Option value=\"false\">false</Select.Option>\n                                </Select>\n                            </Form.Item>\n                        </>\n                    }\n\n                }\n            }\n        }\n    })\n\n    useEffect(() => {\n        const fetch = async () => {\n            const res = await proxy.get(RemoteAction.ENGINE_LIST, {})\n            if (res.status === 200) {\n                setSchema(res.content.schema)\n                setData(res.content.data)\n            }\n        }\n        fetch()\n    }, [reload])\n\n    return <div className=\"common-margin\">\n        <Switch checkedChildren=\"Edit Mode\" unCheckedChildren=\"View Mode\" onChange={\n            (checked) => {\n                setEditorMode(checked)\n            }\n        } />\n        <Divider type=\"horizontal\" />\n        {ui()}\n    </div>\n}\n\nexport { Engines }\n","import React, { useState, useCallback, useEffect } from 'react';\nimport { useReducerAsync } from 'use-reducer-async'\nimport { AdminSettingReducer, AdminSettingHandlers } from './actions/AdminSettingReducer';\nimport { Menu } from 'antd';\nimport './AdminSetting.scss'\nimport { AppstoreOutlined, MailOutlined, SettingOutlined } from '@ant-design/icons';\nimport { LRSettings } from './pages/LRSettings';\nimport {Engines} from './pages/Engines'\n\nconst { SubMenu } = Menu;\n\n\nconst initState = {\n    currentPage: \"lr-settings\"\n}\n\nconst AdminSettingContext = React.createContext()\n\nfunction AdminSetting() {\n    const [state, dispacher] = useReducerAsync(AdminSettingReducer, initState, AdminSettingHandlers)\n    const {currentPage} = state\n    return (\n        <AdminSettingContext.Provider value={{ dispacher }}>\n            <div className=\"app-admin\">\n                <div className=\"app-admin-side\">\n                    <Menu\n                        style={{ width: 256 }}\n                        defaultSelectedKeys={['lr-settings']}\n                        defaultOpenKeys={['console-settings']}\n                        mode=\"inline\"\n                    >\n                        <SubMenu\n                            key=\"console-settings\"\n                            title={\n                                <span>\n                                    <MailOutlined />\n                                    <span>Console Settings</span>\n                                </span>\n                            }\n                        >\n                            <Menu.Item key=\"lr-settings\" onClick={()=>{\n                                dispacher({\n                                    type:\"setState\",\n                                    data:{currentPage:\"lr-settings\"}\n                                })\n                            }}>Login/Register Control</Menu.Item>                            \n                        </SubMenu> \n                        <SubMenu\n                            key=\"engine-settings\"\n                            title={\n                                <span>\n                                    <MailOutlined />\n                                    <span>Engine Settings</span>\n                                </span>\n                            }\n                        >\n                            <Menu.Item onClick={()=>{\n                                dispacher({\n                                    type:\"setState\",\n                                    data:{currentPage:\"engines\"}\n                                })\n                            }} key=\"engines\">Engines</Menu.Item>                                                         \n                        </SubMenu>                                               \n                    </Menu>\n                </div>\n                <div className=\"app-admin-main\">\n                     {currentPage===\"lr-settings\" && <LRSettings></LRSettings>}\n                     {currentPage===\"engines\" && <Engines></Engines>}                     \n\n                </div>\n            </div>\n        </AdminSettingContext.Provider>\n    )\n}\nexport { AdminSetting, AdminSettingContext }","import React, { useState, useCallback, useEffect } from 'react';\nimport { Form, Card, Button } from 'antd';\nimport AlertBox from '../../../AlertBox';\nimport { FormattedMessage } from 'react-intl';\n\n\nfunction useUserConfig(props) {\n    const [error, setError] = useState(undefined)\n    const [success, setSuccess] = useState(undefined)\n    const [current, setCurrent] = useState(undefined)\n    const [loading, setLoading] = useState(false)\n    const [form] = Form.useForm()\n    const getParams = () => {\n        return form.getFieldsValue()\n    }\n    const ui = ({ formItems, title, submit }) => (\n        <div className=\"common-margin common-child-center\">\n            <Card title={title} style={{ width: \"50%\" }}>\n                <Form form={form}>\n                    {error && <AlertBox message={<FormattedMessage id={error} />} />}\n                    {success && <AlertBox title={<FormattedMessage id=\"congratulation\"/>} type=\"success\" message={<FormattedMessage id={success} />} />}\n                    {formItems}\n                </Form>\n                <Form.Item>\n                    <Button type=\"primary\" loading={loading} onClick={\n                        submit\n                    }><FormattedMessage id=\"apply\" /></Button>\n                </Form.Item>\n            </Card>\n        </div>\n    )\n    return { ui, form, setError, setLoading, getParams,setCurrent,current,setSuccess}\n}\nexport { useUserConfig }","import React, { useState, useCallback, useEffect } from 'react';\nimport { EngineSelectComp } from '../../pages/EngineSelectComp';\nimport { Form, Card, Button } from 'antd';\nimport { ActionProxy } from '../../../../backend_service/ActionProxy';\nimport RemoteAction from '../../../../backend_service/RemoteAction';\nimport UIMaker from '../../../UIMaker';\nimport { useUserConfig } from '../../../analysis/common/pages/useUserConfig';\nimport { FormattedMessage  } from 'react-intl'; \nimport Tools from '../../../../common/Tools';\n\n\nfunction DefaultBackend(props) {\n\n    const { ui, setError,setSuccess } = useUserConfig()\n    const [engine,setEngine] = useState(undefined)\n    const submit = async () => {\n        if(!engine){\n          setError(\"set_default_backend_error\")\n          return\n        }\n        const proxy = new ActionProxy()\n        const res = await proxy.post(RemoteAction.USER_EXTRA, { backend: engine })\n        if (res.status === 200) {\n            UIMaker.updateUser(res) \n            setSuccess(\"done\")           \n            return\n        }\n        setError(res.content)\n    }\n\n    return ui({\n        title: <FormattedMessage id=\"set_default_backend\"/>,\n        submit,\n        formItems: <>\n            <Form.Item label={<FormattedMessage id=\"curent_value\"/>}>\n                {UIMaker.extraOption()[\"backend\"] || \"Not Set Yet\"}\n            </Form.Item>\n            <Form.Item label={<FormattedMessage id=\"choose\"/>}>\n                <EngineSelectComp useEngine={(engine) => { setEngine(engine) }} />\n            </Form.Item></>\n    })\n}\nexport { DefaultBackend }","import React, { useState, useCallback, useEffect } from 'react';\nimport { EngineSelectComp } from '../../pages/EngineSelectComp';\nimport { Form, Card, Button } from 'antd';\nimport { ActionProxy } from '../../../../backend_service/ActionProxy';\nimport RemoteAction from '../../../../backend_service/RemoteAction';\nimport UIMaker from '../../../UIMaker';\nimport { useUserConfig } from '../../../analysis/common/pages/useUserConfig';\nimport { FormattedMessage  } from 'react-intl'; \nimport Tools from '../../../../common/Tools';\nimport { useIntegerStep } from '../../../analysis/common/pages/useIntegerStep';\n\n\nfunction ApplyTimeout(props) {\n\n    const { ui, setError,setSuccess } = useUserConfig()\n    const {ui:timeoutUi,value:timoutValue} = useIntegerStep({\n        initialValue:UIMaker.extraOption()[\"apply_timeout\"] || 10\n    })    \n    const submit = async () => {\n        if(!timoutValue){\n          setError(\"set_default_backend_error\")\n          return\n        }\n        const proxy = new ActionProxy()\n        const res = await proxy.post(RemoteAction.USER_EXTRA, { apply_timeout: timoutValue })\n        if (res.status === 200) {\n            UIMaker.updateUser(res) \n            setSuccess(\"done\")           \n            return\n        }\n        setError(res.content)\n    }\n\n    return ui({\n        title: <FormattedMessage id=\"set_apply_timeout\"/>,\n        submit,\n        formItems: <>\n            <Form.Item label={<FormattedMessage id=\"curent_value\"/>}>\n                {timoutValue}\n            </Form.Item>\n            <Form.Item label={<FormattedMessage id=\"choose\"/>}>\n                {timeoutUi()}\n            </Form.Item></>\n    })\n}\nexport { ApplyTimeout }","import React, { useState, useCallback, useEffect } from 'react';\nimport { Slider, InputNumber, Row, Col } from 'antd';\n\n\n\nfunction useIntegerStep(props) {\n    const [value,setValue] = useState(props.initialValue || 10)\n    const ui =  ()=>(\n        <Row>\n        <Col span={12}>\n          <Slider\n            min={10}\n            max={300}\n            onChange={(value)=>{setValue(value)}}\n            value={value}\n          />\n        </Col>\n        <Col span={4}>\n          <InputNumber\n            min={10}\n            max={300}\n            style={{ margin: '0 16px' }}\n            value={value}\n            onChange={(value)=>{setValue(value)}}\n          />\n        </Col>\n      </Row> \n    )\n    return {ui,value}\n}\nexport {useIntegerStep}","import React, { useState, useCallback, useEffect } from 'react';\nimport { Menu } from 'antd';\nimport '../AdminSetting.scss'\nimport {MailOutlined, SettingOutlined } from '@ant-design/icons';\nimport { DefaultBackend } from './DefaultBackend';\nimport { FormattedMessage  } from 'react-intl'; \nimport { ApplyTimeout } from './ApplyTimeout';\n\nconst { SubMenu } = Menu;\nfunction Settings() {\n    const [currentPage,setCurrentPage] = useState(\"default-backend\")\n    return (\n        <div className=\"app-admin\">\n                <div className=\"app-admin-side\">\n                    <Menu\n                        style={{ width: 256 }}\n                        defaultSelectedKeys={['default-backend']}\n                        defaultOpenKeys={['analysis-workshop']}\n                        mode=\"inline\"\n                    >\n                        <SubMenu\n                            key=\"analysis-workshop\"\n                            title={\n                                <span>\n                                    <MailOutlined />\n                                    <span><FormattedMessage id=\"analysis_workshop\"/></span>\n                                </span>\n                            }\n                        >\n                            <Menu.Item key=\"default-backend\" onClick={()=>{\n                               setCurrentPage(\"default-backend\") \n                            }}><FormattedMessage id=\"set_engine\"/></Menu.Item> \n                            <Menu.Item key=\"set-timeout\" onClick={()=>{\n                                setCurrentPage(\"set-timeout\")\n                            }}><FormattedMessage id=\"set_timeout\"/></Menu.Item>                            \n                        </SubMenu> \n                                                                       \n                    </Menu>\n                </div>\n                <div className=\"app-admin-main\">\n                     {currentPage===\"default-backend\" && <DefaultBackend/>}                     \n                     {currentPage===\"set-timeout\" && <ApplyTimeout/>}                     \n                </div>\n            </div>\n    )\n}\nexport {Settings}","import React, { useState, useCallback, useEffect } from 'react';\nimport { Alert } from 'antd'\nimport { useReducerAsync } from 'use-reducer-async'\nimport { AppConsoleReducer, AppConsoleHandlers, AppConsoleActionNames } from './actions/AppConsoleReducer';\nimport './AppConsole.scss'\nimport { ConsoleHeader } from './pages/ConsoleHeader';\nimport { Register } from './login_register/Register';\nimport { Login } from './login_register/Login';\nimport ActionMaker from '../ActionMaker';\nimport MLSQLQueryApp from '../../components/MLSQLQueryApp';\nimport AnalysisWorkshop from '../analysis/workshop';\nimport { AdminSetting } from './admin/AdminSetting';\nimport UIMaker from '../UIMaker';\nimport { Settings } from './admin/pages/Settings';\n\nconst initState = {\n    currentPage: \"login\",\n    logined: false\n}\n\nconst AppConsoleContext = React.createContext()\n\nfunction AppConsole() {\n    const [state, dispacher] = useReducerAsync(AppConsoleReducer, initState, AppConsoleHandlers)\n    const { currentPage, logined } = state\n\n    useEffect(() => {\n        dispacher(ActionMaker.buildEvent(AppConsoleActionNames.CHECK_LOGINED, {}))\n    }, [])\n\n    return (\n        <AppConsoleContext.Provider value={{ dispacher }}>            \n            <div className=\"app-console\">\n                <div className=\"app-console-header\">\n                    <ConsoleHeader userLogined={logined} isUserAdmin={UIMaker.isAdmin()} currentPage={currentPage}></ConsoleHeader>\n                </div>\n                <div className=\"app-console-main\">\n                    {currentPage === \"register\" && <Register></Register>}\n                    {currentPage !== \"register\" && !logined && <Login></Login>}\n                    {currentPage === \"console\" && logined && <MLSQLQueryApp></MLSQLQueryApp>}\n                    {currentPage === \"workshop\" && logined && <AnalysisWorkshop></AnalysisWorkshop>}\n                    {currentPage === \"admin\" && logined && UIMaker.isAdmin() && <AdminSetting></AdminSetting>}\n                    {currentPage === \"settings\" && logined && <Settings></Settings>}\n                </div>\n                <div className=\"app-console-footer\">\n                    <div style={{ bottom: \"100px\", textAlign: \"center\", width: \"100%\" }}>\n                        MLSQL Licensed under the Apache License, Version 2.0. @<a className=\"copyright\"\n                            href=\"http://www.miitbeian.gov.cn/\">浙ICP备18052520号</a>\n                        <div>@<a target=\"_blank\"\n                            href=\"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33010802009683\"><img\n                                src=\"\" />浙公网安备 33010802009683号</a></div>\n\n                    </div>\n                </div>\n            </div>\n\n        </AppConsoleContext.Provider>\n    )\n}\nexport { AppConsole, AppConsoleContext }","import { ActionProxy } from \"../../../../backend_service/ActionProxy\"\nimport RemoteAction from \"../../../../backend_service/RemoteAction\"\nimport ActionMaker from \"../../../ActionMaker\"\n\nexport const {handler:AddEngineActionHandler,action:AddEngineAction} = ActionMaker.buildHandler(async (action)=>{\n    const client = new ActionProxy()\n    const { name, url } = action.data    \n    const res = await client.post(RemoteAction.ENGINE_ADD, { name, url })\n    if (res.status !== 200) {\n        return {            \n            data: {\n                error: JSON.parse(res.content).msg\n            }\n        }\n    }        \n    return {        \n        data: {\n            error: undefined,\n            current: action.__state.current + 1  \n        }\n    }    \n})\n","import { AppSetupEventConst } from \"./AppSetupReducer\"\nimport ActionMaker from \"../../../ActionMaker\"\n\nexport const {handler:SkipAddEngineActionHandler,action:SkipAddEngineAction} = ActionMaker.buildHandler(async (action) => {        \n    return {\n        data: {\n            error: undefined,\n            current: action.__state.current + 1            \n        }\n    }\n})","import { RegisterAction, RegisterActionHandler } from \"./RegisterAction\"\nimport { AddEngineActionHandler, AddEngineAction } from \"./AddEngineAction\"\nimport { SkipAddEngineActionHandler, SkipAddEngineAction } from \"./SkipAddEngineAction\"\n\nclass AppSetupActionNames {\n    static registerAdmin=\"registerAdmin\"\n    static addEngine = \"addEngine\"\n    static skipAddEngine = \"skipAddEngine\"\n\n}\nconst AppSetupReducerHandlers = {\n    [AppSetupActionNames.registerAdmin]: RegisterActionHandler,\n    [AppSetupActionNames.addEngine]: AddEngineActionHandler,\n    [AppSetupActionNames.skipAddEngine]: SkipAddEngineActionHandler\n}\n\nfunction AppSetupReducer(state, action) {\n    switch (action.type) {\n        case AppSetupActionNames.registerAdmin:\n            return RegisterAction(state, action.data)\n        case AppSetupActionNames.addEngine:\n            return AddEngineAction(state, action.data)\n        case AppSetupActionNames.skipAddEngine:\n            return SkipAddEngineAction(state, action.data)\n        default:\n            return state;\n    }\n}\n\nexport {\n    AppSetupActionNames,AppSetupReducerHandlers, AppSetupReducer\n}\n","import React, { useState, useContext, useEffect } from 'react';\nimport { Steps, Divider, PageHeader, Input, Form, Card, Button } from 'antd';\nimport { AppSetupContext } from '../app_setup';\nimport { AppSetupActionNames } from '../actions/app/AppSetupReducer';\nimport UIMaker from '../../UIMaker';\n\n\nfunction StepUserPassword() {\n\n    const { dispacher } = useContext(AppSetupContext)\n    const {formItemLayout,tailLayout} = UIMaker.formLayout1()\n\n    return <Form {...formItemLayout} className=\"login-form\" onFinish={(values) => {\n        dispacher({\n            type: AppSetupActionNames.registerAdmin,\n            data: values\n        })\n    }}>\n        <Form.Item\n            label=\"UserName\"\n            name=\"userName\"\n            rules={[\n                {\n                    required: true,\n                    message: 'Please input your username!',\n                },\n            ]}\n        >\n            <Input />\n        </Form.Item>\n\n        <Form.Item\n            label=\"Password\"\n            name=\"password\"\n            rules={[\n                {\n                    required: true,\n                    message: 'Please input your password!',\n                },\n            ]}\n        >\n            <Input.Password />\n        </Form.Item>\n        <Form.Item\n            label=\"Repeated Password\"\n            name=\"password2\"\n            rules={[\n                {\n                    required: true,\n                    message: 'Please input your password!',\n                },\n            ]}\n        >\n            <Input.Password />\n        </Form.Item>\n        <Form.Item {...tailLayout}>\n            <Button type=\"primary\" htmlType=\"submit\">\n                Go\n        </Button>\n        </Form.Item>\n    </Form>\n}\n\nexport default StepUserPassword","import React, { useState, useContext, useEffect } from 'react';\nimport { Steps, Divider, PageHeader, Input, Form, Card, Button } from 'antd';\nimport { AppSetupContext } from '../app_setup';\nimport { AppSetupActionNames } from '../actions/app/AppSetupReducer';\nimport UIMaker from '../../UIMaker';\n\n\nfunction AddEngines() {\n\n    const { dispacher } = useContext(AppSetupContext)\n    const {formItemLayout,tailLayout} = UIMaker.formLayout1()\n    const requireField = { required: true,\n        message: 'required'}\n\n    return <Form {...formItemLayout} className=\"login-form\" onFinish={(values) => {\n        dispacher({\n            type: AppSetupActionNames.addEngine,\n            data: values\n        })\n    }}>\n        <Form.Item\n            label=\"Engine Name\"\n            name=\"name\"\n            rules={[requireField]}\n        >\n            <Input />\n        </Form.Item>\n\n        <Form.Item\n            label=\"Engine Url\"\n            name=\"url\"\n            rules={[requireField]}\n        >\n            <Input/>\n        </Form.Item>\n\n        <Form.Item {...tailLayout}>\n            <Button type=\"primary\" htmlType=\"submit\">\n                Go\n        </Button>\n        <Divider type=\"vertical\"></Divider>\n        <Button onClick={\n            (e)=>{\n              e.preventDefault()              \n              dispacher({\n                type: AppSetupActionNames.skipAddEngine,\n                data: {}\n            })\n            }\n        } htmlType=\"submit\">\n                Skip\n        </Button>\n        </Form.Item>\n    </Form>\n}\n\nexport default AddEngines","import { AppEventConst } from \"./AppReducer\"\nimport ActionMaker from \"../../ActionMaker\"\n\nexport const {handler: AppConfiguredActionHandler,action:AppConfiguredAction} = ActionMaker.buildHandler((action) => {\n    return { data: action.data }\n})\n\nexport  const {handler: GoAdminActionHandler,action: GoAdminAction} = ActionMaker.buildHandler((action) => {\n    return { data: {appConfigured: true}}\n})\n\nexport  const {handler:GoConsoleActionHandler,action: GoConsoleAction} = ActionMaker.buildHandler((action) => {\n    return { data: {appConfigured: true} }\n})\n\n","import { GoConsoleAction, GoAdminActionHandler, GoConsoleActionHandler, GoAdminAction, AppConfiguredAction,AppConfiguredActionHandler } from \"./go\"\n\nclass AppActionNames {\n    \n    static GO_CONSOLE = \"goConsole\"\n    static GO_ADMIN = \"goAdmin\"\n    static appConfigured = \"appConfigured\"\n}\n\nconst AppReducerHandlers = {\n    [AppActionNames.GO_ADMIN]: GoAdminActionHandler,\n    [AppActionNames.GO_CONSOLE]: GoConsoleActionHandler,\n    [AppActionNames.appConfigured]: AppConfiguredActionHandler,\n}\n\nfunction AppReducer(state, action) {    \n    switch (action.type) {\n        case AppActionNames.GO_ADMIN:\n            return GoAdminAction(state, action.data)\n        case AppActionNames.GO_CONSOLE:\n            return GoConsoleAction(state, action.data)\n        case AppActionNames.appConfigured:\n            return AppConfiguredAction(state, action.data)\n        default:\n            return state;\n    }\n}\n\nexport { AppActionNames, AppReducer, AppReducerHandlers }","import React, { useState, useContext, useEffect } from 'react';\nimport { Alert, Button, Form, Divider } from 'antd';\nimport UIMaker from '../../UIMaker';\nimport { AppContext } from '../../../App';\nimport { AppActionNames } from '../../app/actions/AppReducer';\n\n\nfunction Done() {\n\n    const { dispacher } = useContext(AppContext)    \n    const {formItemLayout,tailLayout} = UIMaker.formLayout1()\n    return <>\n        <Alert\n            message=\"Congratuation!\"\n            description=\"You have finished the setup of MLSQL Console.\"\n            type=\"success\"\n        />\n        <Divider></Divider>\n        <Form {...formItemLayout}>\n            <Form.Item {...tailLayout}>\n                <Button type=\"primary\" onClick={\n                    ()=>{                        \n                        dispacher({\n                            type: AppActionNames.GO_ADMIN,\n                            data: {}\n                        })\n                    }\n                }>Go to Admin Page</Button>\n                <Divider type=\"vertical\" />\n                <Button onClick={\n                    ()=>{\n                        dispacher({\n                            type: AppActionNames.GO_CONSOLE,\n                            data: {}\n                        })\n                    }\n                }>Go to Console Page</Button>\n            </Form.Item>\n\n        </Form>\n    </>\n}\n\nexport default Done","import React, { useState, useReducer, useEffect } from 'react';\nimport { AppSetupReducer, AppSetupReducerHandlers } from './actions/app/AppSetupReducer';\nimport { Steps, Divider, PageHeader, Alert, Form, Card, Button } from 'antd';\nimport styled from \"styled-components\"\nimport StepUserPassword from './pages/StepUserPassword';\nimport AddEngines from './pages/AddEngines'\nimport { useReducerAsync } from \"use-reducer-async\"\nimport Done from './pages/Done';\nconst { Step } = Steps;\n\nconst AppSetupContainer = styled.div`\ndisplay: flex;\nflex-direction: column;\nwidth:100%;\njustify-content:center;\n align-items:  center;\n`\nconst AppSetupHeader = styled.div`\n  width:100%;\n  margin-top:6px;\n`\n\nconst AppSetupBody = styled.div`\n width:100%;\n display:flex;\n max-width: 800px;\n flex-direction: column;\n`\nconst initState = {\n    error: undefined,\n    current: 0\n}\nconst AppSetupContext = React.createContext()\n\nfunction AppSetup() {\n\n    const [state, dispacher] = useReducerAsync(AppSetupReducer, initState, AppSetupReducerHandlers)\n\n    const { error, current } = state\n\n    return (\n        <AppSetupContext.Provider value={{ dispacher }}>\n            <AppSetupContainer>\n                <AppSetupHeader>\n                    <PageHeader title=\"Setup MLSQL Console in 2 Steps\"></PageHeader>\n                </AppSetupHeader>\n                <Divider></Divider>\n                <AppSetupBody>\n                    <Steps current={current}>\n                        <Step title=\"Admin User/Password\" description=\"Setup Admin accout\" />\n                        <Step title=\"Add Engines\" description=\"Add default MLSQL Engine\" />\n                        <Step title=\"Done\" description=\"Congratuation\" />\n                    </Steps>\n                    <Divider></Divider>\n                    {error && <Alert\n                        message=\"Message\"\n                        description={error}\n                        type=\"error\"\n                        closable\n                    />}\n                    {\n                        current === 0 && <Card>\n                            <StepUserPassword></StepUserPassword>\n                        </Card>\n                    }\n                    {\n                        current === 1 && <Card>\n                            <AddEngines></AddEngines>\n                        </Card>\n                    }\n                    {\n                        current === 2 && <Card>\n                            <Done></Done>\n                        </Card>\n                    }\n                </AppSetupBody>\n\n            </AppSetupContainer>\n        </AppSetupContext.Provider>\n    )\n}\nexport default AppSetup\nexport {\n    AppSetupContext\n}","const zh_CN = {    \n    login: \"登录\",\n    register: \"注册\",\n    console: \"控制台\",\n    analysis_workshop: \"分析工坊\",\n    settings: \"设置\",\n    admin: \"管理员\",\n    more: \"更多\",\n    apply: \"应用\",\n    set_default_backend: \"设置默认Engine\",\n    set_default_backend_error: \"请选择一个引擎进行设置\",\n    set_engine: \"设置引擎\",\n    curent_value: \"当前值\",\n    choose: \"选择\",\n    done: \"完成\",\n    congratulation: \"恭喜\",\n    set_timeout: \"超时设置\",\n    set_apply_timeout: \"设置【应用】超时（单位秒）\",\n    table_workshop: \"暂存区\",\n    delta_lake: \"数据湖\",\n    file_system: \"文件系统\",\n    project: \"字段\",\n    filter: \"过滤\",\n    join: \"关联\",\n    window: \"窗口\",\n    dash: \"可视化\",\n    limit: \"条数\",\n    agg: \"聚合\",\n    order: \"排序\",\n    select_columns: \"筛选字段\",\n    rename_columns: \"重命名字段\",\n    transform_columns: \"转换字段\",\n    cast_columns_type: \"修改字段类型\",\n    \n}\nexport default zh_CN;","import React, { useState, useCallback, useEffect } from 'react';\nimport './App.scss';\nimport { AppConsole, AppConsoleContext } from './v1/app_console/AppConsole'\nimport { ActionProxy } from './backend_service/ActionProxy';\nimport RemoteAction from './backend_service/RemoteAction';\nimport AppSetup from './v1/app_setup/app_setup';\nimport { useReducerAsync } from 'use-reducer-async'\nimport { AppReducer, AppReducerHandlers, AppActionNames } from './v1/app/actions/AppReducer';\nimport SpinBox from './v1/SpinBox';\nimport { ConfigProvider } from 'antd';\nimport {IntlProvider} from \"react-intl\"\nimport zh_CN from './locale/zh_CN';\nimport en_US from './locale/en_US';\nimport AntZhCN from 'antd/lib/locale-provider/zh_CN';\n\nconst initState = {\n    appConfigured: false,\n    loading: true,\n    lang: zh_CN\n}\nconst AppContext = React.createContext()\nfunction App() {\n    const [state, dispacher] = useReducerAsync(AppReducer, initState, AppReducerHandlers)\n    const { appConfigured, loading,lang } = state\n\n    async function getAppInfo() {\n        const client = new ActionProxy()\n        const appInfo = await client.get(RemoteAction.APP_INFO, {})\n        if (appInfo.status === 200) {\n            dispacher({\n                type: AppActionNames.appConfigured,\n                data: { appConfigured: appInfo.content.configured, loading: false }\n            })\n        }\n\n    }\n\n    useEffect(() => {\n        getAppInfo()\n    }, [])\n\n    return (\n        <IntlProvider locale={lang} messages={lang}>\n        <ConfigProvider locale={AntZhCN}>\n            <AppContext.Provider value={{ dispacher }}>                \n                {loading && <SpinBox />}\n                {!loading && !appConfigured && <AppSetup />}\n                {!loading && appConfigured && <AppConsole />}\n            </AppContext.Provider>\n        </ConfigProvider>\n        </IntlProvider>\n\n    )\n}\nexport default App\nexport { AppContext }","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport \"antd/dist/antd.css\";\nimport './mlsql.scss';\nimport './index.scss';\n\nimport * as serviceWorker from './serviceWorker';\nimport App from \"./App\";\n\nReactDOM.render(\n    <App/>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","class ActionMaker {\n    static buildHandler(eventCallBack) {\n        return {\n            handler: ({ dispatch, getState, signal }) => {\n                const dispacher = dispatch\n                return async (action) => {\n                    const data = await eventCallBack({ ...action, __state: getState() })\n                    dispacher({\n                        type: action.type,\n                        ...data\n                    })\n                }\n            },\n            action: (state, data) => {\n                return { ...state, ...data }\n            }\n        }\n    }\n\n    static buildEvent(name, params) {\n        return {\n            type: name,\n            data: params\n        }\n    }\n}\n\nexport default ActionMaker","export default class RemoteAction {\n    static RUN = \"/api_v1/run/script\"\n    static USER_NAME = \"/api_v1/user/userName\"\n    static JOB_LIST = \"/api_v1/job/list\"\n    static JOB_DETAIL = \"/api_v1/job\"\n    static JOB_KILL = \"/api_v1/job/kill\"\n\n    static SAVE_SCRIPT_FILE = \"/api_v1/script_file\"\n\n    static ANALYSIS_TABLES = \"/api_v1/analysis/tables\"\n    static ANALYSIS_TABLE_INFO = \"/api_v1/analysis/table/get\"\n    static ANALYSIS_SAVE = \"/api_v1/analysis/tables/save\"\n\n    static APP_INFO = \"/api_v1/app\"\n    static APP_SAVE = \"/api_v1/app/save\"\n\n    static REGISTER = \"/api_v1/user/register\"\n    static LOGIN = \"/api_v1/user/login\"\n    static LOGOUT = \"/api_v1/user/logout\"\n\n    static ENGINE_ADD = \"/api_v1/engine/add\"\n    static ENGINE_LIST = \"/api_v1/engine/list\"\n\n    static SCRIPT_FILE_LIST = \"/api_v1/script_file\"\n\n    static SCRIPT_FILE_GET = \"/api_v1/script_file/get\"\n\n    static SCRIPT_FILE_REMOVE = \"/api_v1/script_file/remove\"\n\n    static PLUGIN_LIST = \"/api_v1/plugin/list\"\n    static PLUGIN_GET = \"/api_v1/plugin/get\"\n\n    static USER_EXTRA = \"/api_v1/user/extra/update\"\n\n    static APPLY_GET = \"/api_v1/analysis/apply\"\n\n\n}","export class LangKey{\n    static firstName = \"firstName\"   \n}\nexport class GlobalParamNames {\n    static USER_NAME = \"userName\"\n    static USER_ID = \"userId\"\n    static ADMIN_TOKEN = \"admin_token\"\n    static LOGIN_TOKEN = \"access-token\"\n}","import { BACKEND_URL, AccessToken } from './RestConst'\nimport { GlobalParamNames } from '../Dicts'\n\nexport class RestResponse {\n    constructor(status, content,response) {\n        this.status = status\n        this.content = content\n        this.resp = response\n    }\n}\n\nexport class Backend {\n\n    constructor(url, fetch_config = {}) {\n        this.url = url\n        if (!this.url) {\n            this.url = BACKEND_URL\n        }\n        this.fetch_config = fetch_config\n    }\n\n    async request(action, params, method = \"GET\") {\n        method = method.toUpperCase();\n        const userName = sessionStorage.getItem(GlobalParamNames.USER_NAME)\n        //const loginToken = sessionStorage.getItem(GlobalParamNames.LOGIN_TOKEN)\n        if (userName) {\n            params[GlobalParamNames.USER_NAME] = userName\n        }\n\n        // if (loginToken) {\n        //     params[GlobalParamNames.LOGIN_TOKEN] = loginToken\n        // }\n\n        let formBody = [];\n        for (let property in params) {\n            let encodedKey = encodeURIComponent(property);\n            let encodedValue = encodeURIComponent(params[property]);\n            formBody.push(encodedKey + \"=\" + encodedValue);\n        }\n        let newurl = this.url + action\n\n        if (formBody.length > 0) {\n            newurl = newurl + \"?\"\n        }\n\n        if (method === \"GET\") {\n            newurl = newurl + formBody.join(\"&\")\n            formBody = undefined\n        } else {\n            formBody = formBody.join(\"&\")\n        }\n\n        const basic_config = {\n            method: method,\n            timeout: 1000 * 60 * 60 * 24,\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded',\n                'Accept': 'application/json',\n                'Access-Token': sessionStorage.getItem(AccessToken) || ''\n            },\n            body: formBody\n        }\n\n        const final_config = { ...basic_config, ...this.fetch_config }\n\n        try {            \n            const response = await fetch(newurl, final_config);\n            if (!response.ok) {\n                const error = await response.text()\n                return new RestResponse(response.status, error);\n            }\n            const json = await response.json();\n            return new RestResponse(200, json,response);\n        } catch (err) {\n            return new RestResponse(500, err,undefined);\n        }\n    }\n}\n","import { RestResponse, Backend } from './backend/Backend'\nimport RemoteAction from './RemoteAction'\nimport { Method, Status } from './backend/RestConst'\n\n\nexport class ActionProxy {\n  static client = new ActionProxy()\n  constructor() {\n    this.backend = new Backend()\n  }\n\n  async userName() {\n    const res = await this.get(RemoteAction.USER_NAME, {})\n    return res\n  }\n\n  async runScript(sql, jobName, params) {\n    const res = await this.userName()\n    if (res.status !== 200) {\n      return res\n    }\n    const { userName, backendTags } = res.content\n\n    const finalParams = {\n      sql: sql,\n      owner: userName,\n      jobName: jobName,\n      sessionPerUser: true,\n      show_stack: true,\n      skipAuth: false,\n      tags: backendTags || \"\"\n    }\n    Object.assign(finalParams, params)\n    const temp = await this.post(RemoteAction.RUN, finalParams)\n    return temp\n  }\n\n  /**\n   * \n   * @param {string} action \n   * @param {{}} params \n   * @return {RestResponse}\n   */\n  async get(action, params) {\n    const res = await this.backend.request(action, params, Method.GET)\n    return res\n  }\n\n  /**\n   * \n   * @param {string} action \n   * @param {{}} params \n   * @returns {RestResponse}\n   */\n  async post(action, params) {\n    const res = await this.backend.request(action, params, Method.POST)\n    return res\n  }\n}\n\n","import ActionMaker from \"../../../ActionMaker\"\n\nexport const {handler:SetStateActionHandler,action:SetStateAction} = ActionMaker.buildHandler(async (action)=>{\n    return {        \n        data: {\n            ...action.data  \n        }\n    }\n})","export const BACKEND_SERVER = \"\";\nexport const BACKEND_URL = BACKEND_SERVER;\n\n\nexport class Method{\n    static GET = \"get\"\n    static POST = \"post\"\n    static PUT = \"put\"\n    static DELETE  = \"delete\"    \n}\n\nexport const Status = {\n    Success: 200,\n    BadRequest: 400,\n    Unauthorized: 401,\n    Forbidden: 404,\n    ServerError: 500\n}\n\nexport const AccessToken = {\n    name: \"access-token\"\n}\n\n"],"sourceRoot":""}